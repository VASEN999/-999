2025-04-24 15:40:33,802 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-24 15:40:33,802 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 15:40:33,804 - werkzeug - INFO -  * Restarting with stat
2025-04-24 15:40:33,957 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 15:40:33,961 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 15:40:39,378 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:40:39] "GET / HTTP/1.1" 200 -
2025-04-24 15:40:39,426 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:40:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 15:40:39,974 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:40:39] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 15:41:15,599 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-24 15:41:15,599 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-24 15:41:15,599 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=other
2025-04-24 15:41:15,599 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-24 15:41:15,600 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 15:41:15,600 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 15:41:15,600 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-24 15:41:15,600 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=other
2025-04-24 15:41:15,600 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-24 15:41:15,600 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-24 15:41:15,600 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-24 15:41:15,600 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 15:41:15,600 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 15:41:15,600 - app - INFO - 生成的居住证明材料:
2025-04-24 15:41:15,601 - app - INFO -   主申请人, 家庭成员1, 家庭成员2需要提供以下居住证明材料（选择一种即可）：
2025-04-24 15:41:15,601 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 15:41:15,601 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 15:41:15,601 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 15:41:15,601 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:41:15] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 15:45:27,281 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 15:45:27,281 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-24 15:45:27,281 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-24 15:45:27,282 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-24 15:45:27,282 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 15:45:27,282 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 15:45:27,282 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-24 15:45:27,282 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-24 15:45:27,282 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-24 15:45:27,282 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-24 15:45:27,282 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 15:45:27,282 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料', '4. 家庭成员2需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 15:45:27,282 - app - INFO - 生成的居住证明材料:
2025-04-24 15:45:27,283 - app - INFO -   主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：
2025-04-24 15:45:27,283 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 15:45:27,283 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 15:45:27,283 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 15:45:27,283 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:45:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 15:46:10,102 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-24 15:46:10,103 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 15:46:10,105 - werkzeug - INFO -  * Restarting with stat
2025-04-24 15:46:10,248 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 15:46:10,252 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 15:46:17,226 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:46:17] "GET / HTTP/1.1" 200 -
2025-04-24 15:46:17,280 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:46:17] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 15:46:17,365 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:46:17] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-24 15:46:32,168 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-24 15:46:32,169 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-24 15:46:32,169 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-24 15:46:32,169 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 15:46:32,169 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 15:46:32,169 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-24 15:46:32,169 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-24 15:46:32,169 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-24 15:46:32,169 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 15:46:32,169 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 15:46:32,170 - app - INFO - 生成的居住证明材料:
2025-04-24 15:46:32,170 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-24 15:46:32,170 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 15:46:32,170 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 15:46:32,170 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 15:46:32,170 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:46:32] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 15:53:03,516 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 15:53:03,517 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-24 15:53:03,517 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-24 15:53:03,517 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-24 15:53:03,517 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 15:53:03,517 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 15:53:03,517 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-24 15:53:03,518 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-24 15:53:03,518 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-24 15:53:03,518 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-24 15:53:03,518 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 15:53:03,518 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料', '4. 家庭成员2需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 15:53:03,518 - app - INFO - 生成的居住证明材料:
2025-04-24 15:53:03,518 - app - INFO -   主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：
2025-04-24 15:53:03,518 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 15:53:03,518 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 15:53:03,518 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 15:53:03,519 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 15:53:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 16:03:43,524 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-24 16:03:43,525 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 16:03:43,527 - werkzeug - INFO -  * Restarting with stat
2025-04-24 16:03:43,670 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 16:03:43,674 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 16:08:21,196 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 16:08:21] "GET / HTTP/1.1" 200 -
2025-04-24 16:08:21,245 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 16:08:21] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 16:08:21,355 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 16:08:21] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-24 16:08:47,449 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-24 16:08:47,449 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-24 16:08:47,449 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-24 16:08:47,449 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-24 16:08:47,449 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 16:08:47,450 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 16:08:47,450 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-24 16:08:47,450 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-24 16:08:47,450 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-24 16:08:47,450 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-24 16:08:47,450 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 16:08:47,450 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 16:08:47,450 - app - INFO - 生成的居住证明材料:
2025-04-24 16:08:47,450 - app - INFO -   主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：
2025-04-24 16:08:47,450 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 16:08:47,450 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 16:08:47,450 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 16:08:47,451 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 16:08:47] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 17:03:04,448 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-24 17:03:04,448 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-24 17:03:04,448 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-24 17:03:04,449 - app - INFO - 家庭成员2: 居住地=shanghai, 户籍地=shanghai
2025-04-24 17:03:04,449 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 17:03:04,449 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-24 17:03:04,449 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-24 17:03:04,449 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-24 17:03:04,449 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-24 17:03:04,449 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=shanghai, hukou=shanghai
2025-04-24 17:03:04,449 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（全部需要提供）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 17:03:04,450 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（全部需要提供）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 17:03:04,450 - app - INFO - 生成的居住证明材料:
2025-04-24 17:03:04,450 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（全部需要提供）：
2025-04-24 17:03:04,450 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 17:03:04,450 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:03:04,450 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:03:04,450 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:03:04] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 17:03:26,703 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-24 17:03:26,704 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-24 17:03:26,704 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-24 17:03:26,704 - app - INFO - 家庭成员2: 居住地=shanghai, 户籍地=shanghai
2025-04-24 17:03:26,704 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 17:03:26,704 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-24 17:03:26,704 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-24 17:03:26,704 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-24 17:03:26,704 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-24 17:03:26,704 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=shanghai, hukou=shanghai
2025-04-24 17:03:26,704 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（全部需要提供）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 17:03:26,704 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（全部需要提供）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 17:03:26,704 - app - INFO - 生成的居住证明材料:
2025-04-24 17:03:26,705 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（全部需要提供）：
2025-04-24 17:03:26,705 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 17:03:26,705 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:03:26,705 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:03:26,705 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:03:26] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 17:05:35,381 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/residence_materials.py', reloading
2025-04-24 17:05:35,458 - werkzeug - INFO -  * Restarting with stat
2025-04-24 17:05:35,771 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 17:05:35,775 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 17:05:56,818 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/tests/test_residence_materials.py', reloading
2025-04-24 17:05:56,873 - werkzeug - INFO -  * Restarting with stat
2025-04-24 17:05:57,113 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 17:05:57,116 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 17:07:15,260 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/tests/test_residence_materials.py', reloading
2025-04-24 17:07:15,287 - werkzeug - INFO -  * Restarting with stat
2025-04-24 17:07:15,430 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 17:07:15,434 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 17:08:22,303 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:08:22] "GET / HTTP/1.1" 200 -
2025-04-24 17:08:22,345 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:08:22] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 17:08:23,395 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:08:23] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 17:08:40,986 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-24 17:08:40,987 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-24 17:08:40,987 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-24 17:08:40,987 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 17:08:40,987 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-24 17:08:40,987 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-24 17:08:40,987 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-24 17:08:40,987 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 17:08:40,987 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 17:08:40,987 - app - INFO - 生成的居住证明材料:
2025-04-24 17:08:40,987 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-24 17:08:40,988 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 17:08:40,988 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:08:40,988 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:08:40,988 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:08:40] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 17:10:17,157 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-24 17:10:17,157 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 17:10:17,160 - werkzeug - INFO -  * Restarting with stat
2025-04-24 17:10:17,308 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 17:10:17,313 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 17:10:19,459 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:10:19] "GET / HTTP/1.1" 200 -
2025-04-24 17:10:19,517 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:10:19] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 17:10:19,653 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:10:19] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 17:10:27,146 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 17:10:27,147 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 17:10:27,147 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-24 17:10:27,147 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 17:10:27,147 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 17:10:27,147 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 17:10:27,147 - app - INFO - 生成的居住证明材料:
2025-04-24 17:10:27,147 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 17:10:27,148 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 17:10:27,148 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:10:27,148 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:10:27,148 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:10:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 17:10:40,822 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 17:10:40,822 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-24 17:10:40,822 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 17:10:40,822 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-24 17:10:40,822 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 17:10:40,822 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）', '所有家属也需要提供上述居住证明材料'], '家属材料': ['家属绑签所需材料：', '基础材料', '主申请人之前申请的经济材料', '主申护照首页和签证页复印件', '关系证明', '需提供与配偶的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 17:10:40,823 - app - INFO - 生成的居住证明材料:
2025-04-24 17:10:40,823 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 17:10:40,823 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 17:10:40,823 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:10:40,823 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 17:10:40,823 - app - INFO -   所有家属也需要提供上述居住证明材料
2025-04-24 17:10:40,823 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 17:10:40] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:00:02,700 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-24 18:00:02,729 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:00:02,875 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:00:02,879 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:00:13,904 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/family_materials.py', reloading
2025-04-24 18:00:13,931 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:00:14,078 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:00:14,081 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:00:24,108 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/family_materials.py', reloading
2025-04-24 18:00:24,134 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:00:24,277 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:00:24,281 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:02:10,473 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-24 18:02:10,500 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:02:10,647 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:02:10,651 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:04:05,859 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:04:05] "GET / HTTP/1.1" 200 -
2025-04-24 18:04:05,907 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:04:05] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:04:07,119 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:04:07] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:04:20,148 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:04:20,149 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-24 18:04:20,149 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 18:04:20,149 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-24 18:04:20,149 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:04:20,149 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）', '所有家属也需要提供上述居住证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:04:20,150 - app - INFO - 生成的居住证明材料:
2025-04-24 18:04:20,150 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:04:20,150 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:04:20,150 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:04:20,150 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:04:20,150 - app - INFO -   所有家属也需要提供上述居住证明材料
2025-04-24 18:04:20,150 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:04:20] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:06:10,092 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-24 18:06:10,121 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:06:10,265 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:06:10,269 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:06:59,362 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-24 18:06:59,390 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:06:59,538 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:06:59,544 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:07:01,892 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:07:01] "GET / HTTP/1.1" 200 -
2025-04-24 18:07:01,940 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:07:01] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:07:02,565 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:07:02] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:07:18,874 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:07:18,874 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-24 18:07:18,874 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-24 18:07:18,874 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-24 18:07:18,874 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:07:18,874 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）', '所有家属也需要提供上述居住证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:07:18,874 - app - INFO - 生成的居住证明材料:
2025-04-24 18:07:18,874 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:07:18,874 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:07:18,875 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:07:18,875 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:07:18,875 - app - INFO -   所有家属也需要提供上述居住证明材料
2025-04-24 18:07:18,875 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:07:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:09:06,558 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 18:09:06,559 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:09:06,559 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-24 18:09:06,559 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 18:09:06,559 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-24 18:09:06,559 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:09:06,559 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:09:06] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:10:11,892 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 18:10:11,892 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:10:11,892 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-24 18:10:11,892 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 18:10:11,892 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:10:11,892 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:10:11,892 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:10:11,893 - app - INFO - 生成的居住证明材料:
2025-04-24 18:10:11,893 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:10:11,893 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:10:11,893 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:10:11,893 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:10:11,893 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:10:11] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:10:32,070 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 18:10:32,070 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:10:32,070 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-24 18:10:32,070 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-24 18:10:32,070 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:10:32,070 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:10:32,070 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:10:32,071 - app - INFO - 生成的居住证明材料:
2025-04-24 18:10:32,071 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:10:32,071 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:10:32,071 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:10:32,071 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:10:32,071 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:10:32] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:18:37,824 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-24 18:18:37,858 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:18:38,006 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:18:38,010 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:18:42,972 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 18:18:42,973 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:18:42,973 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-24 18:18:42,973 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-24 18:18:42,973 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:18:42,973 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:18:42,973 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:18:42,974 - app - INFO - 生成的居住证明材料:
2025-04-24 18:18:42,974 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:18:42,974 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:18:42,974 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:18:42,974 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:18:42,974 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:18:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:18:48,633 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:18:48] "GET / HTTP/1.1" 200 -
2025-04-24 18:18:48,685 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:18:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:18:48,775 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:18:48] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:18:59,581 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:18:59,582 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:18:59,582 - document_generator.identity_materials - DEBUG - 为身份 CHILD 生成身份材料: []
2025-04-24 18:18:59,582 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-24 18:18:59,582 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:18:59,582 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）', '持签人家属需提供上述居住材料之一'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:18:59,582 - app - INFO - 生成的居住证明材料:
2025-04-24 18:18:59,582 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:18:59,582 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:18:59,582 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:18:59,583 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:18:59,583 - app - INFO -   持签人家属需提供上述居住材料之一
2025-04-24 18:18:59,583 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:18:59] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:23:03,494 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/residence_materials.py', reloading
2025-04-24 18:23:03,521 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:23:03,668 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:23:03,672 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:23:13,695 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-24 18:23:13,726 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:23:13,879 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:23:13,883 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:24:28,020 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/residence_materials.py', reloading
2025-04-24 18:24:28,047 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:24:28,197 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:24:28,201 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:24:44,765 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:24:44] "GET / HTTP/1.1" 200 -
2025-04-24 18:24:44,827 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:24:44] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:24:44,907 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:24:44] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:24:55,105 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:24:55,105 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-24 18:24:55,105 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-24 18:24:55,105 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:24:55,105 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:24:55,105 - app - INFO - 生成的居住证明材料:
2025-04-24 18:24:55,105 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-24 18:24:55,105 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:24:55,105 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:24:55,105 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:24:55,106 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:24:55] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:38:08,109 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:38:08] "GET / HTTP/1.1" 200 -
2025-04-24 18:38:08,143 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:38:08] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:38:09,232 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:38:09] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-24 18:38:18,772 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 18:38:18,772 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:38:18,772 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 18:38:18,772 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:38:18,772 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:38:18,772 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:38:18,772 - app - INFO - 生成的居住证明材料:
2025-04-24 18:38:18,773 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:38:18,773 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:38:18,773 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:38:18,773 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:38:18,773 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:38:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:41:13,244 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-24 18:41:13,244 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:41:13,244 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-24 18:41:13,244 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:41:13,245 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:41:13,245 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:41:13,245 - app - INFO - 生成的居住证明材料:
2025-04-24 18:41:13,245 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:41:13,245 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:41:13,245 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:41:13,245 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:41:13,246 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:41:13] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:41:18,713 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:41:18] "GET / HTTP/1.1" 200 -
2025-04-24 18:41:18,744 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:41:18] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:41:19,345 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:41:19] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-24 18:41:29,669 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-24 18:41:29,669 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:41:29,670 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-24 18:41:29,670 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:41:29,670 - document_generator.residence_materials - INFO - 在读大学生不需要额外的居住证明
2025-04-24 18:41:29,670 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:41:29,670 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:41:29] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:41:52,834 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-24 18:41:52,834 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:41:52,834 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-24 18:41:52,834 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:41:52,835 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:41:52,835 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:41:52,835 - app - INFO - 生成的居住证明材料:
2025-04-24 18:41:52,835 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:41:52,835 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:41:52,835 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:41:52,835 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:41:52,835 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:41:52] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:42:50,269 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/tests/test_residence_materials.py', reloading
2025-04-24 18:42:50,297 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:42:50,472 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:42:50,478 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:42:55,961 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:42:55] "GET / HTTP/1.1" 200 -
2025-04-24 18:42:56,015 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:42:56] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:42:56,119 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:42:56] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:43:05,434 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-24 18:43:05,435 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:43:05,435 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-24 18:43:05,435 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:43:05,435 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:43:05,435 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:43:05,435 - app - INFO - 生成的居住证明材料:
2025-04-24 18:43:05,435 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:43:05,435 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:43:05,435 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:43:05,435 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:43:05,436 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:43:05] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:43:12,744 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-24 18:43:12,744 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:43:12,744 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-24 18:43:12,744 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:43:12,744 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:43:12,744 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:43:12,745 - app - INFO - 生成的居住证明材料:
2025-04-24 18:43:12,745 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:43:12,745 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:43:12,745 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:43:12,745 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:43:12,745 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:43:12] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:44:15,640 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/tests/test_residence_materials.py', reloading
2025-04-24 18:44:15,673 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:44:15,955 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:44:15,966 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:44:46,754 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:44:46] "GET / HTTP/1.1" 200 -
2025-04-24 18:44:46,793 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:44:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:44:47,312 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:44:47] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:44:53,740 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:44:53,740 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:44:53,740 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 18:44:53,740 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:44:53,740 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:44:53,740 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:44:53,741 - app - INFO - 生成的居住证明材料:
2025-04-24 18:44:53,741 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:44:53,741 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:44:53,741 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:44:53,741 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:44:53,741 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:44:53] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:45:17,229 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:45:17,229 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:45:17,229 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 18:45:17,229 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:45:17,229 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:45:17,229 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:45:17,230 - app - INFO - 生成的居住证明材料:
2025-04-24 18:45:17,230 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:45:17,230 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:45:17,230 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:45:17,230 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:45:17,230 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:45:17] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:47:12,169 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "TAX"}
2025-04-24 18:47:12,170 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:47:12,170 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-24 18:47:12,170 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-24 18:47:12,170 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:47:12,170 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:47:12] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:47:18,797 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "TAX"}
2025-04-24 18:47:18,797 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:47:18,797 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于800元的税单（上海领区）']
2025-04-24 18:47:18,797 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:47:18,797 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:47:18,797 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于800元的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:47:18,798 - app - INFO - 生成的居住证明材料:
2025-04-24 18:47:18,798 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:47:18,798 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:47:18,798 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:47:18,798 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:47:18,798 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:47:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:47:30,319 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-24 18:47:30,319 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:47:30,319 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单']
2025-04-24 18:47:30,319 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-24 18:47:30,319 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:47:30,319 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:47:30] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:50:43,822 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-24 18:50:43,822 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 18:50:43,824 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:50:43,978 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:50:43,982 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:50:48,016 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:50:48] "GET / HTTP/1.1" 200 -
2025-04-24 18:50:48,052 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:50:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:50:49,073 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:50:49] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:50:55,057 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-24 18:50:55,057 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:50:55,057 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单']
2025-04-24 18:50:55,057 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:50:55,058 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:50:55,058 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于3万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:50:55,058 - app - INFO - 生成的居住证明材料:
2025-04-24 18:50:55,058 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:50:55,058 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:50:55,058 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:50:55,058 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:50:55,059 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:50:55] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:52:21,367 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-24 18:52:21,367 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:52:21,367 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单']
2025-04-24 18:52:21,367 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:52:21,367 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:52:21,368 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:52:21,368 - app - INFO - 生成的居住证明材料:
2025-04-24 18:52:21,368 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:52:21,368 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:52:21,368 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:52:21,368 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:52:21,368 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:52:21] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:56:45,638 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-24 18:56:45,665 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:56:45,811 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:56:45,815 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:57:38,919 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-24 18:57:38,946 - werkzeug - INFO -  * Restarting with stat
2025-04-24 18:57:39,091 - werkzeug - WARNING -  * Debugger is active!
2025-04-24 18:57:39,095 - werkzeug - INFO -  * Debugger PIN: 142-606-387
2025-04-24 18:57:42,838 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:57:42] "GET / HTTP/1.1" 200 -
2025-04-24 18:57:42,910 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:57:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-24 18:57:43,967 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:57:43] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-24 18:57:51,325 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-24 18:57:51,325 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-24 18:57:51,325 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-24 18:57:51,325 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-24 18:57:51,325 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-24 18:57:51,325 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:57:51,326 - app - INFO - 生成的居住证明材料:
2025-04-24 18:57:51,326 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:57:51,326 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-24 18:57:51,326 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-24 18:57:51,326 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-24 18:57:51,326 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:57:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:58:05,969 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-24 18:58:05,969 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:58:05,969 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-24 18:58:05,969 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:58:05,969 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:58:05,969 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:58:05,969 - app - INFO - 生成的居住证明材料:
2025-04-24 18:58:05,969 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:58:05,970 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:58:05,970 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:58:05,970 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:58:05,970 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:58:05] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:58:12,323 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-24 18:58:12,324 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:58:12,324 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-24 18:58:12,324 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:58:12,324 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:58:12,324 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:58:12,324 - app - INFO - 生成的居住证明材料:
2025-04-24 18:58:12,324 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:58:12,324 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:58:12,324 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:58:12,324 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:58:12,325 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:58:12] "POST /api/generate HTTP/1.1" 200 -
2025-04-24 18:58:32,336 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-24 18:58:32,337 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-24 18:58:32,337 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水10万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-24 18:58:32,337 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-24 18:58:32,337 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-24 18:58:32,337 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['年工资流水10万以上（需可以验证，并仅统计能确认是工资收入的项）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-24 18:58:32,337 - app - INFO - 生成的居住证明材料:
2025-04-24 18:58:32,337 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-24 18:58:32,337 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-24 18:58:32,337 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:58:32,337 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-24 18:58:32,338 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 18:58:32] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 09:34:25,069 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 09:34:25,069 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 09:34:25,072 - werkzeug - INFO -  * Restarting with stat
2025-04-25 09:34:25,213 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 09:34:25,217 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 09:37:12,520 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-25 09:37:12,570 - werkzeug - INFO -  * Restarting with stat
2025-04-25 09:37:12,714 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 09:37:12,718 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 09:37:58,042 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 09:37:58,042 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 09:37:58,045 - werkzeug - INFO -  * Restarting with stat
2025-04-25 09:37:58,185 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 09:37:58,189 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 09:39:14,602 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 09:39:14,603 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 09:39:14,605 - werkzeug - INFO -  * Restarting with stat
2025-04-25 09:39:14,751 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 09:39:14,755 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 09:42:12,081 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/debug_residence.py', reloading
2025-04-25 09:42:12,105 - werkzeug - INFO -  * Restarting with stat
2025-04-25 09:42:12,253 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 09:42:12,258 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 09:44:01,398 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 09:44:01,399 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 09:44:01,402 - werkzeug - INFO -  * Restarting with stat
2025-04-25 09:44:01,547 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 09:44:01,561 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 09:59:40,455 - werkzeug - INFO - 127.0.0.1 - - [25/Apr/2025 09:59:40] "HEAD / HTTP/1.1" 200 -
2025-04-25 10:01:03,371 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 10:01:03,371 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 10:01:03,373 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:01:03,521 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:01:03,525 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:13:07,240 - werkzeug - INFO - 127.0.0.1 - - [25/Apr/2025 10:13:07] "GET / HTTP/1.1" 200 -
2025-04-25 10:14:06,059 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:14:06] "GET / HTTP/1.1" 200 -
2025-04-25 10:14:06,123 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:14:06] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-25 10:14:07,190 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:14:07] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 10:14:08,300 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:14:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-25 10:15:21,854 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 10:15:21,854 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:15:21,854 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 10:15:21,854 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:15:21,854 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:15:21,854 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:15:21,854 - app - INFO - 生成的居住证明材料:
2025-04-25 10:15:21,854 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:15:21,854 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:15:21,855 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:15:21,855 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:15:21,855 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:15:21] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:15:32,150 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 10:15:32,151 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 10:15:32,151 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 10:15:32,151 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 10:15:32,151 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 10:15:32,151 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:15:32,152 - app - INFO - 生成的居住证明材料:
2025-04-25 10:15:32,152 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:15:32,152 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 10:15:32,152 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:15:32,152 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:15:32,152 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:15:32] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:16:47,322 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:16:47] "GET / HTTP/1.1" 200 -
2025-04-25 10:16:47,388 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:16:47] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:16:48,143 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:16:48] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 10:16:58,996 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:16:58,996 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:16:58,996 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:16:58,996 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:16:58,996 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:16:58,996 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:16:58,996 - app - INFO - 生成的居住证明材料:
2025-04-25 10:16:58,996 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:16:58,997 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:16:58,997 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:16:58,997 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:16:58,997 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:16:58] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:18:09,384 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-25 10:18:09,411 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:18:09,556 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:18:09,559 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:18:18,623 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:18:18,623 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 10:18:18,623 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:18:18,623 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 10:18:18,623 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 10:18:18,624 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:18:18,624 - app - INFO - 生成的居住证明材料:
2025-04-25 10:18:18,624 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:18:18,624 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 10:18:18,624 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:18:18,624 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:18:18,624 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:18:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:19:39,727 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-25 10:19:39,810 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:19:40,035 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:19:40,039 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:19:44,634 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:19:44] "GET / HTTP/1.1" 200 -
2025-04-25 10:19:44,688 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:19:44] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:19:45,162 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:19:45] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:19:51,366 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:19:51,366 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:19:51,366 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:19:51,366 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:19:51,366 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:19:51,366 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:19:51,367 - app - INFO - 生成的居住证明材料:
2025-04-25 10:19:51,367 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:19:51,367 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:19:51,367 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:19:51,367 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:19:51,367 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:19:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:20:09,278 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:20:09,278 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 10:20:09,278 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-25 10:20:09,278 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 10:20:09,279 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 10:20:09,279 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:20:09,279 - app - INFO - 生成的居住证明材料:
2025-04-25 10:20:09,279 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:20:09,279 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 10:20:09,279 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:20:09,279 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:20:09,279 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:20:09] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:21:08,684 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 10:21:08,684 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 10:21:08,684 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 10:21:08,684 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 10:21:08,684 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 10:21:08,685 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:21:08,685 - app - INFO - 生成的居住证明材料:
2025-04-25 10:21:08,685 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:21:08,685 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 10:21:08,685 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:21:08,685 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:21:08,686 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:21:08] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:21:20,204 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:21:20,204 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 10:21:20,204 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:21:20,204 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 10:21:20,205 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 10:21:20,205 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:21:20,205 - app - INFO - 生成的居住证明材料:
2025-04-25 10:21:20,205 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:21:20,205 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 10:21:20,205 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:21:20,205 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:21:20,205 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:21:20] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:23:45,673 - werkzeug - INFO - 220.196.160.83 - - [25/Apr/2025 10:23:45] "GET / HTTP/1.1" 200 -
2025-04-25 10:23:46,565 - werkzeug - INFO - 220.196.160.146 - - [25/Apr/2025 10:23:46] "GET / HTTP/1.1" 200 -
2025-04-25 10:23:46,756 - werkzeug - INFO - 220.196.160.146 - - [25/Apr/2025 10:23:46] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-25 10:23:46,906 - werkzeug - INFO - 220.196.160.146 - - [25/Apr/2025 10:23:46] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 10:23:47,048 - werkzeug - INFO - 180.101.244.12 - - [25/Apr/2025 10:23:47] "GET / HTTP/1.1" 200 -
2025-04-25 10:24:19,041 - werkzeug - INFO - 220.196.160.76 - - [25/Apr/2025 10:24:19] "[31m[1mGET /api/generate HTTP/1.1[0m" 405 -
2025-04-25 10:25:53,723 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-25 10:25:53,753 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:25:53,907 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:25:53,911 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:27:11,055 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-25 10:27:11,081 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:27:11,227 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:27:11,231 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:27:12,990 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:27:12] "GET / HTTP/1.1" 200 -
2025-04-25 10:27:13,067 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:27:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:27:13,882 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:27:13] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:27:19,668 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:27:19,668 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 10:27:19,669 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 10:27:19,669 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 10:27:19,669 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 10:27:19,669 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:27:19,669 - app - INFO - 生成的居住证明材料:
2025-04-25 10:27:19,669 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:27:19,669 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 10:27:19,669 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:27:19,669 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 10:27:19,669 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:27:19] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:27:33,108 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:27:33,108 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:27:33,108 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:27:33,108 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:27:33,108 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:27:33,108 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:27:33,109 - app - INFO - 生成的居住证明材料:
2025-04-25 10:27:33,109 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:27:33,109 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:27:33,109 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:27:33,109 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:27:33,109 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:27:33] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:34:24,021 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 10:34:24,123 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:34:24,295 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:34:24,300 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:35:33,118 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:35:33] "GET / HTTP/1.1" 200 -
2025-04-25 10:35:33,177 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:35:33] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:35:33,777 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:35:33] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:35:42,085 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:35:42,085 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:35:42,085 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:35:42,085 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:35:42,085 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:35:42,086 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 10:35:42,086 - app - INFO - 生成的居住证明材料:
2025-04-25 10:35:42,086 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:35:42,086 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:35:42,086 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:35:42,086 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:35:42,087 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:35:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:35:51,099 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:35:51,099 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:35:51,099 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 10:35:51,099 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:35:51,099 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:35:51,099 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:35:51,100 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:35:51,100 - app - INFO - 生成的居住证明材料:
2025-04-25 10:35:51,100 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:35:51,100 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:35:51,100 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:35:51,100 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:35:51,100 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:35:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:36:05,073 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:36:05,073 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:36:05,073 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 10:36:05,073 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:36:05,073 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:36:05,073 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:36:05,073 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:36:05,073 - app - INFO - 生成的居住证明材料:
2025-04-25 10:36:05,074 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:36:05,074 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:36:05,074 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:36:05,074 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:36:05,074 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:36:05] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:41:07,029 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 10:41:07,060 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:41:07,207 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:41:07,211 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:42:26,369 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:42:26] "GET / HTTP/1.1" 200 -
2025-04-25 10:42:26,438 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:42:26] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:42:27,260 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:42:27] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:42:37,134 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:42:37,134 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:42:37,135 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:42:37,135 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:42:37,135 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:42:37,135 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 10:42:37,135 - app - INFO - 生成的居住证明材料:
2025-04-25 10:42:37,135 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:42:37,135 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:42:37,135 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:42:37,135 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:42:37,136 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:42:37] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:42:45,389 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:42:45,389 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:42:45,389 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 10:42:45,390 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:42:45,390 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:42:45,390 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:42:45,390 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:42:45,390 - app - INFO - 生成的居住证明材料:
2025-04-25 10:42:45,390 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:42:45,390 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:42:45,390 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:42:45,390 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:42:45,390 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:42:45] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:43:06,832 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:43:06,832 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:43:06,832 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 10:43:06,833 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:43:06,833 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单']
2025-04-25 10:43:06,833 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 10:43:06,833 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 10:43:06,833 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 10:43:06,833 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:43:06,833 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件', '4. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:43:06,833 - app - INFO - 生成的居住证明材料:
2025-04-25 10:43:06,833 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 10:43:06,833 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:43:06,833 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:43:06,833 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:43:06,834 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:43:06] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:43:20,681 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:43:20,681 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:43:20,681 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 10:43:20,681 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:43:20,681 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 10:43:20,681 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:43:20,681 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 10:43:20,681 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 10:43:20,681 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 10:43:20,682 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:43:20,682 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:43:20,682 - app - INFO - 生成的居住证明材料:
2025-04-25 10:43:20,682 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 10:43:20,682 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:43:20,682 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:43:20,682 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:43:20,682 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:43:20] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:43:48,337 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:43:48,338 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:43:48,338 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 10:43:48,338 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:43:48,338 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 10:43:48,338 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:43:48,338 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:43:48,338 - app - INFO - 生成的居住证明材料:
2025-04-25 10:43:48,338 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:43:48,338 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:43:48,338 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:43:48,339 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:43:48,339 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:43:48] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:44:04,361 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:44:04,361 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:44:04,361 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 10:44:04,361 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:44:04,362 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单']
2025-04-25 10:44:04,362 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 10:44:04,362 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 10:44:04,362 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 10:44:04,362 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:44:04,362 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '税单要求：金额大于1万的税单'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件', '4. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:44:04,362 - app - INFO - 生成的居住证明材料:
2025-04-25 10:44:04,362 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 10:44:04,362 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:44:04,363 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:44:04,363 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:44:04,363 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:44:04] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:46:20,784 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:46:20] "GET / HTTP/1.1" 200 -
2025-04-25 10:46:20,907 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:46:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:46:21,689 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:46:21] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:46:47,915 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 10:46:47,916 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 10:46:47,918 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:46:48,066 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:46:48,069 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:46:52,504 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:46:52] "GET / HTTP/1.1" 200 -
2025-04-25 10:46:52,637 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:46:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:46:52,942 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:46:52] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:47:17,203 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 10:47:17,203 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:47:17,204 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 10:47:17,204 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:47:17,204 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 10:47:17,204 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 10:47:17,204 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 10:47:17,204 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 10:47:17,204 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:47:17,204 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:47:17,204 - app - INFO - 生成的居住证明材料:
2025-04-25 10:47:17,204 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:47:17,204 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:47:17,204 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:47:17,205 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:47:17,205 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:17] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:47:36,900 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 10:47:36,900 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:47:36,900 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 10:47:36,900 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:47:36,900 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 10:47:36,900 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 10:47:36,900 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 10:47:36,901 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 10:47:36,901 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:47:36,901 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:47:36,901 - app - INFO - 生成的居住证明材料:
2025-04-25 10:47:36,901 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:47:36,901 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:47:36,901 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:47:36,901 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:47:36,901 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:36] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:47:44,226 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:44] "GET / HTTP/1.1" 200 -
2025-04-25 10:47:44,286 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:44] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:47:44,684 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:44] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:47:50,046 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 10:47:50,046 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:47:50,046 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 10:47:50,046 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-25 10:47:50,046 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:47:50,046 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:50] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:47:58,496 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-25 10:47:58,496 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:47:58,496 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-25 10:47:58,496 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-25 10:47:58,496 - document_generator.residence_materials - INFO - 在读大学生不需要额外的居住证明
2025-04-25 10:47:58,496 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 10:47:58,497 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:47:58] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:48:19,988 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 10:48:19,988 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:48:19,988 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 10:48:19,988 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:48:19,988 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 10:48:19,988 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 10:48:19,988 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 10:48:19,988 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 10:48:19,988 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:48:19,989 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件', '4. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:48:19,989 - app - INFO - 生成的居住证明材料:
2025-04-25 10:48:19,989 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:48:19,989 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:48:19,989 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:48:19,989 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:48:19,989 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:48:19] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:51:59,631 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/family_materials.py', reloading
2025-04-25 10:51:59,660 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:51:59,806 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:51:59,810 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:53:54,210 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:53:54] "GET / HTTP/1.1" 200 -
2025-04-25 10:53:54,285 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:53:54] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 10:53:55,247 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:53:55] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 10:54:11,558 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 10:54:11,558 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:54:11,558 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 10:54:11,558 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:54:11,558 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 10:54:11,558 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 10:54:11,558 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 10:54:11,559 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 10:54:11,559 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:54:11,559 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:54:11,559 - app - INFO - 生成的居住证明材料:
2025-04-25 10:54:11,559 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 10:54:11,559 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:54:11,559 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:54:11,559 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:54:11,559 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:54:11] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:54:55,580 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 10:54:55,580 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 10:54:55,580 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 10:54:55,580 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 10:54:55,580 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 10:54:55,581 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 10:54:55,581 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 10:54:55,581 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 10:54:55,581 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 10:54:55,581 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 10:54:55,581 - app - INFO - 生成的居住证明材料:
2025-04-25 10:54:55,581 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 10:54:55,581 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 10:54:55,581 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 10:54:55,581 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 10:54:55,582 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 10:54:55] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 10:59:10,597 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/residence_materials.py', reloading
2025-04-25 10:59:10,625 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:59:10,769 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:59:10,773 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 10:59:28,811 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-25 10:59:28,838 - werkzeug - INFO -  * Restarting with stat
2025-04-25 10:59:28,984 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 10:59:28,988 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:00:56,148 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/residence_materials.py', reloading
2025-04-25 11:00:56,175 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:00:56,320 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:00:56,324 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:02:52,163 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:02:52] "GET / HTTP/1.1" 200 -
2025-04-25 11:02:52,234 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:02:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:02:53,055 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:02:53] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:02:58,583 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:02:58,583 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:02:58,583 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:02:58,583 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-25 11:02:58,584 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:02:58,584 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:02:58] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:03:03,624 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:03:03,624 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:03:03,624 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:03:03,624 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 11:03:03,624 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:03:03,624 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:03:03,625 - app - INFO - 生成的居住证明材料:
2025-04-25 11:03:03,625 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 11:03:03,625 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:03:03,625 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:03:03,625 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:03:03,625 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:03:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:03:10,112 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:03:10,113 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 11:03:10,113 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 11:03:10,113 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 11:03:10,113 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 11:03:10,113 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:03:10,113 - app - INFO - 生成的居住证明材料:
2025-04-25 11:03:10,113 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 11:03:10,113 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 11:03:10,114 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 11:03:10,114 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 11:03:10,114 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:03:10] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:03:27,125 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:03:27,126 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:03:27,126 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:03:27,126 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:03:27,126 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:03:27,126 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 11:03:27,126 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:03:27,126 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:03:27,126 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:03:27,126 - app - INFO - 生成的居住证明材料:
2025-04-25 11:03:27,126 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:03:27,126 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:03:27,126 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:03:27,127 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:03:27,127 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:03:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:03:40,389 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:03:40,389 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:03:40,389 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:03:40,389 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:03:40,389 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:03:40,389 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:03:40,389 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:03:40,390 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:03:40,390 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:03:40,390 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:03:40] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:03:52,619 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 11:03:52,619 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:03:52,619 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:03:52,619 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:03:52,619 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:03:52,619 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:03:52,619 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:03:52,619 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:03:52,619 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件', '4. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:03:52,620 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:03:52] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:04:09,133 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 11:04:09,133 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:04:09,133 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:04:09,133 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:04:09,133 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:04:09,133 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:04:09,133 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:04:09,133 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:04:09,134 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件', '4. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:04:09,134 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:04:09] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:05:10,168 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 11:05:10,169 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:05:10,169 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 11:05:10,169 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:05:10,169 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 11:05:10,169 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:05:10,169 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:05:10,169 - app - INFO - 生成的居住证明材料:
2025-04-25 11:05:10,169 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 11:05:10,169 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:05:10,169 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:05:10,169 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:05:10,170 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:05:10] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:05:22,141 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 11:05:22,142 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:05:22,142 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 11:05:22,142 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:05:22,142 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 11:05:22,142 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:05:22,142 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:05:22,142 - app - INFO - 生成的居住证明材料:
2025-04-25 11:05:22,142 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 11:05:22,142 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:05:22,142 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:05:22,142 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:05:22,143 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:05:22] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:08:44,253 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 11:08:44,253 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:08:44,253 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:08:44,253 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:08:44,253 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 11:08:44,254 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:08:44,254 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:08:44,254 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:08:44,254 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:08:44,254 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:08:44,254 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:08:44] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:11:49,181 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 11:11:49,181 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:11:49,181 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:11:49,181 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:11:49,181 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 11:11:49,181 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:11:49,181 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 11:11:49,181 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:11:49,181 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:11:49,182 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:11:49,182 - app - INFO - 生成的居住证明材料:
2025-04-25 11:11:49,182 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:11:49,182 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:11:49,182 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:11:49,182 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:11:49,182 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:11:49] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:13:16,666 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 11:13:16,735 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:13:16,893 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:13:16,897 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:14:53,318 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:14:53] "GET / HTTP/1.1" 200 -
2025-04-25 11:14:53,377 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:14:53] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:14:54,170 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:14:54] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:15:12,908 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 11:15:12,908 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:15:12,908 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 11:15:12,908 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 11:15:12,908 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:15:12,908 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 11:15:12,908 - app - INFO - 生成的居住证明材料:
2025-04-25 11:15:12,908 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 11:15:12,908 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:15:12,908 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:15:12,908 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:15:12,909 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:15:12] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:19:15,948 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 11:19:15,948 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:19:15,948 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 11:19:15,948 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:19:15,949 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 11:19:15,949 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 11:19:15,949 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:19:15,949 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 11:19:15,949 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 11:19:15,949 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:19:15,949 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:19:15,949 - app - INFO - 生成的居住证明材料:
2025-04-25 11:19:15,949 - app - INFO -   家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:19:15,949 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:19:15,950 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:19:15,950 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:19:15,950 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:19:15] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:19:42,688 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 11:19:42,688 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:19:42,688 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 11:19:42,689 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:19:42,689 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 11:19:42,689 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 11:19:42,689 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:19:42,689 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 11:19:42,689 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 11:19:42,689 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:19:42,689 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 11:19:42,689 - app - INFO - 生成的居住证明材料:
2025-04-25 11:19:42,689 - app - INFO -   家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:19:42,689 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:19:42,689 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:19:42,689 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:19:42,690 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:19:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:20:35,653 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 11:20:35,653 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:20:35,653 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 11:20:35,653 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:20:35,654 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 11:20:35,654 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:20:35,654 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 11:20:35,654 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 11:20:35,654 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:20:35,654 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:20:35,654 - app - INFO - 生成的居住证明材料:
2025-04-25 11:20:35,654 - app - INFO -   家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:20:35,654 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:20:35,654 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:20:35,654 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:20:35,655 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:20:35] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:20:39,441 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:20:39] "GET / HTTP/1.1" 200 -
2025-04-25 11:20:39,506 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:20:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:20:40,309 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:20:40] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:20:56,566 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 11:20:56,566 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:20:56,567 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:20:56,567 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:20:56,567 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:20:56,567 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:20:56,567 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:20:56,567 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:20:56,567 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 11:20:56,567 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:20:56] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:21:51,572 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 11:21:51,572 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:21:51,572 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:21:51,572 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:21:51,572 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:21:51,573 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 11:21:51,573 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:21:51,573 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:21:51,573 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 11:21:51,573 - app - INFO - 生成的居住证明材料:
2025-04-25 11:21:51,573 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:21:51,573 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:21:51,573 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:21:51,573 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:21:51,573 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:21:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:21:55,326 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:21:55] "GET / HTTP/1.1" 200 -
2025-04-25 11:21:55,388 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:21:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:21:55,784 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:21:55] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:22:02,488 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "TAX"}
2025-04-25 11:22:02,489 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:22:02,489 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-25 11:22:02,489 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-25 11:22:02,489 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 11:22:02,489 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:22:02] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:23:37,093 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:23:37] "GET / HTTP/1.1" 200 -
2025-04-25 11:23:37,164 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:23:37] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:23:37,563 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:23:37] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:23:51,378 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:23:51,378 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:23:51,379 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:23:51,379 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:23:51,379 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:23:51,379 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:23:51,379 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:23:51,379 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:23:51,379 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:23:51,379 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:23:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:24:38,819 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:24:38,819 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:24:38,819 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:24:38,819 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:24:38,819 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:24:38,819 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:24:38,819 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:24:38,819 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:24:38,819 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:24:38,820 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:24:38] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:24:39,148 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/family_materials.py', reloading
2025-04-25 11:24:39,270 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:24:39,414 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:24:39,418 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:24:50,598 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 11:24:50,599 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:24:50,599 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:24:50,599 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:24:50,599 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 11:24:50,599 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:24:50,599 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:24:50,599 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:24:50,599 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 11:24:50,600 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:24:50] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:30:23,917 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 11:30:23,917 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 11:30:23,919 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:30:24,064 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:30:24,068 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:30:26,416 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:30:26] "GET / HTTP/1.1" 200 -
2025-04-25 11:30:26,522 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:30:26] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:30:27,302 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:30:27] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:30:44,790 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:30:44,790 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:30:44,791 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 11:30:44,791 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:30:44,791 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:30:44,791 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:30:44,791 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 11:30:44,791 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:30:44,791 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:30:44,791 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:30:44] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:31:47,356 - werkzeug - INFO - 106.15.131.125 - - [25/Apr/2025 11:31:47] "[33mHEAD /start/index.html HTTP/1.1[0m" 404 -
2025-04-25 11:31:47,357 - werkzeug - ERROR - 106.15.131.125 - - [25/Apr/2025 11:31:47] code 400, message Bad request version ("\x91×\x7f»\x9aâ]óo¾[ã÷\x05\x10'Â§`cÈH\x9b\x00\x008À,À+À0À/\x00\x9f\x00\x9eÀ$À#À(À'À")
2025-04-25 11:31:47,357 - werkzeug - INFO - 106.15.131.125 - - [25/Apr/2025 11:31:47] "[31m[1m   h#½ûG	×»â]óo¾[ã÷'Â§`cÈH  8À,À+À0À/  À$À#À(À'À[0m" 400 -
2025-04-25 11:31:47,358 - werkzeug - INFO - 106.15.131.125 - - [25/Apr/2025 11:31:47] "[33mHEAD /pscc/ HTTP/1.1[0m" 404 -
2025-04-25 11:31:47,360 - werkzeug - ERROR - 106.15.131.125 - - [25/Apr/2025 11:31:47] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x03\x00\x9c\x01\x00\x00\x98\x03\x03h')
2025-04-25 11:31:47,360 - werkzeug - INFO - 106.15.131.125 - - [25/Apr/2025 11:31:47] "[31m[1m   h#>6ð,Ó¢ÊNàë§%T³?±tE  8À,À+À0À/  À$À#À(À'À[0m" 400 -
2025-04-25 11:50:35,699 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-25 11:50:35,699 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 11:50:35,701 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:50:35,855 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:50:35,860 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:50:46,604 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:50:46] "GET / HTTP/1.1" 200 -
2025-04-25 11:50:46,667 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:50:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:50:47,495 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:50:47] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:51:03,406 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 11:51:03,406 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:51:03,406 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-25 11:51:03,406 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 11:51:03,406 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 11:51:03,406 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=FAMILY
2025-04-25 11:51:03,406 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-25 11:51:03,406 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 11:51:03,406 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:51:03,407 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:51:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 11:54:12,263 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/debug_freelancer.py', reloading
2025-04-25 11:54:12,291 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:54:12,437 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:54:12,441 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:54:55,523 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/debug_freelancer.py', reloading
2025-04-25 11:54:55,549 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:54:55,690 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:54:55,694 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:56:30,873 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 11:56:30,900 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:56:31,044 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:56:31,048 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:57:03,117 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/debug_log_parser.py', reloading
2025-04-25 11:57:03,146 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:57:03,290 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:57:03,294 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:57:42,369 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/debug_log_parser.py', reloading
2025-04-25 11:57:42,395 - werkzeug - INFO -  * Restarting with stat
2025-04-25 11:57:42,538 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 11:57:42,542 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 11:58:21,446 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:58:21] "GET / HTTP/1.1" 200 -
2025-04-25 11:58:21,515 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:58:21] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 11:58:22,356 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:58:22] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 11:58:42,180 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 11:58:42,181 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 11:58:42,181 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 11:58:42,181 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 11:58:42,181 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 11:58:42,181 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 11:58:42,181 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 11:58:42,181 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 11:58:42,181 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 11:58:42,181 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 11:58:42,181 - app - INFO - 生成的居住证明材料:
2025-04-25 11:58:42,181 - app - INFO -   家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 11:58:42,182 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 11:58:42,182 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 11:58:42,182 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 11:58:42,182 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 11:58:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 12:02:38,678 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:02:38] "GET / HTTP/1.1" 200 -
2025-04-25 12:02:38,744 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:02:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 12:02:39,181 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:02:39] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 12:02:44,432 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 12:02:44,432 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 12:02:44,432 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 12:02:44,433 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 12:02:44,433 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 12:02:44,433 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 12:02:44,433 - app - INFO - 生成的居住证明材料:
2025-04-25 12:02:44,433 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 12:02:44,433 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 12:02:44,433 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 12:02:44,433 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 12:02:44,433 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:02:44] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 12:08:38,748 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/debug_freelancer.py', reloading
2025-04-25 12:08:38,775 - werkzeug - INFO -  * Restarting with stat
2025-04-25 12:08:38,919 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 12:08:38,923 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 12:09:30,023 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 12:09:30,091 - werkzeug - INFO -  * Restarting with stat
2025-04-25 12:09:30,290 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 12:09:30,294 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 12:10:32,422 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/family_materials.py', reloading
2025-04-25 12:10:32,447 - werkzeug - INFO -  * Restarting with stat
2025-04-25 12:10:32,591 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 12:10:32,596 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 12:11:25,697 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/identity_materials.py', reloading
2025-04-25 12:11:25,723 - werkzeug - INFO -  * Restarting with stat
2025-04-25 12:11:25,881 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 12:11:25,885 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 12:12:14,980 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/risk_assessment.py', reloading
2025-04-25 12:12:15,007 - werkzeug - INFO -  * Restarting with stat
2025-04-25 12:12:15,152 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 12:12:15,155 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 12:15:13,265 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:15:13] "GET / HTTP/1.1" 200 -
2025-04-25 12:15:13,367 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:15:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 12:15:14,184 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:15:14] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 12:15:27,952 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 12:15:27,952 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 12:15:27,952 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 12:15:27,952 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 12:15:27,952 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 12:15:27,953 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 12:15:27,953 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-25 12:15:27,953 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 12:15:27,953 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-25 12:15:27,953 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-25 12:15:27,953 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-25 12:15:27,953 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 12:15:27,953 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:15:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 12:15:43,866 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 12:15:43,866 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 12:15:43,866 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-25 12:15:43,866 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 12:15:43,867 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 12:15:43,867 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 12:15:43,867 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-25 12:15:43,867 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 12:15:43,867 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-25 12:15:43,867 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-25 12:15:43,867 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件', '4. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 12:15:43,867 - app - INFO - 生成的居住证明材料:
2025-04-25 12:15:43,867 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 12:15:43,867 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 12:15:43,867 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 12:15:43,867 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 12:15:43,868 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:15:43] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 12:16:01,374 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 12:16:01,374 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 12:16:01,374 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-25 12:16:01,374 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 12:16:01,374 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 12:16:01,374 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 12:16:01,374 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-25 12:16:01,374 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 12:16:01,374 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 12:16:01,374 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-25 12:16:01,374 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-25 12:16:01,374 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 12:16:01,375 - app - INFO - 生成的居住证明材料:
2025-04-25 12:16:01,375 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 12:16:01,375 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 12:16:01,375 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 12:16:01,375 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 12:16:01,375 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 12:16:01] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 12:16:16,600 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-25 12:16:16,629 - werkzeug - INFO -  * Restarting with stat
2025-04-25 12:16:16,772 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 12:16:16,776 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 14:18:41,532 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:18:41] "GET / HTTP/1.1" 200 -
2025-04-25 14:18:41,620 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:18:41] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:18:42,481 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:18:42] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:18:52,282 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:18:52,282 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:18:52,282 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:18:52,283 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 14:18:52,283 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:18:52,283 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:18:52,283 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:18:52,283 - app - INFO - 生成的居住证明材料:
2025-04-25 14:18:52,283 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:18:52,283 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:18:52,283 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:18:52,283 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:18:52,284 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:18:52] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:19:07,664 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:19:07,664 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:19:07,665 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:19:07,665 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 14:19:07,665 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:19:07,665 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:19:07,665 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:19:07,665 - app - INFO - 生成的居住证明材料:
2025-04-25 14:19:07,665 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:19:07,665 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:19:07,666 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:19:07,666 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:19:07,666 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:19:07] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:19:27,054 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:19:27,054 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:19:27,054 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:19:27,054 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 14:19:27,054 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:19:27,054 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:19:27,054 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:19:27,054 - app - INFO - 生成的居住证明材料:
2025-04-25 14:19:27,054 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:19:27,054 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:19:27,054 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:19:27,054 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:19:27,055 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:19:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:19:47,844 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:19:47,844 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:19:47,844 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:19:47,844 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 14:19:47,844 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-25 14:19:47,844 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:19:47,845 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:19:47] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:19:58,058 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:19:58,058 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:19:58,058 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:19:58,058 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：100万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 14:19:58,058 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-25 14:19:58,059 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：100万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:19:58,059 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:19:58] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:20:07,408 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:20:07,408 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:20:07,408 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:20:07,408 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：100万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 14:20:07,408 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=SINGLE
2025-04-25 14:20:07,408 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：100万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:20:07,409 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:20:07] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:21:51,787 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:21:51,787 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:21:51,787 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:21:51,787 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水50万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 14:21:51,787 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=SINGLE
2025-04-25 14:21:51,787 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['年工资流水50万以上（需可以验证，并仅统计能确认是工资收入的项）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:21:51,788 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:21:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:22:07,460 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:22:07,460 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:22:07,460 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 14:22:07,460 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:22:07,460 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:22:07,460 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:22:07,461 - app - INFO - 生成的居住证明材料:
2025-04-25 14:22:07,461 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:22:07,461 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:22:07,461 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:22:07,461 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:22:07,461 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:22:07] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:22:17,723 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:22:17,723 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:22:17,723 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:22:17,723 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 14:22:17,724 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:22:17,724 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:22:17,724 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:22:17,724 - app - INFO - 生成的居住证明材料:
2025-04-25 14:22:17,724 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:22:17,724 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:22:17,724 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:22:17,724 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:22:17,724 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:22:17] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:23:25,168 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:23:25,169 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:23:25,169 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:23:25,169 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 14:23:25,169 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:23:25,169 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:23:25,169 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:23:25,169 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:23:25,169 - app - INFO - 生成的居住证明材料:
2025-04-25 14:23:25,169 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:23:25,169 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:23:25,169 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:23:25,170 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:23:25,170 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:23:25] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:23:35,386 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:23:35,386 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:23:35,386 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:23:35,386 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 14:23:35,386 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:23:35,387 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:23:35,387 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:23:35,387 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:23:35,387 - app - INFO - 生成的居住证明材料:
2025-04-25 14:23:35,387 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:23:35,387 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:23:35,387 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:23:35,387 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:23:35,387 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:23:35] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:23:50,733 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:23:50,733 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:23:50,734 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:23:50,734 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-25 14:23:50,734 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:23:50,734 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:23:50,734 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:23:50,734 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:23:50,734 - app - INFO - 生成的居住证明材料:
2025-04-25 14:23:50,734 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:23:50,734 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:23:50,734 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:23:50,734 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:23:50,735 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:23:50] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:26:10,600 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:26:10,600 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:26:10,600 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:26:10,600 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 14:26:10,600 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:26:10,600 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:26:10,601 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:26:10,601 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:26:10,601 - app - INFO - 生成的居住证明材料:
2025-04-25 14:26:10,601 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:26:10,601 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:26:10,601 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:26:10,601 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:26:10,601 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:26:10] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:26:30,851 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:26:30,851 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:26:30,851 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:26:30,851 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）']
2025-04-25 14:26:30,851 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:26:30,851 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:26:30,851 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:26:30,852 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:26:30,852 - app - INFO - 生成的居住证明材料:
2025-04-25 14:26:30,852 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:26:30,852 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:26:30,852 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:26:30,852 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:26:30,853 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:26:30] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:27:06,055 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/basic_materials.py', reloading
2025-04-25 14:27:06,084 - werkzeug - INFO -  * Restarting with stat
2025-04-25 14:27:06,242 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 14:27:06,249 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 14:29:15,773 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:29:15] "GET / HTTP/1.1" 200 -
2025-04-25 14:29:15,853 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:29:15] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:29:16,649 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:29:16] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:29:23,309 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:29:23,309 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:29:23,309 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:29:23,309 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:29:23,309 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:29:23,310 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:29:23,310 - app - INFO - 生成的居住证明材料:
2025-04-25 14:29:23,310 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:29:23,310 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:29:23,310 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:29:23,310 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:29:23,310 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:29:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:29:33,233 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:29:33,233 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:29:33,234 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:29:33,234 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:29:33,234 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=SINGLE
2025-04-25 14:29:33,234 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:29:33,234 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:29:33] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:29:39,287 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:29:39,287 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:29:39,288 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:29:39,288 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 14:29:39,288 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:29:39,288 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:29:39,288 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:29:39,288 - app - INFO - 生成的居住证明材料:
2025-04-25 14:29:39,288 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:29:39,288 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:29:39,288 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:29:39,288 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:29:39,288 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:29:39] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:30:27,657 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:30:27,657 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:30:27,657 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:30:27,657 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:30:27,657 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:30:27,657 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:30:27,657 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:30:27,658 - app - INFO - 生成的居住证明材料:
2025-04-25 14:30:27,658 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:30:27,658 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:30:27,658 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:30:27,658 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:30:27,658 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:30:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:30:38,761 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:30:38,761 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:30:38,762 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:30:38,762 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:30:38,762 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:30:38,762 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:30:38,762 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:30:38,762 - app - INFO - 生成的居住证明材料:
2025-04-25 14:30:38,762 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:30:38,762 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:30:38,762 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:30:38,762 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:30:38,763 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:30:38] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:31:25,957 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:31:25,957 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:31:25,957 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:31:25,957 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 14:31:25,957 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:31:25,957 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:31:25,957 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:31:25,957 - app - INFO - 生成的居住证明材料:
2025-04-25 14:31:25,958 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:31:25,958 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:31:25,958 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:31:25,958 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:31:25,958 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:31:25] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:31:38,940 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:31:38,940 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:31:38,940 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:31:38,941 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '近期一年的收入流水']
2025-04-25 14:31:38,941 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:31:38,941 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:31:38,941 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:31:38,941 - app - INFO - 生成的居住证明材料:
2025-04-25 14:31:38,941 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:31:38,941 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:31:38,941 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:31:38,942 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:31:38,942 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:31:38] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:32:10,048 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:32:10,048 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:32:10,048 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:32:10,048 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）']
2025-04-25 14:32:10,048 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:32:10,048 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:32:10,048 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:32:10,048 - app - INFO - 生成的居住证明材料:
2025-04-25 14:32:10,048 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:32:10,049 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:32:10,049 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:32:10,049 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:32:10,049 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:32:10] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:33:23,098 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:33:23,098 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:33:23,098 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:33:23,098 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-25 14:33:23,098 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:33:23,098 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:33:23,098 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:33:23,098 - app - INFO - 生成的居住证明材料:
2025-04-25 14:33:23,099 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:33:23,099 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:33:23,099 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:33:23,099 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:33:23,099 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:33:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:33:51,904 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:33:51,904 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:33:51,904 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:33:51,904 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 14:33:51,904 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 14:33:51,904 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:33:51,904 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:33:51,904 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:33:51,904 - app - INFO - 生成的居住证明材料:
2025-04-25 14:33:51,905 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:33:51,905 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:33:51,905 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:33:51,905 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:33:51,905 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:33:51] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:34:49,113 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:34:49,113 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:34:49,113 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 14:34:49,113 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 14:34:49,113 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:34:49,114 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:34:49,114 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 14:34:49,114 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 14:34:49,114 - app - INFO - 生成的居住证明材料:
2025-04-25 14:34:49,114 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:34:49,114 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:34:49,114 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:34:49,114 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:34:49,115 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:34:49] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:34:57,078 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:34:57,078 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:34:57,078 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:34:57,078 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）']
2025-04-25 14:34:57,078 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:34:57,078 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:34:57,078 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:34:57,079 - app - INFO - 生成的居住证明材料:
2025-04-25 14:34:57,079 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:34:57,079 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:34:57,079 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:34:57,079 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:34:57,079 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:34:57] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:38:02,466 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 14:38:02,493 - werkzeug - INFO -  * Restarting with stat
2025-04-25 14:38:02,637 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 14:38:02,641 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 14:38:34,214 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:38:34] "GET / HTTP/1.1" 200 -
2025-04-25 14:38:34,347 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:38:34] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:38:35,137 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:38:35] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:38:47,718 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:38:47,718 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:38:47,718 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 14:38:47,718 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:38:47,718 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 14:38:47,719 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 14:38:47,719 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 14:38:47,719 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 14:38:47,719 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:38:47,719 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:38:47,719 - app - INFO - 生成的居住证明材料:
2025-04-25 14:38:47,719 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:38:47,719 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:38:47,719 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:38:47,719 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:38:47,720 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:38:47] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:39:03,356 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:39:03,356 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:39:03,356 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-25 14:39:03,356 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:39:03,356 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:39:03,356 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:39:03,356 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-25 14:39:03,357 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:39:03,357 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:39:03,357 - app - INFO - 生成的居住证明材料:
2025-04-25 14:39:03,357 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:39:03,357 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:39:03,357 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:39:03,357 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:39:03,357 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:39:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:39:49,027 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:39:49,028 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:39:49,028 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-25 14:39:49,028 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:39:49,028 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 14:39:49,028 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-25 14:39:49,028 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-25 14:39:49,028 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 14:39:49,028 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:39:49,028 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:39:49,028 - app - INFO - 生成的居住证明材料:
2025-04-25 14:39:49,028 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:39:49,028 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:39:49,028 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:39:49,029 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:39:49,029 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:39:49] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:40:01,346 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:40:01,346 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:40:01,346 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-25 14:40:01,346 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:40:01,347 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:40:01,347 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:40:01,347 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-25 14:40:01,347 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:40:01,347 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供退休证复印件或相关退休证明材料'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:40:01,347 - app - INFO - 生成的居住证明材料:
2025-04-25 14:40:01,347 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:40:01,347 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:40:01,347 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:40:01,347 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:40:01,348 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:40:01] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:42:52,180 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/family_materials.py', reloading
2025-04-25 14:42:52,207 - werkzeug - INFO -  * Restarting with stat
2025-04-25 14:42:52,353 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 14:42:52,357 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 14:43:32,909 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:43:32] "GET / HTTP/1.1" 200 -
2025-04-25 14:43:32,975 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:43:32] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:43:33,771 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:43:33] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:43:56,920 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:43:56,920 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:43:56,920 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-25 14:43:56,920 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:43:56,920 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:43:56,920 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:43:56,921 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-25 14:43:56,921 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 14:43:56,921 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:43:56,921 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-25 14:43:56,921 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:43:56,921 - app - INFO - 生成的居住证明材料:
2025-04-25 14:43:56,921 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:43:56,921 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:43:56,921 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:43:56,921 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:43:56,922 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:43:56] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:46:25,748 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 14:46:25,774 - werkzeug - INFO -  * Restarting with stat
2025-04-25 14:46:25,933 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 14:46:25,937 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 14:47:11,256 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:47:11] "GET / HTTP/1.1" 200 -
2025-04-25 14:47:11,331 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:47:11] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:47:11,754 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:47:11] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:47:23,878 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:47:23,878 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:47:23,878 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-25 14:47:23,878 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:47:23,878 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:47:23,878 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:47:23,879 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-25 14:47:23,879 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 14:47:23,879 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:47:23,879 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-25 14:47:23,879 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 家庭成员1需要提供退休证或能够证明退休的文件复印件']})
2025-04-25 14:47:23,879 - app - INFO - 生成的居住证明材料:
2025-04-25 14:47:23,879 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:47:23,879 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:47:23,879 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:47:23,879 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:47:23,880 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:47:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:48:06,243 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:48:06,244 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:48:06,244 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-25 14:48:06,244 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:48:06,244 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:48:06,244 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:48:06,244 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:48:06,244 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-25 14:48:06,244 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-25 14:48:06,244 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:48:06,245 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-25 14:48:06,245 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:48:06,245 - app - INFO - 生成的居住证明材料:
2025-04-25 14:48:06,245 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:48:06,245 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:48:06,245 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:48:06,245 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:48:06,246 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:48:06] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:51:03,445 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/other_materials.py', reloading
2025-04-25 14:51:03,472 - werkzeug - INFO -  * Restarting with stat
2025-04-25 14:51:03,617 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 14:51:03,621 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 14:51:48,856 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:51:48] "GET / HTTP/1.1" 200 -
2025-04-25 14:51:48,920 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:51:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:51:49,724 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:51:49] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:51:56,562 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:51:56,562 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:51:56,562 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:51:56,562 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-25 14:51:56,562 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:51:56,562 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:51:56,563 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-25 14:51:56,563 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 14:51:56,563 - app - INFO - 生成的居住证明材料:
2025-04-25 14:51:56,563 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:51:56,563 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:51:56,563 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:51:56,563 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:51:56,564 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:51:56] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:52:26,571 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:52:26,571 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:52:26,572 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:52:26,572 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:52:26,572 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=SINGLE
2025-04-25 14:52:26,572 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 14:52:26,572 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:52:26,572 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:52:26] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:52:31,636 - werkzeug - INFO - 147.185.132.16 - - [25/Apr/2025 14:52:31] "GET / HTTP/1.0" 200 -
2025-04-25 14:52:40,613 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:52:40,613 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:52:40,613 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-25 14:52:40,613 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 14:52:40,613 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:52:40,613 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:52:40,613 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-25 14:52:40,613 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:52:40,613 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-25 14:52:40,613 - document_generator.other_materials - DEBUG - 上海领区：家庭成员中有退休人员，但不需要提供退休证明
2025-04-25 14:52:40,614 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:52:40,614 - app - INFO - 生成的居住证明材料:
2025-04-25 14:52:40,614 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:52:40,614 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:52:40,614 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:52:40,614 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:52:40,614 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:52:40] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:52:49,475 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-25 14:52:49,475 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-25 14:52:49,475 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-25 14:52:49,475 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 14:52:49,475 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:52:49,475 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-25 14:52:49,475 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-25 14:52:49,475 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-25 14:52:49,475 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:52:49,475 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-25 14:52:49,475 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 14:52:49,476 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:52:49,476 - app - INFO - 生成的居住证明材料:
2025-04-25 14:52:49,476 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-25 14:52:49,476 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:52:49,476 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:52:49,476 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:52:49,476 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:52:49] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:56:13,241 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:56:13] "GET / HTTP/1.1" 200 -
2025-04-25 14:56:13,312 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:56:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 14:56:14,103 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:56:14] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 14:56:23,428 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:56:23,428 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:56:23,428 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 14:56:23,429 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 14:56:23,429 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:56:23,429 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:56:23,429 - app - INFO - 生成的居住证明材料:
2025-04-25 14:56:23,429 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:56:23,429 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:56:23,429 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:56:23,429 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:56:23,429 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:56:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:56:33,794 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "ECONOMIC", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 14:56:33,794 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:56:33,794 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-25 14:56:33,794 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-25 14:56:33,794 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:56:33,794 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:56:33,794 - app - INFO - 生成的居住证明材料:
2025-04-25 14:56:33,794 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 14:56:33,795 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:56:33,795 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:56:33,795 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:56:33,795 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:56:33] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:57:00,383 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:57:00,384 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 14:57:00,384 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 14:57:00,384 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:57:00,384 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:57:00,384 - app - INFO - 生成的居住证明材料:
2025-04-25 14:57:00,384 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:57:00,384 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:57:00,384 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:57:00,384 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:57:00,385 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:57:00] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:57:34,778 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:57:34,778 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 14:57:34,778 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 14:57:34,778 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:57:34,779 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:57:34,779 - app - INFO - 生成的居住证明材料:
2025-04-25 14:57:34,779 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:57:34,779 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:57:34,779 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:57:34,779 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:57:34,779 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:57:34] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:57:48,779 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:57:48,779 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 14:57:48,779 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 14:57:48,779 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:57:48,780 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是五年多次往返签证持有人的配偶', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:57:48,780 - app - INFO - 生成的居住证明材料:
2025-04-25 14:57:48,780 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:57:48,780 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:57:48,780 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:57:48,780 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:57:48,780 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:57:48] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:58:17,620 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:58:17,620 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 14:58:17,621 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 14:58:17,621 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 14:58:17,621 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:58:17,621 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 14:58:17,621 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是五年多次往返签证持有人的配偶', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 14:58:17,621 - app - INFO - 生成的居住证明材料:
2025-04-25 14:58:17,621 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:58:17,621 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:58:17,621 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:58:17,621 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:58:17,622 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:58:17] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:58:34,308 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:58:34,308 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 14:58:34,308 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-25 14:58:34,308 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 14:58:34,308 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是五年多次往返签证持有人的配偶', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 14:58:34,309 - app - INFO - 生成的居住证明材料:
2025-04-25 14:58:34,309 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:58:34,309 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 14:58:34,309 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 14:58:34,309 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 14:58:34,309 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:58:34] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:58:42,128 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-25 14:58:42,128 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 14:58:42,128 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 14:58:42,128 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:58:42,128 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是五年多次往返签证持有人的配偶', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:58:42,128 - app - INFO - 生成的居住证明材料:
2025-04-25 14:58:42,128 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:58:42,128 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:58:42,129 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:58:42,129 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:58:42,129 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:58:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 14:59:16,883 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 14:59:16,884 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 14:59:16,884 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 14:59:16,884 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 14:59:16,884 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 14:59:16,884 - app - INFO - 生成的居住证明材料:
2025-04-25 14:59:16,884 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 14:59:16,884 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 14:59:16,884 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:59:16,884 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 14:59:16,885 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 14:59:16] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:02:48,934 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-25 15:02:48,962 - werkzeug - INFO -  * Restarting with stat
2025-04-25 15:02:49,109 - werkzeug - WARNING -  * Debugger is active!
2025-04-25 15:02:49,113 - werkzeug - INFO -  * Debugger PIN: 128-015-248
2025-04-25 15:03:07,777 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:03:07] "GET / HTTP/1.1" 200 -
2025-04-25 15:03:07,841 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:03:07] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 15:03:08,636 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:03:08] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 15:03:18,296 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:03:18,296 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:03:18,296 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 15:03:18,297 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 15:03:18,297 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 15:03:18,297 - app - INFO - 生成的居住证明材料:
2025-04-25 15:03:18,297 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 15:03:18,297 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 15:03:18,297 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:03:18,297 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:03:18,297 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:03:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:06:49,253 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:06:49] "GET / HTTP/1.1" 200 -
2025-04-25 15:06:49,298 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:06:49] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 15:06:49,773 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:06:49] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 15:07:00,443 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:07:00,443 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:07:00,443 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 15:07:00,443 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 15:07:00,444 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 15:07:00,444 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 15:07:00,444 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 15:07:00,444 - app - INFO - 生成的居住证明材料:
2025-04-25 15:07:00,444 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 15:07:00,444 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 15:07:00,444 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:07:00,444 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:07:00,444 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:07:00] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:07:23,050 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:07:23,050 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:07:23,051 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 15:07:23,051 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 15:07:23,051 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 15:07:23,051 - app - INFO - 生成的居住证明材料:
2025-04-25 15:07:23,051 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 15:07:23,051 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 15:07:23,051 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:07:23,051 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:07:23,051 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:07:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:08:46,008 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:08:46,008 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:08:46,008 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=BINDING
2025-04-25 15:08:46,008 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 15:08:46,009 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:08:46] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:09:08,619 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:09:08,619 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:09:08,619 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 15:09:08,619 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 15:09:08,619 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 15:09:08,619 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 15:09:08,619 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 15:09:08,619 - app - INFO - 生成的居住证明材料:
2025-04-25 15:09:08,619 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 15:09:08,620 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 15:09:08,620 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:09:08,620 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:09:08,620 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:09:08] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:10:20,179 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:10:20,179 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:10:20,179 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 15:10:20,179 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 15:10:20,179 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 15:10:20,179 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 15:10:20,179 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 15:10:20,179 - app - INFO - 生成的居住证明材料:
2025-04-25 15:10:20,180 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 15:10:20,180 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 15:10:20,180 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:10:20,180 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:10:20,180 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:10:20] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:10:39,642 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:10:39,642 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 15:10:39,642 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 15:10:39,642 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=BINDING
2025-04-25 15:10:39,642 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-25 15:10:39,642 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-25 15:10:39,642 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:10:39] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:11:34,793 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:11:34,793 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-25 15:11:34,793 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-25 15:11:34,793 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-25 15:11:34,793 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 15:11:34,793 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-25 15:11:34,794 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-25 15:11:34,794 - app - INFO - 生成的居住证明材料:
2025-04-25 15:11:34,794 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-25 15:11:34,794 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 15:11:34,794 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:11:34,794 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 15:11:34,794 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:11:34] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:23:10,363 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:23:10] "GET / HTTP/1.1" 200 -
2025-04-25 15:23:10,419 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:23:10] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 15:23:11,214 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:23:11] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 15:24:03,537 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:24:03] "GET / HTTP/1.1" 200 -
2025-04-25 15:24:03,596 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:24:03] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-25 15:24:03,636 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:24:03] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 15:24:24,962 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-25 15:24:24,963 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 15:24:24,963 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-25 15:24:24,963 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 15:24:24,963 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 15:24:24,963 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-25 15:24:24,963 - app - INFO - 生成的居住证明材料:
2025-04-25 15:24:24,963 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 15:24:24,963 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 15:24:24,963 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 15:24:24,963 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 15:24:24,964 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:24:24] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:27:24,700 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:27:24] "GET / HTTP/1.1" 200 -
2025-04-25 15:27:24,764 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:27:24] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 15:27:25,178 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:27:25] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 15:27:55,041 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:27:55,041 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-25 15:27:55,041 - document_generator.identity_materials - DEBUG - 为身份 CHILD 生成身份材料: []
2025-04-25 15:27:55,042 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-25 15:27:55,042 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-25 15:27:55,042 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-25 15:27:55,042 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 15:27:55,042 - app - INFO - 生成的居住证明材料:
2025-04-25 15:27:55,042 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 15:27:55,042 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-25 15:27:55,042 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-25 15:27:55,042 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-25 15:27:55,042 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:27:55] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:32:27,827 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 15:32:27,827 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 15:32:27,827 - document_generator.identity_materials - DEBUG - 为身份 CHILD 生成身份材料: []
2025-04-25 15:32:27,827 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）']
2025-04-25 15:32:27,827 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=SINGLE
2025-04-25 15:32:27,827 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['年工资流水20万以上（需可以验证，并仅统计能确认是工资收入的项）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 15:32:27,828 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 15:32:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 15:44:47,370 - werkzeug - ERROR - 18.220.154.78 - - [25/Apr/2025 15:44:47] code 400, message Bad request version ('À\x14À')
2025-04-25 15:44:47,370 - werkzeug - INFO - 18.220.154.78 - - [25/Apr/2025 15:44:47] "[31m[1m {  wiTÖP+høQ@6CÃ%ôÙãÈÑÓ}¤êg  À/À+ÀÀÀÀ	ÀÀ[0m" 400 -
2025-04-25 16:23:44,228 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:23:44] "GET / HTTP/1.1" 200 -
2025-04-25 16:23:44,289 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:23:44] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 16:23:45,129 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:23:45] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 16:24:14,846 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 16:24:14,846 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-25 16:24:14,846 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '近期一年的收入流水', '税单要求：金额大于3万的税单']
2025-04-25 16:24:14,846 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 16:24:14,847 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 16:24:14,847 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '近期一年的收入流水', '税单要求：金额大于3万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 16:24:14,847 - app - INFO - 生成的居住证明材料:
2025-04-25 16:24:14,847 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 16:24:14,847 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 16:24:14,847 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 16:24:14,847 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 16:24:14,847 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:24:14] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 16:30:16,449 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:30:16] "GET / HTTP/1.1" 200 -
2025-04-25 16:30:16,504 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:30:16] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 16:30:16,983 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:30:16] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-25 16:30:34,367 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 16:30:34,367 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（出生证明/户口本）']
2025-04-25 16:30:34,367 - document_generator.identity_materials - DEBUG - 为身份 CHILD 生成身份材料: []
2025-04-25 16:30:34,367 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=shanghai, type=BINDING
2025-04-25 16:30:34,367 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的子女', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-25 16:30:34,368 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:30:34] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 16:33:24,068 - werkzeug - INFO - 180.101.244.16 - - [25/Apr/2025 16:33:24] "[31m[1mGET /api/generate HTTP/1.1[0m" 405 -
2025-04-25 16:47:45,239 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-25 16:47:45,239 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-25 16:47:45,239 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-25 16:47:45,239 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-25 16:47:45,239 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-25 16:47:45,239 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-25 16:47:45,239 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-25 16:47:45,240 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-25 16:47:45,240 - app - INFO - 生成的居住证明材料:
2025-04-25 16:47:45,240 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-25 16:47:45,240 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-25 16:47:45,240 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-25 16:47:45,240 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-25 16:47:45,240 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 16:47:45] "POST /api/generate HTTP/1.1" 200 -
2025-04-25 17:05:45,226 - werkzeug - INFO - 110.35.200.47 - - [25/Apr/2025 17:05:45] "GET / HTTP/1.0" 200 -
2025-04-25 17:36:51,851 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 17:36:51] "GET / HTTP/1.1" 200 -
2025-04-25 17:36:51,901 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 17:36:51] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-25 17:36:52,748 - werkzeug - INFO - 221.216.116.214 - - [25/Apr/2025 17:36:52] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-25 18:24:45,050 - werkzeug - INFO - 64.62.197.191 - - [25/Apr/2025 18:24:45] "GET / HTTP/1.1" 200 -
2025-04-25 18:24:54,323 - werkzeug - INFO - 64.62.197.193 - - [25/Apr/2025 18:24:54] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-25 19:45:34,134 - werkzeug - INFO - 119.193.100.249 - - [25/Apr/2025 19:45:34] "GET / HTTP/1.0" 200 -
2025-04-25 20:05:46,249 - werkzeug - INFO - 211.220.253.209 - - [25/Apr/2025 20:05:46] "GET / HTTP/1.0" 200 -
2025-04-27 09:59:24,877 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 09:59:24,878 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 09:59:24,884 - werkzeug - INFO -  * Restarting with stat
2025-04-27 09:59:25,194 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 09:59:25,204 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 09:59:30,651 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 09:59:30] "GET / HTTP/1.1" 200 -
2025-04-27 09:59:30,738 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 09:59:30] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 09:59:31,479 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 09:59:31] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 09:59:31,659 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 09:59:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-27 10:01:50,104 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-27 10:01:50,104 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 10:01:50,104 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 10:01:50,104 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=BINDING
2025-04-27 10:01:50,105 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 10:01:50,105 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 申请人是五年多次往返签证持有人的父母', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 10:01:50,105 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:01:50] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 10:03:43,006 - werkzeug - INFO - 220.196.160.61 - - [27/Apr/2025 10:03:43] "GET / HTTP/1.1" 200 -
2025-04-27 10:03:43,723 - werkzeug - INFO - 180.101.245.251 - - [27/Apr/2025 10:03:43] "GET / HTTP/1.1" 200 -
2025-04-27 10:03:43,927 - werkzeug - INFO - 180.101.245.251 - - [27/Apr/2025 10:03:43] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-27 10:03:44,051 - werkzeug - INFO - 180.101.245.251 - - [27/Apr/2025 10:03:44] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-27 10:03:55,914 - werkzeug - INFO - 180.101.244.13 - - [27/Apr/2025 10:03:55] "GET / HTTP/1.1" 200 -
2025-04-27 10:05:11,333 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-27 10:05:11,333 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 10:05:11,333 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 10:05:11,333 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-27 10:05:11,333 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 10:05:11,333 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 10:05:11,333 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是五年多次往返签证持有人的父母', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 10:05:11,333 - app - INFO - 生成的居住证明材料:
2025-04-27 10:05:11,334 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 10:05:11,334 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 10:05:11,334 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 10:05:11,334 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 10:05:11,334 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:05:11] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 10:10:02,155 - werkzeug - INFO - 167.99.133.197 - - [27/Apr/2025 10:10:02] "GET / HTTP/1.1" 200 -
2025-04-27 10:10:03,112 - werkzeug - INFO - 167.99.133.197 - - [27/Apr/2025 10:10:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-27 10:14:02,785 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "FIVE", "processType": "NORMAL"}
2025-04-27 10:14:02,785 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 10:14:02,785 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 10:14:02,785 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-27 10:14:02,785 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 10:14:02,785 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 10:14:02,786 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是五年多次往返签证持有人的父母', '家属签证类型: 五年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 10:14:02,786 - app - INFO - 生成的居住证明材料:
2025-04-27 10:14:02,786 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 10:14:02,786 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 10:14:02,786 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 10:14:02,786 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 10:14:02,786 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:14:02] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 10:14:14,987 - werkzeug - INFO - 220.196.160.53 - - [27/Apr/2025 10:14:14] "[31m[1mGET /api/generate HTTP/1.1[0m" 405 -
2025-04-27 10:19:37,503 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/__init__.py', reloading
2025-04-27 10:19:37,563 - werkzeug - INFO -  * Restarting with stat
2025-04-27 10:19:37,858 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 10:19:37,871 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 10:20:40,997 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/basic_materials.py', reloading
2025-04-27 10:20:41,032 - werkzeug - INFO -  * Restarting with stat
2025-04-27 10:20:41,176 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 10:20:41,180 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 10:21:06,906 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:21:06] "GET / HTTP/1.1" 200 -
2025-04-27 10:21:06,998 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:21:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 10:21:07,812 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:21:07] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 10:21:16,611 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 10:21:16,611 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-27 10:21:16,612 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 10:21:16,612 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=BINDING
2025-04-27 10:21:16,612 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 10:21:16,612 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 10:21:16,612 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:21:16] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 10:21:27,081 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 10:21:27,081 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-27 10:21:27,081 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 10:21:27,081 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=BINDING
2025-04-27 10:21:27,081 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 10:21:27,081 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 10:21:27,081 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 10:21:27,081 - app - INFO - 生成的居住证明材料:
2025-04-27 10:21:27,082 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 10:21:27,082 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 10:21:27,082 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 10:21:27,082 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 10:21:27,082 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:21:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 10:22:01,061 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 10:22:01,062 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-27 10:22:01,062 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 10:22:01,062 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-27 10:22:01,062 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 10:22:01,062 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 10:22:01,062 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 10:22:01,062 - app - INFO - 生成的居住证明材料:
2025-04-27 10:22:01,062 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 10:22:01,063 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 10:22:01,063 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 10:22:01,063 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 10:22:01,063 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:22:01] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 10:24:30,605 - werkzeug - ERROR - 159.203.14.24 - - [27/Apr/2025 10:24:30] code 400, message Bad request syntax ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x04\x01n+¢*Ñ;ù^-\x8b\x80\x10£v©um[ú\x07\x99ÂìxÌ:\xa0')
2025-04-27 10:24:30,605 - werkzeug - INFO - 159.203.14.24 - - [27/Apr/2025 10:24:30] "[31m[1m {  wn+¢*Ñ;ù^-£v©um[úÂìxÌ: [0m" 400 -
2025-04-27 10:24:31,049 - werkzeug - ERROR - 159.203.14.24 - - [27/Apr/2025 10:24:31] code 400, message Bad request syntax ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03æM4XIÆÂCÀ:c')
2025-04-27 10:24:31,049 - werkzeug - INFO - 159.203.14.24 - - [27/Apr/2025 10:24:31] "[31m[1m {  wæM4XIÆÂCÀ:c[0m" 400 -
2025-04-27 10:24:31,491 - werkzeug - INFO - 159.203.14.24 - - [27/Apr/2025 10:24:31] "GET / HTTP/1.1" 200 -
2025-04-27 10:39:12,048 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:39:12] "GET / HTTP/1.1" 200 -
2025-04-27 10:39:12,139 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:39:12] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 10:39:12,919 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 10:39:12] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 11:02:18,473 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "SIMPLIFIED"}
2025-04-27 11:02:18,473 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:02:18,474 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供近三年的两次日本签证的签证发放通知书（非特大单次）', '近期5年出入境记录']
2025-04-27 11:02:18,474 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:02:18,474 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:02:18,474 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次签证（新政简化）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['提供近三年的两次日本签证的签证发放通知书（非特大单次）', '近期5年出入境记录'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:02:18,474 - app - INFO - 生成的居住证明材料:
2025-04-27 11:02:18,474 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:02:18,474 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:02:18,474 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:02:18,474 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:02:18,475 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:02:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:02:23,121 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "SIMPLIFIED"}
2025-04-27 11:02:23,121 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:02:23,121 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供近三年的两次日本签证的签证发放通知书（非特大单次）', '近期5年出入境记录']
2025-04-27 11:02:23,121 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:02:23,121 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:02:23,121 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次签证（新政简化）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['提供近三年的两次日本签证的签证发放通知书（非特大单次）', '近期5年出入境记录'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:02:23,122 - app - INFO - 生成的居住证明材料:
2025-04-27 11:02:23,122 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:02:23,122 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:02:23,122 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:02:23,122 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:02:23,122 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:02:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:08:42,741 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 11:08:42,770 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:08:42,925 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:08:42,930 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:11:16,245 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 11:11:16,271 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:43:40,641 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 11:43:40,642 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 11:43:40,643 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:43:41,173 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:43:41,177 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:43:43,216 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:43:43] "GET / HTTP/1.1" 200 -
2025-04-27 11:43:43,260 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:43:43] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:43:44,637 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:43:44] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-27 11:43:45,857 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:43:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-27 11:43:54,019 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-27 11:43:54,020 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:43:54,020 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 11:43:54,020 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 11:43:54,020 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:43:54,020 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:43:54,020 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 11:43:54,020 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：10万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 11:43:54,021 - app - INFO - 生成的居住证明材料:
2025-04-27 11:43:54,021 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:43:54,021 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:43:54,021 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:43:54,021 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:43:54,021 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:43:54] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:44:05,447 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:44:05] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:46:08,817 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 11:46:08,949 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:46:09,518 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:46:09,521 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:47:09,800 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 11:47:09,995 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:47:11,043 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:47:11,046 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:47:24,121 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 11:47:24,203 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:47:24,743 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:47:24,746 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:47:53,886 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 11:47:53,959 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:47:54,490 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:47:54,493 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:47:55,361 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:47:55] "GET / HTTP/1.1" 200 -
2025-04-27 11:47:55,410 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:47:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:47:55,506 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:47:55] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 11:48:03,880 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 11:48:03,880 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:48:03,880 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 11:48:03,880 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:48:03,880 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:48:03,880 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:48:03,880 - app - INFO - 生成的居住证明材料:
2025-04-27 11:48:03,880 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:48:03,881 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:48:03,881 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:48:03,881 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:48:03,881 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:48:12,395 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:12] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:48:44,290 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 11:48:44,290 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 11:48:44,290 - werkzeug - INFO -  * Restarting with stat
2025-04-27 11:48:44,861 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 11:48:44,864 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 11:48:45,927 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:45] "GET / HTTP/1.1" 200 -
2025-04-27 11:48:45,988 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:45] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:48:46,060 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:46] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 11:48:54,619 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:54] "GET / HTTP/1.1" 200 -
2025-04-27 11:48:54,659 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:54] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:48:54,740 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:48:54] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 11:49:01,897 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 11:49:01,897 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:49:01,897 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 11:49:01,897 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:49:01,898 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:49:01,898 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:49:01,898 - app - INFO - 生成的居住证明材料:
2025-04-27 11:49:01,898 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:49:01,898 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:49:01,898 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:49:01,898 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:49:01,898 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:49:01] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:55:55,905 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:55:55] "GET / HTTP/1.1" 200 -
2025-04-27 11:55:55,934 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:55:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:55:56,503 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:55:56] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 11:56:01,865 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 11:56:01,865 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:56:01,865 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 11:56:01,865 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:56:01,865 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:56:01,865 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:56:01,865 - app - INFO - 生成的居住证明材料:
2025-04-27 11:56:01,866 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:56:01,866 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:56:01,866 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:56:01,866 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:56:01,866 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:56:01] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:56:02,953 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 11:56:02,953 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 11:56:02,953 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:56:02,953 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 11:56:02,953 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:56:02,953 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:56:02,953 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:56:02,953 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:56:03,237 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:56:03] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 11:56:03,241 - werkzeug - ERROR - Error on request:
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 333, in run_wsgi
    execute(self.server.app)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 323, in execute
    write(data)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 263, in write
    self.send_header(key, value)
  File "/usr/lib/python3.12/http/server.py", line 526, in send_header
    ("%s: %s\r\n" % (keyword, value)).encode('latin-1', 'strict'))
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 43-50: ordinal not in range(256)
2025-04-27 11:56:18,129 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 11:56:18] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:56:34,199 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:56:34] "GET / HTTP/1.1" 200 -
2025-04-27 11:56:34,320 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:56:34] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 11:56:35,136 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:56:35] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 11:56:48,227 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 11:56:48,227 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:56:48,227 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 11:56:48,227 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:56:48,227 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:56:48,227 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:56:48,228 - app - INFO - 生成的居住证明材料:
2025-04-27 11:56:48,228 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 11:56:48,228 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 11:56:48,228 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 11:56:48,228 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 11:56:48,228 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:56:48] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 11:56:49,421 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 11:56:49,422 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 11:56:49,422 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 11:56:49,422 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 11:56:49,422 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 11:56:49,422 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 11:56:49,422 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:56:49,422 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 11:56:49,545 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 11:56:49] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 11:56:49,546 - werkzeug - ERROR - Error on request:
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 333, in run_wsgi
    execute(self.server.app)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 323, in execute
    write(data)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 263, in write
    self.send_header(key, value)
  File "/usr/lib/python3.12/http/server.py", line 526, in send_header
    ("%s: %s\r\n" % (keyword, value)).encode('latin-1', 'strict'))
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 43-50: ordinal not in range(256)
2025-04-27 12:07:01,840 - werkzeug - INFO - 59.83.208.103 - - [27/Apr/2025 12:07:01] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 12:07:45,068 - werkzeug - INFO - 180.163.30.76 - - [27/Apr/2025 12:07:45] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 12:30:57,063 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:30:57,064 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:30:57,064 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:30:57,064 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 12:30:57,064 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:30:57,064 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:30:57,064 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:30:57,064 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:30:57,193 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:30:57] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 12:30:57,193 - werkzeug - ERROR - Error on request:
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 333, in run_wsgi
    execute(self.server.app)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 323, in execute
    write(data)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 263, in write
    self.send_header(key, value)
  File "/usr/lib/python3.12/http/server.py", line 526, in send_header
    ("%s: %s\r\n" % (keyword, value)).encode('latin-1', 'strict'))
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 43-50: ordinal not in range(256)
2025-04-27 12:40:58,683 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:40:58,683 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:40:58,683 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:40:58,683 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 12:40:58,683 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:40:58,683 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:40:58,683 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:40:58,683 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:40:58,808 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:40:58] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 12:40:58,809 - werkzeug - ERROR - Error on request:
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 333, in run_wsgi
    execute(self.server.app)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 323, in execute
    write(data)
  File "/home/ubuntu/VASEN/.venv/lib/python3.12/site-packages/werkzeug/serving.py", line 263, in write
    self.send_header(key, value)
  File "/usr/lib/python3.12/http/server.py", line 526, in send_header
    ("%s: %s\r\n" % (keyword, value)).encode('latin-1', 'strict'))
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 43-50: ordinal not in range(256)
2025-04-27 12:43:25,125 - werkzeug - INFO - 100.26.34.111 - - [27/Apr/2025 12:43:25] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 12:43:51,741 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 12:43:51,984 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:43:52,693 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:43:52,695 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:44:49,970 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 12:44:50,054 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:44:50,644 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:44:50,647 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:47:25,296 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 12:47:25,370 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:47:25,926 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:47:25,929 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:48:14,814 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:48:14] "GET / HTTP/1.1" 200 -
2025-04-27 12:48:14,877 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:48:14] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 12:48:15,646 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:48:15] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 12:48:20,580 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "TAX"}
2025-04-27 12:48:20,580 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:48:20,581 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-27 12:48:20,581 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:48:20,581 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:48:20,581 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-27 12:48:20,581 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 12:48:20,581 - app - INFO - 生成的居住证明材料:
2025-04-27 12:48:20,581 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 12:48:20,581 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 12:48:20,581 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 12:48:20,581 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 12:48:20,582 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:48:20] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 12:48:21,558 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'SINGLE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:48:21,558 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'SINGLE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:48:21,558 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:48:21,558 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-27 12:48:21,558 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:48:21,559 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:48:21,559 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-27 12:48:21,559 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 12:48:21,559 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 12:48:21,764 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 12:48:21,764 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:48:21] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 12:51:52,063 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 12:51:52,136 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:51:52,666 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:51:52,669 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:53:24,679 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:53:24] "GET / HTTP/1.1" 200 -
2025-04-27 12:53:24,766 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:53:24] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 12:53:25,162 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:53:25] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 12:53:31,107 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 12:53:31,108 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:53:31,108 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 12:53:31,108 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:53:31,108 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:53:31,108 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:53:31,109 - app - INFO - 生成的居住证明材料:
2025-04-27 12:53:31,109 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 12:53:31,109 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 12:53:31,109 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 12:53:31,109 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 12:53:31,109 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:53:31] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 12:53:32,054 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:53:32,054 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:53:32,054 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:53:32,054 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 12:53:32,054 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:53:32,055 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:53:32,055 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:53:32,055 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:53:32,055 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 12:53:32,055 - document_generator.pdf_generator - DEBUG - 检查模板 /home/ubuntu/VASEN/GOOD/templates/pdf/document_list.html: 存在
2025-04-27 12:53:32,058 - document_generator.pdf_generator - DEBUG - 模板渲染成功
2025-04-27 12:53:32,058 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp89dxml6j.html
2025-04-27 12:53:32,231 - document_generator.pdf_generator - DEBUG - 使用外部CSS生成PDF成功
2025-04-27 12:53:32,231 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 12:53:32,232 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:53:32] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 12:55:19,563 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 12:55:19,635 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:55:20,177 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:55:20,179 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:55:39,273 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 12:55:39,343 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:55:39,875 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:55:39,877 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:56:11,034 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/basic_materials.py', reloading
2025-04-27 12:56:11,372 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:56:11,908 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:56:11,910 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:56:28,990 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 12:56:29,062 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:56:29,594 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:56:29,596 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 12:56:31,360 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:56:31] "GET / HTTP/1.1" 200 -
2025-04-27 12:56:31,417 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:56:31] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 12:56:31,832 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:56:31] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 12:56:36,354 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 12:56:36,354 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:56:36,354 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 12:56:36,354 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:56:36,354 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:56:36,354 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:56:36,354 - app - INFO - 生成的居住证明材料:
2025-04-27 12:56:36,355 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 12:56:36,355 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 12:56:36,355 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 12:56:36,355 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 12:56:36,355 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:56:36] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 12:56:37,774 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:56:37,774 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:56:37,774 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 12:56:37,774 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 12:56:37,774 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 12:56:37,775 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 12:56:37,775 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:56:37,775 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 12:56:37,775 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 12:56:37,776 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpqnvneqo9.html
2025-04-27 12:56:37,776 - document_generator.pdf_generator - ERROR - WeasyPrint生成PDF失败: cannot access local variable 'HTML' where it is not associated with a value
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 71, in generate_pdf
    html = HTML(string=html_content)
           ^^^^
UnboundLocalError: cannot access local variable 'HTML' where it is not associated with a value
2025-04-27 12:56:37,776 - document_generator.pdf_generator - DEBUG - 尝试使用临时文件方法生成PDF
2025-04-27 12:56:37,950 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 12:56:37,950 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:56:37] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 12:57:36,438 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:57:36] "GET / HTTP/1.1" 200 -
2025-04-27 12:57:36,508 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:57:36] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 12:57:36,878 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:57:36] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 12:57:42,202 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "FIVE", "processType": "TAX"}
2025-04-27 12:57:42,203 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 12:57:42,203 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 12:57:42,203 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8.5万的税单（上海领区）']
2025-04-27 12:57:42,203 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-27 12:57:42,203 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 12:57:42,203 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 12:57:42,203 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于8.5万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 12:57:42,203 - app - INFO - 生成的居住证明材料:
2025-04-27 12:57:42,203 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 12:57:42,203 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 12:57:42,203 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 12:57:42,203 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 12:57:42,204 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:57:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 12:57:43,232 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'RETIRED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'FIVE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:57:43,232 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'RETIRED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'FIVE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 12:57:43,232 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 12:57:43,233 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 12:57:43,233 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8.5万的税单（上海领区）']
2025-04-27 12:57:43,233 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-27 12:57:43,233 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 12:57:43,233 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 12:57:43,233 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于8.5万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 12:57:43,233 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于8.5万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 12:57:43,233 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=五年多次签证, 身份=退休人员, 领区=上海
2025-04-27 12:57:43,234 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpr_vl4dqi.html
2025-04-27 12:57:43,234 - document_generator.pdf_generator - ERROR - WeasyPrint生成PDF失败: cannot access local variable 'HTML' where it is not associated with a value
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 71, in generate_pdf
    html = HTML(string=html_content)
           ^^^^
UnboundLocalError: cannot access local variable 'HTML' where it is not associated with a value
2025-04-27 12:57:43,234 - document_generator.pdf_generator - DEBUG - 尝试使用临时文件方法生成PDF
2025-04-27 12:57:43,348 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 12:57:43,349 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 12:57:43] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 12:59:39,442 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 12:59:39,518 - werkzeug - INFO -  * Restarting with stat
2025-04-27 12:59:40,065 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 12:59:40,070 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:00:57,403 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 13:00:57,473 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:00:58,009 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:00:58,012 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:01:35,238 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-27 13:01:35,238 - app - INFO - 家庭申请，家庭成员数量: 0
2025-04-27 13:01:35,238 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 13:01:35,239 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-27 13:01:35,239 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 13:01:35,239 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-27 13:01:35,239 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:01:35,240 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 13:01:35] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 13:01:55,490 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:01:55,490 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:01:55,490 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 13:01:55,490 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-27 13:01:55,491 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 13:01:55,491 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-27 13:01:55,491 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:01:55,491 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:01:55,491 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:01:55,491 - app - DEBUG - 部分: 基本信息
2025-04-27 13:01:55,491 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:01:55,491 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:01:55,491 - app - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:01:55,491 - app - DEBUG - 部分: 基本材料
2025-04-27 13:01:55,491 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:01:55,491 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:01:55,492 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:01:55,492 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:01:55,492 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:01:55,492 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:01:55,492 - app - DEBUG - 部分: 财力证明
2025-04-27 13:01:55,492 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:01:55,492 - app - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:01:55,492 - app - DEBUG - 部分: 家属材料
2025-04-27 13:01:55,492 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:01:55,492 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:01:55,492 - app - DEBUG - 部分: 其他材料
2025-04-27 13:01:55,492 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:01:55,492 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:01:55,492 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:01:55,492 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=测试用户, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-27 13:01:55,492 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:01:55,493 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:01:55,494 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:01:55,495 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmppy2vfs4q.html
2025-04-27 13:01:55,495 - document_generator.pdf_generator - ERROR - WeasyPrint生成PDF失败: cannot access local variable 'HTML' where it is not associated with a value
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 79, in generate_pdf
    html = HTML(string=html_content)
           ^^^^
UnboundLocalError: cannot access local variable 'HTML' where it is not associated with a value
2025-04-27 13:01:55,496 - document_generator.pdf_generator - DEBUG - 尝试使用临时文件方法生成PDF
2025-04-27 13:01:55,668 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:01:55,668 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 13:01:55] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:04:39,964 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:04:40,037 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:04:40,565 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:04:40,568 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:04:48,351 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:04:48] "GET / HTTP/1.1" 200 -
2025-04-27 13:04:48,405 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:04:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 13:04:48,788 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:04:48] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 13:04:56,622 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-27 13:04:56,622 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 13:04:56,623 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-27 13:04:56,623 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 13:04:56,623 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 13:04:56,623 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 13:04:56,623 - app - INFO - 生成的居住证明材料:
2025-04-27 13:04:56,623 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 13:04:56,623 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 13:04:56,623 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:04:56,623 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 13:04:56,624 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:04:56] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 13:04:57,873 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:04:57,874 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:04:57,874 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 13:04:57,874 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-27 13:04:57,874 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 13:04:57,874 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 13:04:57,874 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 13:04:57,875 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 13:04:57,875 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:04:57,875 - app - DEBUG - 部分: 基本信息
2025-04-27 13:04:57,875 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:04:57,875 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 13:04:57,875 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-27 13:04:57,875 - app - DEBUG - 部分: 基本材料
2025-04-27 13:04:57,875 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:04:57,875 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:04:57,875 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:04:57,875 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:04:57,875 - app - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-27 13:04:57,876 - app - DEBUG -   - 非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明
2025-04-27 13:04:57,876 - app - DEBUG - 部分: 财力证明
2025-04-27 13:04:57,876 - app - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-27 13:04:57,876 - app - DEBUG - 部分: 居住证明材料
2025-04-27 13:04:57,876 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:04:57,876 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 13:04:57,876 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:04:57,876 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 13:04:57,876 - app - DEBUG - 部分: 其他材料
2025-04-27 13:04:57,877 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:04:57,877 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG -   - 非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 13:04:57,878 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:04:57,879 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 13:04:57,879 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:04:57,879 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 13:04:57,879 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:04:57,879 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:04:57,879 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpzkuae75r.html
2025-04-27 13:04:57,879 - document_generator.pdf_generator - ERROR - WeasyPrint生成PDF失败: cannot access local variable 'HTML' where it is not associated with a value
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 79, in generate_pdf
    html = HTML(string=html_content)
           ^^^^
UnboundLocalError: cannot access local variable 'HTML' where it is not associated with a value
2025-04-27 13:04:57,880 - document_generator.pdf_generator - DEBUG - 尝试使用临时文件方法生成PDF
2025-04-27 13:04:58,012 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:04:58,012 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:04:58] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:05:06,710 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/test_pdf.py', reloading
2025-04-27 13:05:06,788 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:05:07,363 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:05:07,366 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:21:56,514 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:21:56,514 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:21:56,514 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 13:21:56,515 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-27 13:21:56,515 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 13:21:56,515 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-27 13:21:56,515 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:21:56,515 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:21:56,515 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:21:56,515 - app - DEBUG - 部分: 基本信息
2025-04-27 13:21:56,515 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:21:56,515 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:21:56,516 - app - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:21:56,516 - app - DEBUG - 部分: 基本材料
2025-04-27 13:21:56,516 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:21:56,516 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:21:56,516 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:21:56,516 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:21:56,516 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:21:56,516 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:21:56,516 - app - DEBUG - 部分: 财力证明
2025-04-27 13:21:56,516 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:21:56,517 - app - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:21:56,517 - app - DEBUG - 部分: 家属材料
2025-04-27 13:21:56,517 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:21:56,517 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:21:56,517 - app - DEBUG - 部分: 其他材料
2025-04-27 13:21:56,517 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:21:56,517 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:21:56,517 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:21:56,517 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=测试用户, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-27 13:21:56,517 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:21:56,518 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:21:56,519 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:21:56,519 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:21:56,519 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp44kn0e5_.html
2025-04-27 13:21:56,519 - document_generator.pdf_generator - ERROR - WeasyPrint生成PDF失败: cannot access local variable 'HTML' where it is not associated with a value
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 79, in generate_pdf
    html = HTML(string=html_content)
           ^^^^
UnboundLocalError: cannot access local variable 'HTML' where it is not associated with a value
2025-04-27 13:21:56,520 - document_generator.pdf_generator - DEBUG - 尝试使用临时文件方法生成PDF
2025-04-27 13:21:56,693 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:21:56,693 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 13:21:56] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:22:27,932 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:22:27] "GET / HTTP/1.1" 200 -
2025-04-27 13:22:27,998 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:22:27] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 13:22:28,776 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:22:28] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 13:22:36,623 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "FIVE", "processType": "TAX"}
2025-04-27 13:22:36,624 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-27 13:22:36,624 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8.5万的税单（上海领区）']
2025-04-27 13:22:36,624 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-27 13:22:36,624 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 13:22:36,624 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于8.5万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 13:22:36,624 - app - INFO - 生成的居住证明材料:
2025-04-27 13:22:36,624 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 13:22:36,624 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 13:22:36,624 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 13:22:36,624 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 13:22:36,625 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:22:36] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 13:22:39,359 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'FIVE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:22:39,359 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'FIVE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:22:39,359 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-27 13:22:39,359 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8.5万的税单（上海领区）']
2025-04-27 13:22:39,359 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=SINGLE
2025-04-27 13:22:39,359 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 13:22:39,360 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于8.5万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 13:22:39,360 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于8.5万的税单（上海领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 13:22:39,360 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:22:39,360 - app - DEBUG - 部分: 基本信息
2025-04-27 13:22:39,360 - app - DEBUG -   - 居住地领区: 上海
2025-04-27 13:22:39,360 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:22:39,360 - app - DEBUG -   - 申请类型: 五年多次往返签证
2025-04-27 13:22:39,360 - app - DEBUG - 部分: 基本材料
2025-04-27 13:22:39,360 - app - DEBUG -   - 护照原件+首页彩色复印件（剩余有效期大于7个月）
2025-04-27 13:22:39,360 - app - DEBUG -   - 签证申请表（双面打印）
2025-04-27 13:22:39,360 - app - DEBUG -   - 小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）
2025-04-27 13:22:39,360 - app - DEBUG -   - 户口本复印件（家庭户：户首页+户主页+本人页）
2025-04-27 13:22:39,360 - app - DEBUG -   - 在职证明（原件）
2025-04-27 13:22:39,360 - app - DEBUG - 部分: 财力证明
2025-04-27 13:22:39,361 - app - DEBUG -   - 税单办理：显示年纳税大于8.5万的税单（上海领区）
2025-04-27 13:22:39,361 - app - DEBUG - 部分: 居住证明材料
2025-04-27 13:22:39,361 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:22:39,361 - app - DEBUG -   - 1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 13:22:39,361 - app - DEBUG -   - 2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 13:22:39,361 - app - DEBUG -   - 3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 13:22:39,361 - app - DEBUG - 部分: 其他材料
2025-04-27 13:22:39,361 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=五年多次签证, 身份=在职人员, 领区=上海
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 上海
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 申请类型: 五年多次往返签证
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 护照原件+首页彩色复印件（剩余有效期大于7个月）
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 签证申请表（双面打印）
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页+户主页+本人页）
2025-04-27 13:22:39,361 - document_generator.pdf_generator - DEBUG -   - 在职证明（原件）
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于8.5万的税单（上海领区）
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG -   - 1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG -   - 2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG -   - 3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:22:39,362 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpq41wfbam.html
2025-04-27 13:22:39,362 - document_generator.pdf_generator - ERROR - WeasyPrint生成PDF失败: cannot access local variable 'HTML' where it is not associated with a value
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 79, in generate_pdf
    html = HTML(string=html_content)
           ^^^^
UnboundLocalError: cannot access local variable 'HTML' where it is not associated with a value
2025-04-27 13:22:39,363 - document_generator.pdf_generator - DEBUG - 尝试使用临时文件方法生成PDF
2025-04-27 13:22:39,474 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:22:39,474 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:22:39] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:26:02,616 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:26:02,686 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:26:03,214 - document_generator.pdf_generator - DEBUG - 当前操作系统: Linux
2025-04-27 13:26:03,219 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:26:03,222 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:27:10,564 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:27:10,645 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:27:11,464 - document_generator.pdf_generator - DEBUG - 当前操作系统: Linux
2025-04-27 13:27:11,474 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:27:11,484 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:28:12,761 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:28:12,832 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:28:13,361 - document_generator.pdf_generator - DEBUG - 当前操作系统: Linux
2025-04-27 13:28:13,384 - document_generator.pdf_generator - DEBUG - 系统中文字体列表: /usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans CJK HK:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans CJK JP:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans CJK KR:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans CJK SC:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans CJK TC:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans Mono CJK HK:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans Mono CJK JP:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans Mono CJK KR:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans Mono CJK SC:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Bold.ttc: Noto Sans Mono CJK TC:style=Bold
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK HK:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK JP:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK KR:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK SC:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans CJK TC:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans Mono CJK HK:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans Mono CJK JP:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans Mono CJK KR:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans Mono CJK SC:style=Regular
/usr/share/fonts/opentype/noto/NotoSansCJK-Regular.ttc: Noto Sans Mono CJK TC:style=Regular
/usr/share/fonts/opentype/noto/NotoSerifCJK-Bold.ttc: Noto Serif CJK HK:style=Bold
/usr/share/fonts/opentype/noto/NotoSerifCJK-Bold.ttc: Noto Serif CJK JP:style=Bold
/usr/share/fonts/opentype/noto/NotoSerifCJK-Bold.ttc: Noto Serif CJK KR:style=Bold
/usr/share/fonts/opentype/noto/NotoSerifCJK-Bold.ttc: Noto Serif CJK SC:style=Bold
/usr/share/fonts/opentype/noto/NotoSerifCJK-Bold.ttc: Noto Serif CJK TC:style=Bold
/usr/share/fonts/opentype/noto/NotoSerifCJK-Regular.ttc: Noto Serif CJK HK:style=Regular
/usr/share/fonts/opentype/noto/NotoSerifCJK-Regular.ttc: Noto Serif CJK JP:style=Regular
/usr/share/fonts/opentype/noto/NotoSerifCJK-Regular.ttc: Noto Serif CJK KR:style=Regular
/usr/share/fonts/opentype/noto/NotoSerifCJK-Regular.ttc: Noto Serif CJK SC:style=Regular
/usr/share/fonts/opentype/noto/NotoSerifCJK-Regular.ttc: Noto Serif CJK TC:style=Regular
/usr/share/fonts/truetype/wqy/wqy-microhei.ttc: WenQuanYi Micro Hei Mono,文泉驛等寬微米黑,文泉驿等宽微米黑:style=Regular
/usr/share/fonts/truetype/wqy/wqy-microhei.ttc: WenQuanYi Micro Hei,文泉驛微米黑,文泉驿微米黑:style=Regular
/usr/share/fonts/truetype/wqy/wqy-zenhei.ttc: WenQuanYi Zen Hei Mono,文泉驛等寬正黑,文泉驿等宽正黑:style=Regular
/usr/share/fonts/truetype/wqy/wqy-zenhei.ttc: WenQuanYi Zen Hei Sharp,文泉驛點陣正黑,文泉驿点阵正黑:style=Regular
/usr/share/fonts/truetype/wqy/wqy-zenhei.ttc: WenQuanYi Zen Hei,文泉驛正黑,文泉驿正黑:style=Regular

2025-04-27 13:28:13,390 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:28:13,392 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:29:01,620 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:29:01,690 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:29:02,232 - document_generator.pdf_generator - DEBUG - 当前操作系统: Linux
2025-04-27 13:29:02,237 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:29:02,240 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:30:52,720 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:30:52,819 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:30:53,373 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:30:53,376 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:32:01,684 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:32:01,754 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:32:02,315 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:32:02,318 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:32:53,547 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:32:53,807 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:32:54,431 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:32:54,433 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:35:25,091 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:35:25,161 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:35:25,692 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:35:25,697 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:35:25,700 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:38:19,945 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:38:19,945 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:38:19,945 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 13:38:19,945 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-27 13:38:19,945 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 13:38:19,945 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-27 13:38:19,945 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:38:19,945 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:38:19,946 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:38:19,946 - app - DEBUG - 部分: 基本信息
2025-04-27 13:38:19,946 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:38:19,946 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:38:19,946 - app - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:38:19,946 - app - DEBUG - 部分: 基本材料
2025-04-27 13:38:19,947 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:38:19,947 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:38:19,947 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:38:19,947 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:38:19,947 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:38:19,947 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:38:19,947 - app - DEBUG - 部分: 财力证明
2025-04-27 13:38:19,947 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:38:19,947 - app - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:38:19,947 - app - DEBUG - 部分: 家属材料
2025-04-27 13:38:19,947 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:38:19,947 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:38:19,947 - app - DEBUG - 部分: 其他材料
2025-04-27 13:38:19,947 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:38:19,948 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:38:19,948 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=测试用户, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:38:19,948 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:38:19,949 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpmeoy2u7v.html
2025-04-27 13:38:19,950 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 13:38:20,174 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 13:38:20,175 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:38:20,175 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 13:38:20] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:39:01,636 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:39:01,716 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:39:02,273 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:39:02,278 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:39:02,280 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:39:31,617 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:39:31] "GET / HTTP/1.1" 200 -
2025-04-27 13:39:31,737 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:39:31] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 13:39:32,132 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:39:32] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 13:39:41,307 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 13:39:41,307 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 13:39:41,307 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 13:39:41,307 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 13:39:41,307 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 13:39:41,308 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-27 13:39:41,308 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 13:39:41,308 - app - INFO - 生成的居住证明材料:
2025-04-27 13:39:41,308 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 13:39:41,308 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 13:39:41,308 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:39:41,308 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 13:39:41,308 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:39:41] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 13:39:43,989 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:39:43,989 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:39:43,990 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 13:39:43,990 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 13:39:43,990 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 13:39:43,990 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 13:39:43,990 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-27 13:39:43,990 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 13:39:43,990 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 13:39:43,990 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:39:43,990 - app - DEBUG - 部分: 基本信息
2025-04-27 13:39:43,990 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:39:43,990 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 13:39:43,990 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 13:39:43,990 - app - DEBUG - 部分: 基本材料
2025-04-27 13:39:43,991 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:39:43,991 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:39:43,991 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:39:43,991 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:39:43,991 - app - DEBUG - 部分: 财力证明
2025-04-27 13:39:43,991 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 13:39:43,991 - app - DEBUG - 部分: 居住证明材料
2025-04-27 13:39:43,991 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:39:43,991 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 13:39:43,991 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:39:43,991 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 13:39:43,991 - app - DEBUG - 部分: 其他材料
2025-04-27 13:39:43,991 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:39:43,991 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 13:39:43,991 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=自由职业者, 领区=北京
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 13:39:43,992 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:39:43,993 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 13:39:43,993 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:39:43,993 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:39:43,993 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 13:39:43,993 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpag6ao3uc.html
2025-04-27 13:39:43,993 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 13:39:44,216 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 13:39:44,217 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:39:44,217 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:39:44] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:42:18,134 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:42:18,213 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:42:18,750 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:42:18,755 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:42:18,757 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:45:37,616 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:45:37,687 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:45:38,231 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:45:38,237 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:45:38,240 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:48:22,936 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:48:23,011 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:48:23,572 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:48:23,578 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:48:23,580 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:48:31,948 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:48:31,949 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'beijing', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'SINGLE', 'processType': 'NORMAL'}
2025-04-27 13:48:31,949 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 13:48:31,949 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-27 13:48:31,949 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 13:48:31,949 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-27 13:48:31,949 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:48:31,949 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 13:48:31,949 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:48:31,949 - app - DEBUG - 部分: 基本信息
2025-04-27 13:48:31,949 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:48:31,950 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:48:31,950 - app - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:48:31,950 - app - DEBUG - 部分: 基本材料
2025-04-27 13:48:31,950 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:48:31,950 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:48:31,950 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:48:31,950 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:48:31,950 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:48:31,950 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:48:31,950 - app - DEBUG - 部分: 财力证明
2025-04-27 13:48:31,950 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:48:31,950 - app - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:48:31,950 - app - DEBUG - 部分: 家属材料
2025-04-27 13:48:31,950 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:48:31,950 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:48:31,951 - app - DEBUG - 部分: 其他材料
2025-04-27 13:48:31,951 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:48:31,951 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:48:31,951 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=测试用户, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:48:31,951 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 13:48:31,952 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 13:48:31,953 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp81e6o437.html
2025-04-27 13:48:31,953 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 13:48:32,029 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 59:13, unknown property.
2025-04-27 13:48:32,030 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 13:48:32,188 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 13:48:32,188 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:48:32,188 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 13:48:32] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:49:56,959 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:49:56] "GET / HTTP/1.1" 200 -
2025-04-27 13:49:57,019 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:49:57] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 13:49:57,871 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:49:57] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 13:50:06,663 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 13:50:06,663 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 13:50:06,663 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 13:50:06,663 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 13:50:06,663 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 13:50:06,663 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 13:50:06,663 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 13:50:06,663 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 13:50:06,663 - app - INFO - 生成的居住证明材料:
2025-04-27 13:50:06,663 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 13:50:06,664 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 13:50:06,664 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:50:06,664 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 13:50:06,664 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:50:06] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 13:50:10,123 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:50:10,123 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 13:50:10,123 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 13:50:10,123 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 13:50:10,123 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）']
2025-04-27 13:50:10,124 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 13:50:10,124 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 13:50:10,124 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 13:50:10,124 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 13:50:10,124 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 13:50:10,124 - app - DEBUG - 详细材料清单内容:
2025-04-27 13:50:10,124 - app - DEBUG - 部分: 基本信息
2025-04-27 13:50:10,124 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 13:50:10,124 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 13:50:10,124 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 13:50:10,124 - app - DEBUG - 部分: 基本材料
2025-04-27 13:50:10,124 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:50:10,124 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:50:10,125 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:50:10,125 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:50:10,125 - app - DEBUG - 部分: 财力证明
2025-04-27 13:50:10,125 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:50:10,125 - app - DEBUG - 部分: 居住证明材料
2025-04-27 13:50:10,125 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:50:10,125 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 13:50:10,125 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:50:10,125 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 13:50:10,125 - app - DEBUG - 部分: 其他材料
2025-04-27 13:50:10,125 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:50:10,125 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 13:50:10,125 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=退休人员, 领区=北京
2025-04-27 13:50:10,125 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 13:50:10,125 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 13:50:10,125 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 13:50:10,126 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 13:50:10,127 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 13:50:10,127 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpcm2_6o87.html
2025-04-27 13:50:10,127 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 13:50:10,148 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 59:13, unknown property.
2025-04-27 13:50:10,149 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 13:50:10,245 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 13:50:10,245 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 13:50:10,246 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:50:10] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 13:51:23,626 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:51:23] "GET / HTTP/1.1" 200 -
2025-04-27 13:51:23,703 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:51:23] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 13:51:24,094 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 13:51:24] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 13:53:23,884 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 13:53:23,968 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:53:24,531 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:53:24,536 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:53:24,539 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 13:53:48,677 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/test_pdf_with_details.py', reloading
2025-04-27 13:53:48,748 - werkzeug - INFO -  * Restarting with stat
2025-04-27 13:53:49,279 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 13:53:49,285 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 13:53:49,287 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 14:12:11,770 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'shanghai', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'FIVE', 'processType': 'TAX', 'visitedJapan': True, 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'FREELANCER', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai'}, {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing'}]}
2025-04-27 14:12:11,771 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'applicationType': 'FAMILY', 'hukouConsulate': 'shanghai', 'applicantName': '测试用户', 'identityType': 'EMPLOYED', 'visaType': 'FIVE', 'processType': 'TAX', 'visitedJapan': True, 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'FREELANCER', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai'}, {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing'}]}
2025-04-27 14:12:11,771 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 14:12:11,771 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8万的税单（北京领区）']
2025-04-27 14:12:11,771 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:12:11,771 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 14:12:11,771 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:12:11,771 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=beijing
2025-04-27 14:12:11,772 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:12:11,772 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCER)，材料将在其他材料部分显示
2025-04-27 14:12:11,772 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员2 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 14:12:11,772 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 14:12:11,772 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  , 身份类型: FREELANCER
2025-04-27 14:12:11,772 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['税单办理：显示年纳税大于8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:12:11,773 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 五年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['税单办理：显示年纳税大于8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:12:11,773 - app - DEBUG - 详细材料清单内容:
2025-04-27 14:12:11,773 - app - DEBUG - 部分: 基本信息
2025-04-27 14:12:11,773 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 14:12:11,773 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 14:12:11,773 - app - DEBUG -   - 申请类型: 五年多次往返签证
2025-04-27 14:12:11,773 - app - DEBUG - 部分: 基本材料
2025-04-27 14:12:11,773 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 14:12:11,773 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 14:12:11,773 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 14:12:11,773 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 14:12:11,773 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 14:12:11,773 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 14:12:11,774 - app - DEBUG - 部分: 财力证明
2025-04-27 14:12:11,774 - app - DEBUG -   - 税单办理：显示年纳税大于8万的税单（北京领区）
2025-04-27 14:12:11,774 - app - DEBUG - 部分: 居住证明材料
2025-04-27 14:12:11,774 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:12:11,774 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 14:12:11,774 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:12:11,774 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 14:12:11,774 - app - DEBUG - 部分: 家属材料
2025-04-27 14:12:11,774 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 14:12:11,774 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 14:12:11,774 - app - DEBUG - 部分: 其他材料
2025-04-27 14:12:11,774 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 14:12:11,775 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 14:12:11,775 - app - DEBUG -   - 3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 14:12:11,775 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=测试用户, 签证类型=五年多次签证, 身份=在职人员, 领区=北京
2025-04-27 14:12:11,775 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 14:12:11,775 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 14:12:11,775 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 14:12:11,775 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 申请类型: 五年多次往返签证
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于8万的税单（北京领区）
2025-04-27 14:12:11,776 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 14:12:11,777 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:12:11,777 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 14:12:11,777 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 14:12:11,778 - document_generator.pdf_generator - DEBUG -   - 3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 14:12:11,779 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpjpfckb90.html
2025-04-27 14:12:11,779 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 14:12:11,865 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 14:12:11,866 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 14:12:11,868 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 14:12:12,066 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 14:12:12,066 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 14:12:12,067 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 14:12:12] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 14:12:13,910 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 14:12:13,992 - werkzeug - INFO -  * Restarting with stat
2025-04-27 14:12:14,522 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 14:12:14,527 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 14:12:14,529 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 14:13:51,358 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:13:51] "GET / HTTP/1.1" 200 -
2025-04-27 14:13:51,423 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:13:51] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 14:13:52,176 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:13:52] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 14:14:05,302 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 14:14:05,302 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:14:05,302 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 14:14:05,302 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 14:14:05,302 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 14:14:05,302 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:14:05,302 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:14:05,302 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 14:14:05,302 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:14:05,302 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:14:05,303 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 14:14:05,303 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 14:14:05,303 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 14:14:05,303 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:14:05,303 - app - INFO - 生成的居住证明材料:
2025-04-27 14:14:05,303 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:14:05,303 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:14:05,303 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:14:05,303 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:14:05,304 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:14:05] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:14:50,102 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 14:14:50,102 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:14:50,102 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 14:14:50,103 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 14:14:50,103 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 14:14:50,103 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 14:14:50,103 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:14:50,103 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 14:14:50,103 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:14:50,103 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:14:50,103 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 14:14:50,103 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 14:14:50,103 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 14:14:50,103 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:14:50,104 - app - INFO - 生成的居住证明材料:
2025-04-27 14:14:50,104 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:14:50,104 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:14:50,104 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:14:50,104 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:14:50,104 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:14:50] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:14:59,573 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 14:14:59,573 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:14:59,573 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-27 14:14:59,573 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 14:14:59,573 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 14:14:59,573 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '近期一年的收入流水']
2025-04-27 14:14:59,573 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-27 14:14:59,573 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-27 14:14:59,573 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 14:14:59,574 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 14:14:59,574 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 14:14:59,574 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 14:14:59,574 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '近期一年的收入流水'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:14:59,574 - app - INFO - 生成的居住证明材料:
2025-04-27 14:14:59,574 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:14:59,574 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 14:14:59,574 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 14:14:59,574 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 14:14:59,575 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:14:59] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:15:12,311 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 14:15:12,311 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:15:12,311 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-27 14:15:12,311 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 14:15:12,311 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 14:15:12,311 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水']
2025-04-27 14:15:12,311 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-27 14:15:12,311 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-27 14:15:12,311 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 14:15:12,312 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 14:15:12,312 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 14:15:12,312 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 14:15:12,312 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）', '近期一年的收入流水'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:15:12,312 - app - INFO - 生成的居住证明材料:
2025-04-27 14:15:12,312 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:15:12,312 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 14:15:12,312 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 14:15:12,312 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 14:15:12,313 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:15:12] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:15:49,750 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 14:15:49,751 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:15:49,751 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 14:15:49,751 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 14:15:49,751 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 14:15:49,751 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 14:15:49,751 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:15:49,751 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 14:15:49,751 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:15:49,751 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:15:49,751 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 14:15:49,751 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 14:15:49,751 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 14:15:49,752 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）', '3. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:15:49,752 - app - INFO - 生成的居住证明材料:
2025-04-27 14:15:49,752 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:15:49,752 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:15:49,752 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:15:49,752 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:15:49,752 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:15:49] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:18:56,363 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 14:18:56,371 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 14:18:56,371 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 14:18:56,372 - werkzeug - INFO -  * Restarting with stat
2025-04-27 14:18:56,928 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 14:18:56,936 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 14:18:56,943 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 14:19:04,294 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:19:04] "GET / HTTP/1.1" 200 -
2025-04-27 14:19:04,411 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:19:04] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 14:19:05,288 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:19:05] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 14:19:18,569 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 14:19:18,570 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:19:18,570 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 14:19:18,570 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 14:19:18,570 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:19:18,570 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:19:18,570 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 14:19:18,570 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:19:18,570 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 14:19:18,570 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 14:19:18,571 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 14:19:18,571 - app - INFO - 生成的居住证明材料:
2025-04-27 14:19:18,571 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:19:18,571 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:19:18,572 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:19:18,572 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:19:18,572 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:19:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:20:38,507 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/basic_materials.py', reloading
2025-04-27 14:20:38,652 - werkzeug - INFO -  * Restarting with stat
2025-04-27 14:20:39,499 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 14:20:39,507 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 14:20:39,514 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 14:21:08,443 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:21:08] "GET / HTTP/1.1" 200 -
2025-04-27 14:21:08,491 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:21:08] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 14:21:09,277 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:21:09] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 14:21:28,897 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 14:21:28,897 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:21:28,897 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=other
2025-04-27 14:21:28,897 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 14:21:28,897 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:21:28,897 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:21:28,897 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=other
2025-04-27 14:21:28,897 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:21:28,897 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:21:28,898 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:21:28,898 - app - INFO - 生成的居住证明材料:
2025-04-27 14:21:28,898 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:21:28,898 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:21:28,898 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:21:28,898 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:21:28,898 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:21:28] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:21:46,663 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 14:21:46,663 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:21:46,663 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=other
2025-04-27 14:21:46,663 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 14:21:46,663 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:21:46,663 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 14:21:46,663 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=other
2025-04-27 14:21:46,664 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:21:46,664 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:21:46,664 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:21:46,664 - app - INFO - 生成的居住证明材料:
2025-04-27 14:21:46,664 - app - INFO -   家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:21:46,664 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:21:46,664 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:21:46,664 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:21:46,664 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:21:46] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:21:51,756 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 14:21:51,756 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 14:21:51,757 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 14:21:51,757 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:21:51,757 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=FAMILY
2025-04-27 14:21:51,757 - document_generator.residence_materials - INFO - 家庭申请中没有发现需要居住证明的成员
2025-04-27 14:21:51,757 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:21:51,757 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:21:51,757 - app - DEBUG - 详细材料清单内容:
2025-04-27 14:21:51,757 - app - DEBUG - 部分: 基本信息
2025-04-27 14:21:51,757 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 14:21:51,757 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 14:21:51,757 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 14:21:51,757 - app - DEBUG - 部分: 基本材料
2025-04-27 14:21:51,758 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 14:21:51,758 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 14:21:51,758 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 14:21:51,758 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 14:21:51,758 - app - DEBUG - 部分: 财力证明
2025-04-27 14:21:51,758 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 14:21:51,758 - app - DEBUG - 部分: 家属材料
2025-04-27 14:21:51,758 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 14:21:51,758 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 14:21:51,758 - app - DEBUG - 部分: 其他材料
2025-04-27 14:21:51,758 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 14:21:51,758 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 14:21:51,759 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 14:21:51,760 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 14:21:51,761 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp19qyty0l.html
2025-04-27 14:21:51,761 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 14:21:51,862 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 14:21:51,862 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 14:21:51,865 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 14:21:52,062 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 14:21:52,062 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 14:21:52,063 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:21:52] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 14:23:21,451 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 14:23:21,451 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 14:23:21,451 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=other
2025-04-27 14:23:21,451 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 14:23:21,451 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:23:21,451 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:23:21,451 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=other
2025-04-27 14:23:21,451 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 14:23:21,452 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:23:21,452 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:23:21,452 - app - INFO - 生成的居住证明材料:
2025-04-27 14:23:21,452 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:23:21,452 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 14:23:21,452 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:23:21,452 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 14:23:21,452 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:23:21] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 14:23:22,810 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 14:23:22,811 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 14:23:22,811 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 14:23:22,811 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 14:23:22,811 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 14:23:22,811 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 14:23:22,812 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:23:22,812 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 14:23:22,812 - app - DEBUG - 详细材料清单内容:
2025-04-27 14:23:22,812 - app - DEBUG - 部分: 基本信息
2025-04-27 14:23:22,812 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 14:23:22,812 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 14:23:22,812 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 14:23:22,812 - app - DEBUG - 部分: 基本材料
2025-04-27 14:23:22,812 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 14:23:22,812 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 14:23:22,813 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 14:23:22,813 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 14:23:22,813 - app - DEBUG - 部分: 财力证明
2025-04-27 14:23:22,813 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 14:23:22,813 - app - DEBUG - 部分: 居住证明材料
2025-04-27 14:23:22,813 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:23:22,813 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 14:23:22,813 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:23:22,814 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 14:23:22,814 - app - DEBUG - 部分: 家属材料
2025-04-27 14:23:22,814 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 14:23:22,814 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 14:23:22,814 - app - DEBUG - 部分: 其他材料
2025-04-27 14:23:22,814 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 14:23:22,814 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 14:23:22,814 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 14:23:22,815 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 14:23:22,816 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 14:23:22,817 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpex8wt5t0.html
2025-04-27 14:23:22,817 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 14:23:22,844 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 14:23:22,845 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 14:23:22,849 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 14:23:22,968 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 14:23:22,969 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 14:23:22,969 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 14:23:22] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 14:34:27,569 - werkzeug - INFO - 118.26.36.130 - - [27/Apr/2025 14:34:27] "GET / HTTP/1.1" 200 -
2025-04-27 14:37:22,190 - werkzeug - INFO - 152.32.132.190 - - [27/Apr/2025 14:37:22] "GET / HTTP/1.1" 200 -
2025-04-27 14:37:22,644 - werkzeug - INFO - 152.32.132.190 - - [27/Apr/2025 14:37:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-27 14:44:04,274 - werkzeug - ERROR - 162.216.149.154 - - [27/Apr/2025 14:44:04] code 400, message Bad request version ('À\x13À')
2025-04-27 14:44:04,274 - werkzeug - INFO - 162.216.149.154 - - [27/Apr/2025 14:44:04] "[31m[1m î  êòÊß)oÕyØ Å³wº´ù³ô_:rÒÂoÝä, øô´ÜÿB)f(íç&¿¥ènYôÈë¿aù.+ñ &À+À/À,À0Ì©Ì¨À	ÀÀ[0m" 400 -
2025-04-27 14:44:04,706 - werkzeug - ERROR - 162.216.149.154 - - [27/Apr/2025 14:44:04] code 400, message Bad request syntax ('\x16\x03\x01\x00Ê\x01\x00\x00Æ\x03\x031\x9eÿóóæ\x9cønìèéf~ã\x83«Å`îdÉ"Âõ0')
2025-04-27 14:44:04,706 - werkzeug - INFO - 162.216.149.154 - - [27/Apr/2025 14:44:04] "[31m[1m Ê  Æ1ÿóóæønìèéf~ã«Å`îdÉ"Âõ0[0m" 400 -
2025-04-27 14:58:53,274 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 14:58:53,446 - werkzeug - INFO -  * Restarting with stat
2025-04-27 14:58:54,199 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 14:58:54,204 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 14:58:54,207 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:00:00,492 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 15:00:00,564 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:00:01,098 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:00:01,103 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:00:01,106 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:01:28,479 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 15:01:28,551 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:01:29,085 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:01:29,090 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:01:29,093 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:02:01,251 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/test_family_members_pdf.py', reloading
2025-04-27 15:02:01,337 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:02:01,903 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:02:01,909 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:02:01,911 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:04:14,494 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/test_family_members_pdf.py', reloading
2025-04-27 15:04:14,566 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:04:15,168 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:04:15,174 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:04:15,180 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:04:34,401 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:04:34] "GET / HTTP/1.1" 200 -
2025-04-27 15:04:34,491 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:04:34] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:04:35,302 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:04:35] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:04:49,632 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:04:49,632 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:04:49,632 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:04:49,632 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:04:49,633 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:04:49,633 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:04:49,633 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:04:49,633 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:04:49,633 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:04:49,633 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:04:49,633 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:04:49,633 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:04:49,633 - app - INFO - 生成的居住证明材料:
2025-04-27 15:04:49,634 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:04:49,634 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:04:49,634 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:04:49,634 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:04:49,634 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:04:49] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:04:51,457 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:04:51,457 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:04:51,457 - app - DEBUG - 家庭成员数量: 0
2025-04-27 15:04:51,457 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:04:51,457 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:04:51,457 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:04:51,457 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:04:51,457 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:04:51,457 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:04:51,457 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:04:51,458 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:04:51,458 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:04:51,458 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:04:51,458 - app - DEBUG - 部分: 基本信息
2025-04-27 15:04:51,458 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:04:51,458 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:04:51,458 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:04:51,458 - app - DEBUG - 部分: 基本材料
2025-04-27 15:04:51,458 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:04:51,458 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:04:51,458 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:04:51,459 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:04:51,459 - app - DEBUG - 部分: 财力证明
2025-04-27 15:04:51,459 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:04:51,459 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:04:51,459 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:04:51,459 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:04:51,459 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:04:51,460 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:04:51,460 - app - DEBUG - 部分: 家属材料
2025-04-27 15:04:51,460 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:04:51,460 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:04:51,460 - app - DEBUG - 部分: 其他材料
2025-04-27 15:04:51,460 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:04:51,460 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:04:51,462 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=退休人员, 领区=北京
2025-04-27 15:04:51,462 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 0
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:04:51,463 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:04:51,464 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 0
2025-04-27 15:04:51,465 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:04:51,465 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp0skkof9y.html
2025-04-27 15:04:51,465 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:04:51,541 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:04:51,542 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:04:51,544 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:04:51,722 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:04:51,722 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:04:51,722 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:04:51] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:05:35,245 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:05:35,246 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:05:35,246 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=beijing
2025-04-27 15:05:35,246 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 15:05:35,246 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:05:35,246 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-27 15:05:35,246 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-27 15:05:35,246 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=beijing
2025-04-27 15:05:35,247 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:05:35,247 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 15:05:35,247 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 15:05:35,247 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 15:05:35,247 - app - INFO - 生成的居住证明材料:
2025-04-27 15:05:35,247 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:05:35,247 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 15:05:35,247 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:05:35,247 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:05:35,248 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:05:35] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:05:36,514 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:05:36,514 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:05:36,515 - app - DEBUG - 家庭成员数量: 0
2025-04-27 15:05:36,515 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:05:36,515 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 15:05:36,515 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:05:36,515 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-27 15:05:36,515 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-27 15:05:36,516 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 15:05:36,516 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 15:05:36,516 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 15:05:36,516 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 15:05:36,516 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:05:36,516 - app - DEBUG - 部分: 基本信息
2025-04-27 15:05:36,516 - app - DEBUG -   - 居住地领区: 上海
2025-04-27 15:05:36,516 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 15:05:36,516 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:05:36,516 - app - DEBUG - 部分: 基本材料
2025-04-27 15:05:36,516 - app - DEBUG -   - 护照原件+首页彩色复印件（剩余有效期大于7个月）
2025-04-27 15:05:36,516 - app - DEBUG -   - 签证申请表（双面打印）
2025-04-27 15:05:36,516 - app - DEBUG -   - 小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）
2025-04-27 15:05:36,516 - app - DEBUG -   - 户口本复印件（家庭户：户首页+户主页+本人页）
2025-04-27 15:05:36,517 - app - DEBUG - 部分: 财力证明
2025-04-27 15:05:36,517 - app - DEBUG -   - 税单办理：显示年纳税大于1.8万的税单（上海领区）
2025-04-27 15:05:36,517 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:05:36,517 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:05:36,517 - app - DEBUG -   - 1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 15:05:36,517 - app - DEBUG -   - 2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:05:36,517 - app - DEBUG -   - 3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:05:36,517 - app - DEBUG - 部分: 家属材料
2025-04-27 15:05:36,517 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:05:36,517 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:05:36,518 - app - DEBUG - 部分: 其他材料
2025-04-27 15:05:36,518 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:05:36,518 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）
2025-04-27 15:05:36,518 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=退休人员, 领区=上海
2025-04-27 15:05:36,518 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 0
2025-04-27 15:05:36,518 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:05:36,518 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:05:36,518 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 上海
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 护照原件+首页彩色复印件（剩余有效期大于7个月）
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 签证申请表（双面打印）
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）
2025-04-27 15:05:36,519 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页+户主页+本人页）
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于1.8万的税单（上海领区）
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG -   - 1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG -   - 2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG -   - 3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:05:36,520 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 0
2025-04-27 15:05:36,521 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:05:36,522 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpn6geiiu1.html
2025-04-27 15:05:36,522 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:05:36,549 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:05:36,550 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:05:36,552 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:05:36,661 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:05:36,661 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:05:36,661 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:05:36] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:06:46,807 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:06:46,808 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:06:46,808 - app - DEBUG - 家庭成员数量: 0
2025-04-27 15:06:46,808 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'shanghai', 'hukouConsulate': 'beijing', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:06:46,808 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）']
2025-04-27 15:06:46,808 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:06:46,808 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-27 15:06:46,808 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-27 15:06:46,808 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 15:06:46,808 - document_generator.other_materials - DEBUG - 上海领区：主申请人是退休人员，添加退休证明要求
2025-04-27 15:06:46,808 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 15:06:46,809 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）']})
2025-04-27 15:06:46,809 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:06:46,809 - app - DEBUG - 部分: 基本信息
2025-04-27 15:06:46,809 - app - DEBUG -   - 居住地领区: 上海
2025-04-27 15:06:46,809 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 15:06:46,809 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:06:46,809 - app - DEBUG - 部分: 基本材料
2025-04-27 15:06:46,809 - app - DEBUG -   - 护照原件+首页彩色复印件（剩余有效期大于7个月）
2025-04-27 15:06:46,809 - app - DEBUG -   - 签证申请表（双面打印）
2025-04-27 15:06:46,809 - app - DEBUG -   - 小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）
2025-04-27 15:06:46,809 - app - DEBUG -   - 户口本复印件（家庭户：户首页+户主页+本人页）
2025-04-27 15:06:46,809 - app - DEBUG - 部分: 财力证明
2025-04-27 15:06:46,810 - app - DEBUG -   - 税单办理：显示年纳税大于1.8万的税单（上海领区）
2025-04-27 15:06:46,810 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:06:46,810 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:06:46,810 - app - DEBUG -   - 1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 15:06:46,810 - app - DEBUG -   - 2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:06:46,810 - app - DEBUG -   - 3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:06:46,810 - app - DEBUG - 部分: 家属材料
2025-04-27 15:06:46,811 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:06:46,811 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:06:46,811 - app - DEBUG - 部分: 其他材料
2025-04-27 15:06:46,811 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:06:46,811 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）
2025-04-27 15:06:46,811 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=退休人员, 领区=上海
2025-04-27 15:06:46,811 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 0
2025-04-27 15:06:46,811 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 上海
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:06:46,812 - document_generator.pdf_generator - DEBUG -   - 护照原件+首页彩色复印件（剩余有效期大于7个月）
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 签证申请表（双面打印）
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页+户主页+本人页）
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于1.8万的税单（上海领区）
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 15:06:46,813 - document_generator.pdf_generator - DEBUG -   - 2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG -   - 3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（主申请人）
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 0
2025-04-27 15:06:46,814 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:06:46,815 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpfukx1nhj.html
2025-04-27 15:06:46,815 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:06:46,844 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:06:46,845 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:06:46,847 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:06:46,961 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:06:46,961 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:06:46,962 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:06:46] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:07:07,730 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:07:07,730 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-27 15:07:07,730 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 15:07:07,730 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:07:07,730 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:07:07,731 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:07:07,731 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:07:07,731 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:07:07,731 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 15:07:07,731 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-27 15:07:07,731 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-27 15:07:07,731 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:07:07,732 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:07:07,732 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:07:07,732 - app - INFO - 生成的居住证明材料:
2025-04-27 15:07:07,732 - app - INFO -   主申请人, 家庭成员2需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:07:07,732 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:07:07,732 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:07:07,732 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:07:07,733 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:07:07] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:07:11,895 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:07:11,895 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:07:11,895 - app - DEBUG - 家庭成员数量: 0
2025-04-27 15:07:11,895 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:07:11,896 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:07:11,896 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:07:11,896 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:07:11,896 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:07:11,896 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:07:11,896 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:07:11,896 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:07:11,896 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:07:11,896 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:07:11,896 - app - DEBUG - 部分: 基本信息
2025-04-27 15:07:11,897 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:07:11,897 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:07:11,897 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:07:11,897 - app - DEBUG - 部分: 基本材料
2025-04-27 15:07:11,897 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:07:11,897 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:07:11,897 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:07:11,897 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:07:11,898 - app - DEBUG - 部分: 财力证明
2025-04-27 15:07:11,898 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:07:11,898 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:07:11,898 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:07:11,898 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:07:11,898 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:07:11,898 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:07:11,898 - app - DEBUG - 部分: 家属材料
2025-04-27 15:07:11,899 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:07:11,899 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:07:11,899 - app - DEBUG - 部分: 其他材料
2025-04-27 15:07:11,899 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:07:11,899 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:07:11,899 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=退休人员, 领区=北京
2025-04-27 15:07:11,899 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 0
2025-04-27 15:07:11,899 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:07:11,899 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:07:11,900 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 0
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:07:11,901 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmptan9jqr8.html
2025-04-27 15:07:11,902 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:07:11,925 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:07:11,925 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:07:11,927 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:07:12,036 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:07:12,036 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:07:12,036 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:07:12] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:08:00,253 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:08:00,253 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:08:00,253 - app - DEBUG - 家庭成员数量: 0
2025-04-27 15:08:00,254 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'RETIRED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:08:00,254 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:08:00,254 - document_generator.identity_materials - DEBUG - 为身份 RETIRED 生成身份材料: ['退休证复印件']
2025-04-27 15:08:00,254 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:08:00,254 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:08:00,254 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:08:00,254 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:08:00,254 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:08:00,255 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:08:00,255 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:08:00,255 - app - DEBUG - 部分: 基本信息
2025-04-27 15:08:00,255 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:08:00,255 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:08:00,255 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:08:00,255 - app - DEBUG - 部分: 基本材料
2025-04-27 15:08:00,255 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:08:00,256 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:08:00,256 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:08:00,256 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:08:00,256 - app - DEBUG - 部分: 财力证明
2025-04-27 15:08:00,256 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:08:00,256 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:08:00,256 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:08:00,256 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:08:00,256 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:08:00,256 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:08:00,256 - app - DEBUG - 部分: 家属材料
2025-04-27 15:08:00,256 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:08:00,257 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:08:00,257 - app - DEBUG - 部分: 其他材料
2025-04-27 15:08:00,257 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:08:00,257 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=退休人员, 领区=北京
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 0
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:08:00,257 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:08:00,258 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 0
2025-04-27 15:08:00,259 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:08:00,260 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpldsfokb3.html
2025-04-27 15:08:00,260 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:08:00,283 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:08:00,283 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:08:00,286 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:08:00,392 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:08:00,393 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:08:00,393 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:08:00] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:09:18,888 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:09:18,895 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 15:09:18,895 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 15:09:18,896 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:09:19,445 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:09:19,451 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:09:19,454 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:09:20,484 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:09:20] "GET / HTTP/1.1" 200 -
2025-04-27 15:09:20,655 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:09:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:09:21,429 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:09:21] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:09:35,728 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:09:35,729 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:09:35,729 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=other
2025-04-27 15:09:35,729 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:09:35,729 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:09:35,729 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:09:35,729 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=other
2025-04-27 15:09:35,729 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:09:35,729 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:09:35,729 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:09:35,730 - app - INFO - 生成的居住证明材料:
2025-04-27 15:09:35,730 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:09:35,730 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:09:35,730 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:09:35,730 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:09:35,731 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:09:35] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:09:39,484 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:09:39,484 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:09:39,484 - app - DEBUG - 家庭成员数量: 0
2025-04-27 15:09:39,484 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:09:39,484 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:09:39,484 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:09:39,484 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:09:39,484 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:09:39,485 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:09:39,485 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:09:39,485 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:09:39,485 - app - DEBUG - 部分: 基本信息
2025-04-27 15:09:39,485 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:09:39,486 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:09:39,486 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:09:39,486 - app - DEBUG - 部分: 基本材料
2025-04-27 15:09:39,486 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:09:39,486 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:09:39,486 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:09:39,486 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:09:39,486 - app - DEBUG - 部分: 财力证明
2025-04-27 15:09:39,486 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:09:39,486 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:09:39,486 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:09:39,487 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:09:39,487 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:09:39,487 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:09:39,487 - app - DEBUG - 部分: 家属材料
2025-04-27 15:09:39,487 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:09:39,487 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:09:39,487 - app - DEBUG - 部分: 其他材料
2025-04-27 15:09:39,487 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:09:39,487 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 15:09:39,487 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 0
2025-04-27 15:09:39,487 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:09:39,488 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:09:39,489 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:09:39,490 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:09:39,491 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 0
2025-04-27 15:09:39,491 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:09:39,491 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpuksba855.html
2025-04-27 15:09:39,491 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:09:39,566 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:09:39,567 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:09:39,569 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:09:39,737 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:09:39,737 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:09:39,738 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:09:39] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:13:52,679 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:13:52,759 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:13:53,300 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:13:53,305 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:13:53,308 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:15:30,769 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/test_empty_family_pdf.py', reloading
2025-04-27 15:15:30,891 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:15:32,001 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:15:32,007 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:15:32,010 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:20:47,356 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:20:47,427 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:20:47,978 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:20:47,984 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:20:47,986 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:23:03,297 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:23:03,303 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 15:23:03,304 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 15:23:03,304 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:23:03,849 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:23:03,855 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:23:03,858 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:23:06,554 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:23:06] "GET / HTTP/1.1" 200 -
2025-04-27 15:23:06,614 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:23:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:23:07,025 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:23:07] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-27 15:23:21,672 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:23:21,672 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:23:21,672 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:23:21,672 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:23:21,673 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:23:21,673 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:23:21,673 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:23:21,673 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:23:21,673 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:23:21,673 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-27 15:23:21,673 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 15:23:21,673 - app - INFO - 生成的居住证明材料:
2025-04-27 15:23:21,673 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:23:21,673 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:23:21,673 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:23:21,673 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:23:21,674 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:23:21] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:26:33,836 - werkzeug - INFO - 180.101.245.247 - - [27/Apr/2025 15:26:33] "GET / HTTP/1.1" 200 -
2025-04-27 15:26:35,512 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:26:35] "GET / HTTP/1.1" 200 -
2025-04-27 15:26:35,550 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:26:35] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:26:35,571 - werkzeug - INFO - 129.211.167.70 - - [27/Apr/2025 15:26:35] "GET / HTTP/1.1" 200 -
2025-04-27 15:26:36,022 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:26:36] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:26:36,468 - werkzeug - INFO - 129.211.164.19 - - [27/Apr/2025 15:26:36] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-27 15:26:36,497 - werkzeug - INFO - 129.211.167.128 - - [27/Apr/2025 15:26:36] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-27 15:26:42,008 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:26:42,008 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:26:42,008 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:26:42,008 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 15:26:42,008 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:26:42,008 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:26:42,008 - app - INFO - 生成的居住证明材料:
2025-04-27 15:26:42,009 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 15:26:42,009 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:26:42,009 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:26:42,009 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:26:42,009 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:26:42] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:26:42,831 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:26:42,831 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人'}
2025-04-27 15:26:42,831 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:26:42,831 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:26:42,831 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 15:26:42,831 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:26:42,831 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:26:42,832 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:26:42,832 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:26:42,832 - app - DEBUG - 部分: 基本信息
2025-04-27 15:26:42,832 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:26:42,832 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:26:42,833 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:26:42,833 - app - DEBUG - 部分: 基本材料
2025-04-27 15:26:42,833 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:26:42,833 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:26:42,833 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:26:42,833 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:26:42,833 - app - DEBUG - 部分: 财力证明
2025-04-27 15:26:42,833 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:26:42,833 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:26:42,833 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 15:26:42,833 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:26:42,833 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:26:42,834 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:26:42,834 - app - DEBUG - 部分: 其他材料
2025-04-27 15:26:42,834 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:26:42,834 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 15:26:42,834 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:26:42,834 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:26:42,835 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:26:42,836 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:26:42,837 - document_generator.pdf_generator - DEBUG - 申请类型: SINGLE, 家庭成员数量: 0
2025-04-27 15:26:42,837 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:26:42,837 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp7wa3bl2e.html
2025-04-27 15:26:42,837 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:26:42,912 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:26:42,912 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:26:42,916 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:26:43,076 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:26:43,076 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:26:43,076 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:26:43] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:27:01,528 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:01] "GET / HTTP/1.1" 200 -
2025-04-27 15:27:01,614 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:01] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:27:01,922 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:01] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:27:22,015 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-27 15:27:22,015 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:27:22,015 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:27:22,016 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:27:22,016 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-27 15:27:22,016 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:27:22,016 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:27:22,016 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:27:22,016 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:27:22,016 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:27:22,016 - app - INFO - 生成的居住证明材料:
2025-04-27 15:27:22,016 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:27:22,016 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:27:22,016 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:27:22,016 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:27:22,017 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:22] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:27:37,947 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "SINGLE", "processType": "TAX"}
2025-04-27 15:27:37,948 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:27:37,948 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:27:37,948 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:27:37,948 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于8千的税单（北京领区）']
2025-04-27 15:27:37,948 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:27:37,948 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:27:37,948 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:27:37,948 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:27:37,948 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于8千的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:27:37,948 - app - INFO - 生成的居住证明材料:
2025-04-27 15:27:37,949 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:27:37,949 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:27:37,949 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:27:37,949 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:27:37,949 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:37] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:27:42,109 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:42] "GET / HTTP/1.1" 200 -
2025-04-27 15:27:42,203 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:27:42,571 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:42] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:27:54,307 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:27:54,307 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:27:54,307 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:27:54,307 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:27:54,307 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:27:54,307 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:27:54,307 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:27:54,307 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:27:54,307 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:27:54,308 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:27:54,308 - app - INFO - 生成的居住证明材料:
2025-04-27 15:27:54,308 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:27:54,308 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:27:54,308 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:27:54,308 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:27:54,308 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:54] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:27:59,325 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:27:59] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:28:34,512 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:28:34] "GET / HTTP/1.1" 200 -
2025-04-27 15:28:34,603 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:28:34] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:28:35,545 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:28:35] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:28:44,615 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:28:44,616 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:28:44,616 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:28:44,616 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 15:28:44,616 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:28:44,616 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:28:44,616 - app - INFO - 生成的居住证明材料:
2025-04-27 15:28:44,616 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 15:28:44,616 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:28:44,616 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:28:44,616 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:28:44,617 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:28:44] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:30:55,700 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:30:55,708 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-27 15:30:55,708 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 15:30:55,709 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:30:56,268 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:30:56,274 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:30:56,276 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:31:00,248 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:31:00] "GET / HTTP/1.1" 200 -
2025-04-27 15:31:00,318 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:31:00] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:31:01,126 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:31:01] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:31:22,274 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:31:22,274 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:31:22,274 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:31:22,274 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:31:22,274 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:31:22,274 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:31:22,274 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:31:22,274 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:31:22,274 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:31:22,274 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:31:22,275 - app - INFO - 生成的居住证明材料:
2025-04-27 15:31:22,275 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:31:22,275 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:31:22,275 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:31:22,275 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:31:22,275 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:31:22] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:31:23,391 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"CHILD","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 15:31:23,391 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:31:23,391 - app - DEBUG - 家庭成员数量: 1
2025-04-27 15:31:23,391 - app - DEBUG - 家庭成员 1: {'relation': 'CHILD', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 15:31:23,391 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'CHILD', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 15:31:23,391 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:31:23,391 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:31:23,392 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:31:23,392 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:31:23,392 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:31:23,392 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:31:23,392 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:31:23,392 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 15:31:23,392 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:31:23,392 - app - DEBUG - 部分: 基本信息
2025-04-27 15:31:23,392 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:31:23,392 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:31:23,392 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:31:23,392 - app - DEBUG - 部分: 基本材料
2025-04-27 15:31:23,392 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:31:23,393 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:31:23,393 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:31:23,394 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:31:23,394 - app - DEBUG - 部分: 财力证明
2025-04-27 15:31:23,394 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:31:23,394 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:31:23,395 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:31:23,395 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:31:23,395 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:31:23,395 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:31:23,395 - app - DEBUG - 部分: 家属材料
2025-04-27 15:31:23,395 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:31:23,395 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:31:23,396 - app - DEBUG - 部分: 其他材料
2025-04-27 15:31:23,396 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:31:23,396 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 15:31:23,396 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 15:31:23,396 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:31:23,396 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'CHILD', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:31:23,397 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:31:23,398 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:31:23,400 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 1
2025-04-27 15:31:23,400 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:31:23,401 - document_generator.pdf_generator - DEBUG - 将要显示的家庭成员: [{'relation': 'CHILD', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]
2025-04-27 15:31:23,401 - document_generator.pdf_generator - DEBUG - 处理家庭成员 1: {'relation': 'CHILD', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 15:31:23,401 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpuujbgc15.html
2025-04-27 15:31:23,401 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:31:23,478 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 67:13, unknown property.
2025-04-27 15:31:23,479 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 75:13, unknown property.
2025-04-27 15:31:23,481 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 3px rgba(0,0,0,0.1)` at 1:64, unknown property.
2025-04-27 15:31:23,659 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:31:23,660 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:31:23,660 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:31:23] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:36:49,819 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:36:49,900 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:36:50,435 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:36:50,440 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:36:50,443 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:42:39,932 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:42:40,001 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:42:40,543 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:42:40,548 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:42:40,551 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:45:29,643 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:45:29] "GET / HTTP/1.1" 200 -
2025-04-27 15:45:29,718 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:45:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:45:30,484 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:45:30] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:45:48,076 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 15:45:48,076 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 15:45:48,076 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 15:45:48,076 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:45:48,076 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:45:48,076 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:45:48,076 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:45:48,077 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:45:48,077 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:45:48,077 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 15:45:48,077 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:45:48,077 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:45:48,077 - app - INFO - 生成的居住证明材料:
2025-04-27 15:45:48,077 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:45:48,077 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 15:45:48,078 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:45:48,078 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 15:45:48,078 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:45:48] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 15:45:49,381 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"SPOUSE","identityType":"RETIRED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 15:45:49,381 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 15:45:49,381 - app - DEBUG - 家庭成员数量: 1
2025-04-27 15:45:49,381 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 15:45:49,382 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 15:45:49,382 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 15:45:49,382 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 15:45:49,382 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 15:45:49,382 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 15:45:49,382 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 15:45:49,382 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 15:45:49,382 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 15:45:49,382 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 15:45:49,383 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:45:49,383 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 15:45:49,383 - app - DEBUG - 详细材料清单内容:
2025-04-27 15:45:49,383 - app - DEBUG - 部分: 基本信息
2025-04-27 15:45:49,383 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 15:45:49,383 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:45:49,383 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:45:49,384 - app - DEBUG - 部分: 基本材料
2025-04-27 15:45:49,384 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:45:49,384 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:45:49,384 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:45:49,384 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:45:49,384 - app - DEBUG - 部分: 财力证明
2025-04-27 15:45:49,384 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:45:49,384 - app - DEBUG - 部分: 居住证明材料
2025-04-27 15:45:49,384 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:45:49,385 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:45:49,385 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:45:49,385 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:45:49,385 - app - DEBUG - 部分: 家属材料
2025-04-27 15:45:49,385 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:45:49,385 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:45:49,385 - app - DEBUG - 部分: 其他材料
2025-04-27 15:45:49,385 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:45:49,385 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:45:49,385 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 15:45:49,385 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 15:45:49,386 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 15:45:49,387 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 15:45:49,387 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 15:45:49,387 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 15:45:49,388 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - 申请类型: FAMILY, 家庭成员数量: 1
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - 将要显示的家庭成员: [{'relation': 'SPOUSE', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - 处理家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 15:45:49,389 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpepwa5v4s.html
2025-04-27 15:45:49,390 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 15:45:49,464 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 15:45:49,465 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 15:45:49,801 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 15:45:49,801 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 15:45:49,802 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:45:49] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 15:53:36,353 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:53:36,434 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:53:36,995 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:53:37,001 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:53:37,003 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:54:52,330 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:54:52,404 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:54:52,936 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:54:52,941 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:54:52,944 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:56:00,236 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:56:00,307 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:56:00,846 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:56:00,852 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:56:00,855 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:56:18,939 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 15:56:19,010 - werkzeug - INFO -  * Restarting with stat
2025-04-27 15:56:19,542 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 15:56:19,547 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 15:56:19,549 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 15:58:17,254 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:58:17] "GET / HTTP/1.1" 200 -
2025-04-27 15:58:17,305 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:58:17] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 15:58:17,715 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 15:58:17] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 15:59:01,747 - werkzeug - INFO - 205.210.31.249 - - [27/Apr/2025 15:59:01] "GET / HTTP/1.0" 200 -
2025-04-27 16:00:17,612 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:00:17,612 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-27 16:00:17,612 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:00:17,612 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=beijing
2025-04-27 16:00:17,612 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:00:17,612 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:00:17,612 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:00:17,612 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:00:17,612 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:00:17,612 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=beijing
2025-04-27 16:00:17,613 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:00:17,613 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:00:17,613 - app - INFO - 生成的居住证明材料:
2025-04-27 16:00:17,613 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:00:17,613 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:00:17,613 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:00:17,613 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:00:17,613 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:00:17] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:00:19,477 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1},{"relation":"CHILD","identityType":"CHILD","residenceConsulate":"beijing","hukouConsulate":"beijing","number":2}]'}
2025-04-27 16:00:19,477 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:00:19,477 - app - DEBUG - 家庭成员数量: 2
2025-04-27 16:00:19,477 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:00:19,478 - app - DEBUG - 家庭成员 2: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 2}
2025-04-27 16:00:19,478 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}, {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 2}]}
2025-04-27 16:00:19,478 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:00:19,478 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:00:19,478 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:00:19,478 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:00:19,478 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:00:19,478 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=beijing
2025-04-27 16:00:19,478 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:00:19,479 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:00:19,479 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:00:19,479 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:00:19,479 - app - DEBUG - 部分: 基本信息
2025-04-27 16:00:19,479 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:00:19,479 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:00:19,480 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:00:19,480 - app - DEBUG - 部分: 基本材料
2025-04-27 16:00:19,480 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:00:19,480 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:00:19,480 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:00:19,481 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:00:19,481 - app - DEBUG - 部分: 财力证明
2025-04-27 16:00:19,481 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:00:19,481 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:00:19,481 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:00:19,481 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:00:19,481 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:00:19,482 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:00:19,482 - app - DEBUG - 部分: 家属材料
2025-04-27 16:00:19,482 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:00:19,482 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:00:19,482 - app - DEBUG -   - 3. 家庭成员2需要由监护人陪同并提供监护关系证明
2025-04-27 16:00:19,482 - app - DEBUG - 部分: 其他材料
2025-04-27 16:00:19,482 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:00:19,482 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:00:19,482 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 2
2025-04-27 16:00:19,482 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG - 家庭成员 2: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 2}
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:00:19,483 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:00:19,484 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:00:19,484 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:00:19,484 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:00:19,484 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:00:19,485 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:00:19,485 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:00:19,485 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:00:19,485 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:00:19,485 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:00:19,485 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:00:19,486 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:00:19,486 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员2需要由监护人陪同并提供监护关系证明
2025-04-27 16:00:19,486 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:00:19,486 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:00:19,486 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:00:19,486 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 2 个家庭成员
2025-04-27 16:00:19,487 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpasug87tk.html
2025-04-27 16:00:19,487 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:00:19,562 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:00:19,563 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:00:19,872 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:00:19,873 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:00:19,873 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:00:19] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:01:11,330 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:01:11,330 - app - INFO - 家庭申请，家庭成员数量: 5
2025-04-27 16:01:11,331 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:01:11,331 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=beijing
2025-04-27 16:01:11,331 - app - INFO - 家庭成员3: 居住地=beijing, 户籍地=beijing
2025-04-27 16:01:11,331 - app - INFO - 家庭成员4: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:01:11,331 - app - INFO - 家庭成员5: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:01:11,331 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:01:11,331 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:01:11,331 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:01:11,331 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:01:11,331 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:01:11,331 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=beijing
2025-04-27 16:01:11,331 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=beijing
2025-04-27 16:01:11,331 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:01:11,331 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:01:11,332 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员5, residence=beijing, hukou=shanghai
2025-04-27 16:01:11,332 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员5
2025-04-27 16:01:11,332 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:01:11,332 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员3 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:01:11,332 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员4 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:01:11,332 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:01:11,332 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明', '4. 家庭成员5需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:01:11,332 - app - INFO - 生成的居住证明材料:
2025-04-27 16:01:11,332 - app - INFO -   主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:01:11,332 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:01:11,333 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:01:11,333 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:01:11,333 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:01:11] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:01:15,447 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1},{"relation":"CHILD","identityType":"CHILD","residenceConsulate":"beijing","hukouConsulate":"beijing","number":2},{"relation":"PARENT","identityType":"RETIRED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":3},{"relation":"PARENT","identityType":"RETIRED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":4},{"relation":"CHILD","identityType":"STUDENT","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":5}]'}
2025-04-27 16:01:15,447 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:01:15,447 - app - DEBUG - 家庭成员数量: 5
2025-04-27 16:01:15,447 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:01:15,447 - app - DEBUG - 家庭成员 2: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 2}
2025-04-27 16:01:15,447 - app - DEBUG - 家庭成员 3: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 3}
2025-04-27 16:01:15,448 - app - DEBUG - 家庭成员 4: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:01:15,448 - app - DEBUG - 家庭成员 5: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 5}
2025-04-27 16:01:15,448 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}, {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 2}, {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 3}, {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}, {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 5}]}
2025-04-27 16:01:15,448 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:01:15,448 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:01:15,448 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:01:15,448 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:01:15,448 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:01:15,448 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=beijing
2025-04-27 16:01:15,448 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=beijing
2025-04-27 16:01:15,448 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:01:15,449 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:01:15,449 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员5, residence=beijing, hukou=shanghai
2025-04-27 16:01:15,449 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员5
2025-04-27 16:01:15,449 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:01:15,449 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员3 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:01:15,449 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员4 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:01:15,449 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:01:15,449 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明', '4. 家庭成员5需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:01:15,450 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要由监护人陪同并提供监护关系证明', '4. 家庭成员5需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:01:15,450 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:01:15,450 - app - DEBUG - 部分: 基本信息
2025-04-27 16:01:15,450 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:01:15,450 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:01:15,450 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:01:15,450 - app - DEBUG - 部分: 基本材料
2025-04-27 16:01:15,451 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:01:15,451 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:01:15,451 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:01:15,451 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:01:15,451 - app - DEBUG - 部分: 财力证明
2025-04-27 16:01:15,451 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:01:15,451 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:01:15,451 - app - DEBUG -   - 主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:01:15,452 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:01:15,452 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:01:15,452 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:01:15,452 - app - DEBUG - 部分: 家属材料
2025-04-27 16:01:15,452 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:01:15,452 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:01:15,452 - app - DEBUG -   - 3. 家庭成员2需要由监护人陪同并提供监护关系证明
2025-04-27 16:01:15,452 - app - DEBUG -   - 4. 家庭成员5需要提供学信网在线学籍验证报告
2025-04-27 16:01:15,452 - app - DEBUG - 部分: 其他材料
2025-04-27 16:01:15,452 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:01:15,452 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:01:15,452 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:01:15,452 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 5
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 家庭成员 2: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 2}
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 家庭成员 3: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 3}
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 家庭成员 4: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 家庭成员 5: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 5}
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:01:15,453 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:01:15,454 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1, 家庭成员4, 家庭成员5需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:01:15,455 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员2需要由监护人陪同并提供监护关系证明
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 4. 家庭成员5需要提供学信网在线学籍验证报告
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:01:15,456 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:01:15,457 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 5 个家庭成员
2025-04-27 16:01:15,457 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpdn7j_t71.html
2025-04-27 16:01:15,457 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:01:15,483 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:01:15,484 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:01:15,789 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:01:15,790 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:01:15,790 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:01:15] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:02:47,125 - werkzeug - INFO - 220.196.160.76 - - [27/Apr/2025 16:02:47] "[31m[1mGET /api/generate HTTP/1.1[0m" 405 -
2025-04-27 16:21:20,205 - app - INFO - 收到材料清单生成请求: {"residence": "shanghai", "hukou": "beijing", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:21:20,205 - app - INFO - 家庭申请，家庭成员数量: 2
2025-04-27 16:21:20,205 - app - INFO - 家庭成员1: 居住地=shanghai, 户籍地=shanghai
2025-04-27 16:21:20,205 - app - INFO - 家庭成员2: 居住地=shanghai, 户籍地=shanghai
2025-04-27 16:21:20,205 - document_generator.basic_materials - DEBUG - 生成上海领区基本材料: ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）']
2025-04-27 16:21:20,205 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于1.8万的税单（上海领区）']
2025-04-27 16:21:20,206 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=shanghai, hukou=beijing, type=FAMILY
2025-04-27 16:21:20,206 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=shanghai, hukou=shanghai
2025-04-27 16:21:20,206 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=shanghai, hukou=shanghai
2025-04-27 16:21:20,206 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）']
2025-04-27 16:21:20,206 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:21:20,206 - document_generator.other_materials - DEBUG - 上海领区：家庭成员中有退休人员，但不需要提供退休证明
2025-04-27 16:21:20,206 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 上海', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件+首页彩色复印件（剩余有效期大于7个月）', '签证申请表（双面打印）', '小两寸（3.5cmx4.5cm）白底证件照（近期6个月内拍摄）', '户口本复印件（家庭户：户首页+户主页+本人页）', '在职证明（原件）'], '财力证明': ['税单办理：显示年纳税大于1.8万的税单（上海领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 居住证双面复印件（上海居住证需额外附上密码）', '2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）', '3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员2需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:21:20,206 - app - INFO - 生成的居住证明材料:
2025-04-27 16:21:20,206 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:21:20,206 - app - INFO -   1. 居住证双面复印件（上海居住证需额外附上密码）
2025-04-27 16:21:20,206 - app - INFO -   2. 近期一年的社保（社保单最低要近期6个月缴纳在上海领区内）
2025-04-27 16:21:20,206 - app - INFO -   3. 近期一年的纳税证明（税单最低要近期6个月缴纳在上海领区内）
2025-04-27 16:21:20,207 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:21:20] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:25:11,004 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:25:11,089 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:25:11,639 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:25:11,644 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:25:11,647 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:25:44,802 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:25:44,872 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:25:45,407 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:25:45,413 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:25:45,415 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:25:46,838 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:25:46] "GET / HTTP/1.1" 200 -
2025-04-27 16:25:46,899 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:25:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 16:25:47,842 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:25:47] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 16:26:10,750 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:26:10,750 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 16:26:10,750 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:26:10,750 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:26:10,751 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:26:10,751 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:26:10,751 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:26:10,751 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:26:10,751 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:26:10,751 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:26:10,751 - app - INFO - 生成的居住证明材料:
2025-04-27 16:26:10,751 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:26:10,751 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:26:10,751 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:26:10,751 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:26:10,752 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:26:10] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:26:12,264 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"SPOUSE","identityType":"STUDENT","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 16:26:12,264 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:26:12,264 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:26:12,264 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:26:12,264 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 16:26:12,264 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:26:12,264 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:26:12,264 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:26:12,264 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:26:12,264 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:26:12,264 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:26:12,265 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:26:12,265 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要提供学信网在线学籍验证报告'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 16:26:12,265 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:26:12,265 - app - DEBUG - 部分: 基本信息
2025-04-27 16:26:12,265 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:26:12,265 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:26:12,265 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:26:12,265 - app - DEBUG - 部分: 基本材料
2025-04-27 16:26:12,265 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:26:12,265 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:26:12,266 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:26:12,266 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:26:12,266 - app - DEBUG - 部分: 财力证明
2025-04-27 16:26:12,266 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:26:12,266 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:26:12,266 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:26:12,266 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:26:12,266 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:26:12,267 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:26:12,267 - app - DEBUG - 部分: 家属材料
2025-04-27 16:26:12,267 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:26:12,267 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:26:12,267 - app - DEBUG -   - 3. 家庭成员1需要提供学信网在线学籍验证报告
2025-04-27 16:26:12,267 - app - DEBUG - 部分: 其他材料
2025-04-27 16:26:12,267 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:26:12,267 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:26:12,268 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:26:12,269 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:26:12,269 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:26:12,269 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:26:12,269 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:26:12,269 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员1需要提供学信网在线学籍验证报告
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:26:12,270 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:26:12,271 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:26:12,271 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp009fd6r9.html
2025-04-27 16:26:12,271 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:26:12,351 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:26:12,351 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:26:12,627 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:26:12,627 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:26:12,627 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:26:12] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:26:37,441 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 16:26:37,441 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 16:26:37,441 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-27 16:26:37,441 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:26:37,441 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:26:37,441 - app - INFO - 生成的居住证明材料:
2025-04-27 16:26:37,442 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 16:26:37,442 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:26:37,442 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:26:37,442 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:26:37,442 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:26:37] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:26:38,920 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-27 16:26:38,920 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-27 16:26:38,920 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 16:26:38,920 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-27 16:26:38,920 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:26:38,920 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:26:38,920 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:26:38,921 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:26:38,921 - app - DEBUG - 部分: 基本信息
2025-04-27 16:26:38,921 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:26:38,921 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:26:38,921 - app - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-27 16:26:38,921 - app - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-27 16:26:38,921 - app - DEBUG - 部分: 基本材料
2025-04-27 16:26:38,921 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:26:38,921 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:26:38,921 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:26:38,921 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:26:38,921 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 16:26:38,923 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 16:26:38,923 - app - DEBUG - 部分: 财力证明
2025-04-27 16:26:38,923 - app - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-27 16:26:38,923 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:26:38,923 - app - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 16:26:38,923 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:26:38,923 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:26:38,923 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:26:38,923 - app - DEBUG - 部分: 其他材料
2025-04-27 16:26:38,923 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:26:38,924 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:26:38,924 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:26:38,924 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-27 16:26:38,925 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:26:38,926 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:26:38,927 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpwhn9rpv6.html
2025-04-27 16:26:38,927 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:26:38,950 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:26:38,951 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:26:39,172 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:26:39,172 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:26:39,173 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:26:39] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:27:10,128 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-27 16:27:10,128 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-27 16:27:10,128 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-27 16:27:10,128 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-27 16:27:10,128 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:27:10,128 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:27:10,129 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:27:10,129 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:27:10,129 - app - DEBUG - 部分: 基本信息
2025-04-27 16:27:10,129 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:27:10,129 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:27:10,129 - app - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-27 16:27:10,129 - app - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-27 16:27:10,129 - app - DEBUG - 部分: 基本材料
2025-04-27 16:27:10,129 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:27:10,129 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:27:10,129 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:27:10,129 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:27:10,129 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 16:27:10,129 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 16:27:10,129 - app - DEBUG - 部分: 财力证明
2025-04-27 16:27:10,129 - app - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-27 16:27:10,130 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:27:10,130 - app - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 16:27:10,130 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:27:10,130 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:27:10,130 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:27:10,130 - app - DEBUG - 部分: 其他材料
2025-04-27 16:27:10,130 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:27:10,130 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:27:10,130 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:27:10,130 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:27:10,130 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:27:10,130 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:27:10,130 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:27:10,130 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:27:10,130 - document_generator.pdf_generator - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:27:10,131 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:27:10,132 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:27:10,132 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:27:10,132 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:27:10,132 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:27:10,132 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpid47_lzy.html
2025-04-27 16:27:10,132 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:27:10,155 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:27:10,155 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:27:10,377 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:27:10,377 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:27:10,377 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:27:10] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:31:55,063 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:31:55,155 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:31:55,690 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:31:55,695 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:31:55,698 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:34:13,296 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:34:13,416 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:34:13,963 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:34:13,968 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:34:13,970 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:34:22,716 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:34:22] "GET / HTTP/1.1" 200 -
2025-04-27 16:34:22,769 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:34:22] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 16:34:23,541 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:34:23] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 16:34:41,267 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:34:41,268 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 16:34:41,268 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:34:41,268 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:34:41,268 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:34:41,268 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:34:41,268 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:34:41,268 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:34:41,268 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:34:41,268 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 16:34:41,268 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 16:34:41,269 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:34:41,269 - app - INFO - 生成的居住证明材料:
2025-04-27 16:34:41,269 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:34:41,269 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:34:41,269 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:34:41,269 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:34:41,269 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:34:41] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:34:43,358 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"PARENT","identityType":"FREELANCE","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 16:34:43,358 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:34:43,358 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:34:43,358 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:34:43,358 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 16:34:43,358 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:34:43,359 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:34:43,359 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:34:43,359 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:34:43,359 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:34:43,359 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:34:43,359 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 16:34:43,359 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 16:34:43,359 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:34:43,359 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:34:43,359 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:34:43,360 - app - DEBUG - 部分: 基本信息
2025-04-27 16:34:43,360 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:34:43,360 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:34:43,360 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:34:43,360 - app - DEBUG - 部分: 基本材料
2025-04-27 16:34:43,360 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:34:43,360 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:34:43,360 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:34:43,361 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:34:43,361 - app - DEBUG - 部分: 财力证明
2025-04-27 16:34:43,361 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:34:43,361 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:34:43,361 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:34:43,361 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:34:43,361 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:34:43,361 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:34:43,361 - app - DEBUG - 部分: 家属材料
2025-04-27 16:34:43,362 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:34:43,362 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:34:43,362 - app - DEBUG - 部分: 其他材料
2025-04-27 16:34:43,362 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:34:43,362 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 16:34:43,362 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:34:43,362 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:34:43,363 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:34:43,364 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:34:43,365 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 16:34:43,365 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:34:43,365 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:34:43,365 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpsyc7ox22.html
2025-04-27 16:34:43,365 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:34:43,448 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:34:43,448 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:34:43,721 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:34:43,722 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:34:43,722 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:34:43] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:39:43,388 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:39:43,471 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:39:44,019 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:39:44,025 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:39:44,027 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:40:04,123 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:40:04,194 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:40:04,759 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:40:04,767 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:40:04,770 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:40:07,449 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': '[{"relation":"PARENT","identityType":"FREELANCE","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 16:40:07,449 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:40:07,449 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:40:07,449 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:40:07,449 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 16:40:07,449 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:40:07,449 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:40:07,449 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:40:07,450 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 16:40:07,450 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 16:40:07,450 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:40:07,450 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 16:40:07,450 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 16:40:07,450 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:40:07,450 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:40:07,450 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:40:07,451 - app - DEBUG - 部分: 基本信息
2025-04-27 16:40:07,451 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:40:07,451 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:40:07,451 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:40:07,451 - app - DEBUG - 部分: 基本材料
2025-04-27 16:40:07,451 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:40:07,451 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:40:07,452 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:40:07,452 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:40:07,452 - app - DEBUG - 部分: 财力证明
2025-04-27 16:40:07,452 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:40:07,452 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:40:07,452 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:40:07,452 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:40:07,452 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:40:07,452 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:40:07,452 - app - DEBUG - 部分: 家属材料
2025-04-27 16:40:07,452 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:40:07,453 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:40:07,453 - app - DEBUG - 部分: 其他材料
2025-04-27 16:40:07,453 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:40:07,453 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 16:40:07,453 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:40:07,453 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:40:07,453 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:40:07,453 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 16:40:07,453 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:40:07,453 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:40:07,454 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:40:07,455 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:40:07,455 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:40:07,455 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:40:07,455 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:40:07,455 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:40:07,455 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:40:07,456 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:40:07,457 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpygjp0ywz.html
2025-04-27 16:40:07,457 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:40:07,537 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:40:07,538 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:40:07,820 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:40:07,820 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:40:07,821 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:40:07] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:43:55,570 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:43:55] "GET / HTTP/1.1" 200 -
2025-04-27 16:43:55,621 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:43:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 16:43:56,030 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:43:56] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 16:44:09,663 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:44:09,663 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 16:44:09,663 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 16:44:09,663 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:44:09,663 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:44:09,663 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:44:09,664 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:44:09,664 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:44:09,664 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 16:44:09,664 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 16:44:09,664 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:44:09,664 - app - INFO - 生成的居住证明材料:
2025-04-27 16:44:09,664 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:44:09,664 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:44:09,664 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:44:09,664 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:44:09,665 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:44:09] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:44:22,692 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': '[{"relation":"PARENT","identityType":"FREELANCE","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 16:44:22,692 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:44:22,692 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:44:22,692 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:44:22,693 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 16:44:22,693 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:44:22,693 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:44:22,693 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:44:22,693 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:44:22,693 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:44:22,693 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是自由职业者(FREELANCE)，材料将在其他材料部分显示
2025-04-27 16:44:22,693 - document_generator.other_materials - DEBUG - 家庭成员中发现自由职业者:  1, 身份类型: FREELANCE
2025-04-27 16:44:22,693 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:44:22,694 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-27 16:44:22,694 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:44:22,694 - app - DEBUG - 部分: 基本信息
2025-04-27 16:44:22,694 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:44:22,694 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:44:22,694 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:44:22,694 - app - DEBUG - 部分: 基本材料
2025-04-27 16:44:22,695 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:44:22,695 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:44:22,695 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:44:22,695 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:44:22,695 - app - DEBUG - 部分: 财力证明
2025-04-27 16:44:22,695 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:44:22,695 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:44:22,695 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:44:22,695 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:44:22,695 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:44:22,695 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:44:22,695 - app - DEBUG - 部分: 家属材料
2025-04-27 16:44:22,696 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:44:22,696 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:44:22,696 - app - DEBUG - 部分: 其他材料
2025-04-27 16:44:22,696 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:44:22,696 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 16:44:22,696 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:44:22,696 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:44:22,696 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:44:22,696 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'FREELANCE', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:44:22,696 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:44:22,697 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:44:22,698 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:44:22,699 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpb6ss81vb.html
2025-04-27 16:44:22,699 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:44:22,727 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:44:22,727 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:44:22,946 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:44:22,946 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:44:22,946 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:44:22] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:45:05,866 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "other", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:45:05,866 - app - INFO - 家庭申请，家庭成员数量: 4
2025-04-27 16:45:05,866 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 16:45:05,866 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:45:05,866 - app - INFO - 家庭成员3: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:45:05,866 - app - INFO - 家庭成员4: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:45:05,866 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:45:05,867 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:45:05,867 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=other, type=FAMILY
2025-04-27 16:45:05,867 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:45:05,867 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-27 16:45:05,867 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-27 16:45:05,867 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=shanghai
2025-04-27 16:45:05,867 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员3
2025-04-27 16:45:05,867 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:45:05,867 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:45:05,867 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:45:05,867 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:45:05,867 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:45:05,867 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 其他', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:45:05,867 - app - INFO - 生成的居住证明材料:
2025-04-27 16:45:05,868 - app - INFO -   主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:45:05,868 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:45:05,868 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:45:05,868 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:45:05,868 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:45:05] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:45:09,583 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'other', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': '[{"relation":"PARENT","identityType":"RETIRED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1},{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":2},{"relation":"CHILD","identityType":"STUDENT","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":3},{"relation":"CHILD","identityType":"CHILD","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":4}]'}
2025-04-27 16:45:09,583 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:45:09,583 - app - DEBUG - 家庭成员数量: 4
2025-04-27 16:45:09,583 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:45:09,584 - app - DEBUG - 家庭成员 2: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}
2025-04-27 16:45:09,584 - app - DEBUG - 家庭成员 3: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}
2025-04-27 16:45:09,584 - app - DEBUG - 家庭成员 4: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:45:09,584 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'other', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}, {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}, {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}, {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}]}
2025-04-27 16:45:09,584 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:45:09,584 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:45:09,584 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=other, type=FAMILY
2025-04-27 16:45:09,584 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:45:09,584 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-27 16:45:09,584 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-27 16:45:09,584 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=shanghai
2025-04-27 16:45:09,584 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员3
2025-04-27 16:45:09,584 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:45:09,585 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:45:09,585 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:45:09,585 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:45:09,585 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:45:09,585 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 其他', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:45:09,585 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 其他', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:45:09,585 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:45:09,585 - app - DEBUG - 部分: 基本信息
2025-04-27 16:45:09,585 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:45:09,585 - app - DEBUG -   - 户籍所在地领区: 其他
2025-04-27 16:45:09,585 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:45:09,586 - app - DEBUG - 部分: 基本材料
2025-04-27 16:45:09,586 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:45:09,586 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:45:09,586 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:45:09,586 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:45:09,586 - app - DEBUG - 部分: 财力证明
2025-04-27 16:45:09,586 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:45:09,586 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:45:09,587 - app - DEBUG -   - 主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:45:09,587 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:45:09,587 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:45:09,587 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:45:09,587 - app - DEBUG - 部分: 家属材料
2025-04-27 16:45:09,587 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:45:09,587 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:45:09,587 - app - DEBUG -   - 3. 家庭成员3需要提供学信网在线学籍验证报告
2025-04-27 16:45:09,588 - app - DEBUG -   - 4. 家庭成员4需要由监护人陪同并提供监护关系证明
2025-04-27 16:45:09,588 - app - DEBUG - 部分: 其他材料
2025-04-27 16:45:09,588 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:45:09,588 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:45:09,588 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:45:09,588 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 4
2025-04-27 16:45:09,588 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:45:09,588 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:45:09,589 - document_generator.pdf_generator - DEBUG - 家庭成员 2: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}
2025-04-27 16:45:09,589 - document_generator.pdf_generator - DEBUG - 家庭成员 3: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}
2025-04-27 16:45:09,589 - document_generator.pdf_generator - DEBUG - 家庭成员 4: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:45:09,589 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:45:09,589 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:45:09,589 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 其他
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:45:09,590 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员3需要提供学信网在线学籍验证报告
2025-04-27 16:45:09,591 - document_generator.pdf_generator - DEBUG -   - 4. 家庭成员4需要由监护人陪同并提供监护关系证明
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 4 个家庭成员
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpzfh9cup1.html
2025-04-27 16:45:09,592 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:45:09,618 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:45:09,619 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:45:09,899 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:45:09,899 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:45:09,899 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:45:09] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:48:06,678 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 16:48:06,678 - app - INFO - 家庭申请，家庭成员数量: 4
2025-04-27 16:48:06,678 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 16:48:06,678 - app - INFO - 家庭成员2: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:48:06,678 - app - INFO - 家庭成员3: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:48:06,678 - app - INFO - 家庭成员4: 居住地=beijing, 户籍地=shanghai
2025-04-27 16:48:06,678 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:48:06,678 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:48:06,678 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:48:06,679 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:48:06,679 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-27 16:48:06,679 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-27 16:48:06,679 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=shanghai
2025-04-27 16:48:06,679 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员3
2025-04-27 16:48:06,679 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:48:06,679 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:48:06,679 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:48:06,679 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:48:06,679 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:48:06,679 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:48:06,680 - app - INFO - 生成的居住证明材料:
2025-04-27 16:48:06,680 - app - INFO -   主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:48:06,680 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:48:06,680 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:48:06,680 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:48:06,680 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:48:06] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:48:08,254 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': '[{"relation":"PARENT","identityType":"RETIRED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1},{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":2},{"relation":"CHILD","identityType":"STUDENT","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":3},{"relation":"CHILD","identityType":"CHILD","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":4}]'}
2025-04-27 16:48:08,254 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:48:08,254 - app - DEBUG - 家庭成员数量: 4
2025-04-27 16:48:08,254 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:48:08,254 - app - DEBUG - 家庭成员 2: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}
2025-04-27 16:48:08,254 - app - DEBUG - 家庭成员 3: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}
2025-04-27 16:48:08,254 - app - DEBUG - 家庭成员 4: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:48:08,254 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}, {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}, {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}, {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}]}
2025-04-27 16:48:08,254 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:48:08,254 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:48:08,254 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:48:08,255 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:48:08,255 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-27 16:48:08,255 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-27 16:48:08,255 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=shanghai
2025-04-27 16:48:08,255 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员3
2025-04-27 16:48:08,255 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:48:08,255 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:48:08,255 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:48:08,255 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:48:08,255 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:48:08,255 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:48:08,255 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:48:08,255 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:48:08,255 - app - DEBUG - 部分: 基本信息
2025-04-27 16:48:08,256 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:48:08,256 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:48:08,256 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:48:08,256 - app - DEBUG - 部分: 基本材料
2025-04-27 16:48:08,256 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:48:08,256 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:48:08,256 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:48:08,256 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:48:08,256 - app - DEBUG - 部分: 财力证明
2025-04-27 16:48:08,256 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:48:08,256 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:48:08,256 - app - DEBUG -   - 主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:48:08,256 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:48:08,256 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:48:08,256 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:48:08,256 - app - DEBUG - 部分: 家属材料
2025-04-27 16:48:08,257 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:48:08,257 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:48:08,257 - app - DEBUG -   - 3. 家庭成员3需要提供学信网在线学籍验证报告
2025-04-27 16:48:08,257 - app - DEBUG -   - 4. 家庭成员4需要由监护人陪同并提供监护关系证明
2025-04-27 16:48:08,257 - app - DEBUG - 部分: 其他材料
2025-04-27 16:48:08,257 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:48:08,257 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 4
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 家庭成员 2: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 家庭成员 3: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 家庭成员 4: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:48:08,257 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:48:08,258 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员3需要提供学信网在线学籍验证报告
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG -   - 4. 家庭成员4需要由监护人陪同并提供监护关系证明
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 4 个家庭成员
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpsseolezr.html
2025-04-27 16:48:08,259 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:48:08,289 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:48:08,290 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:48:08,570 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:48:08,571 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:48:08,571 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:48:08] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:48:26,752 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': '[{"relation":"PARENT","identityType":"RETIRED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1},{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":2},{"relation":"CHILD","identityType":"STUDENT","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":3},{"relation":"CHILD","identityType":"CHILD","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":4}]'}
2025-04-27 16:48:26,752 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:48:26,752 - app - DEBUG - 家庭成员数量: 4
2025-04-27 16:48:26,752 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:48:26,752 - app - DEBUG - 家庭成员 2: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}
2025-04-27 16:48:26,752 - app - DEBUG - 家庭成员 3: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}
2025-04-27 16:48:26,752 - app - DEBUG - 家庭成员 4: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:48:26,752 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '2533709784496095861', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}, {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}, {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}, {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}]}
2025-04-27 16:48:26,752 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:48:26,753 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 16:48:26,753 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:48:26,753 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:48:26,753 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员2, residence=beijing, hukou=shanghai
2025-04-27 16:48:26,753 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员2
2025-04-27 16:48:26,753 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员3, residence=beijing, hukou=shanghai
2025-04-27 16:48:26,753 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员3
2025-04-27 16:48:26,753 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员4, residence=beijing, hukou=shanghai
2025-04-27 16:48:26,753 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员4
2025-04-27 16:48:26,753 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:48:26,753 - document_generator.family_materials - DEBUG - 家庭成员 家庭成员1 是退休人员(RETIRED)，材料将在其他材料部分显示
2025-04-27 16:48:26,754 - document_generator.other_materials - DEBUG - 北京领区：有退休人员（主申请人或家庭成员），添加退休证明要求
2025-04-27 16:48:26,754 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:48:26,754 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员3需要提供学信网在线学籍验证报告', '4. 家庭成员4需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）']})
2025-04-27 16:48:26,754 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:48:26,754 - app - DEBUG - 部分: 基本信息
2025-04-27 16:48:26,755 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:48:26,755 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:48:26,755 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:48:26,755 - app - DEBUG - 部分: 基本材料
2025-04-27 16:48:26,755 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:48:26,755 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:48:26,756 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:48:26,756 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:48:26,756 - app - DEBUG - 部分: 财力证明
2025-04-27 16:48:26,756 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:48:26,756 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:48:26,756 - app - DEBUG -   - 主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:48:26,757 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:48:26,757 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:48:26,757 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:48:26,757 - app - DEBUG - 部分: 家属材料
2025-04-27 16:48:26,758 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:48:26,758 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:48:26,758 - app - DEBUG -   - 3. 家庭成员3需要提供学信网在线学籍验证报告
2025-04-27 16:48:26,758 - app - DEBUG -   - 4. 家庭成员4需要由监护人陪同并提供监护关系证明
2025-04-27 16:48:26,758 - app - DEBUG - 部分: 其他材料
2025-04-27 16:48:26,758 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:48:26,758 - app - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 4
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'RETIRED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 家庭成员 2: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 2}
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 家庭成员 3: {'relation': 'CHILD', 'identityType': 'STUDENT', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 3}
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 家庭成员 4: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 4}
2025-04-27 16:48:26,758 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员2, 家庭成员3, 家庭成员4需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:48:26,759 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:48:26,760 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:48:26,760 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:48:26,760 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:48:26,760 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:48:26,760 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员3需要提供学信网在线学籍验证报告
2025-04-27 16:48:26,760 - document_generator.pdf_generator - DEBUG -   - 4. 家庭成员4需要由监护人陪同并提供监护关系证明
2025-04-27 16:48:26,761 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:48:26,761 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:48:26,761 - document_generator.pdf_generator - DEBUG -   - 2. 退休人员需要提供退休证或能够证明退休的文件复印件（包括家庭成员的申请）
2025-04-27 16:48:26,761 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:48:26,761 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 4 个家庭成员
2025-04-27 16:48:26,762 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmplbbup26l.html
2025-04-27 16:48:26,762 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:48:26,790 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:48:26,791 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:48:27,125 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:48:27,125 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:48:27,126 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:48:27] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:51:33,750 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:51:33,830 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:51:34,382 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:51:34,388 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:51:34,390 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:52:21,597 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:52:21,670 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:52:22,209 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:52:22,215 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:52:22,217 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:52:28,001 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:52:28] "GET / HTTP/1.1" 200 -
2025-04-27 16:52:28,076 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:52:28] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 16:52:28,863 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:52:28] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 16:52:47,875 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 16:52:47,875 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 16:52:47,875 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 16:52:47,876 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:52:47,876 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 16:52:47,876 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:52:47,876 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:52:47,876 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:52:47,876 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:52:47,876 - app - INFO - 生成的居住证明材料:
2025-04-27 16:52:47,876 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:52:47,876 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:52:47,877 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:52:47,877 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:52:47,877 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:52:47] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:52:56,294 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 16:52:56,294 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:52:56,294 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:52:56,294 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:52:56,294 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 16:52:56,294 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:52:56,294 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 16:52:56,294 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:52:56,294 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:52:56,294 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:52:56,294 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:52:56,295 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:52:56,295 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:52:56,295 - app - DEBUG - 部分: 基本信息
2025-04-27 16:52:56,295 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:52:56,295 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:52:56,295 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:52:56,295 - app - DEBUG - 部分: 基本材料
2025-04-27 16:52:56,295 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:52:56,295 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:52:56,295 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:52:56,295 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:52:56,295 - app - DEBUG - 部分: 财力证明
2025-04-27 16:52:56,295 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 16:52:56,295 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 16:52:56,296 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:52:56,296 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:52:56,296 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:52:56,296 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:52:56,296 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:52:56,296 - app - DEBUG - 部分: 家属材料
2025-04-27 16:52:56,296 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:52:56,296 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:52:56,296 - app - DEBUG - 部分: 其他材料
2025-04-27 16:52:56,296 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:52:56,296 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:52:56,296 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:52:56,296 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:52:56,296 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:52:56,297 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:52:56,298 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:52:56,299 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp4u_4_rnx.html
2025-04-27 16:52:56,299 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:52:56,376 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:52:56,376 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:52:56,682 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:52:56,683 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:52:56,683 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:52:56] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:53:58,017 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 16:53:58,017 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 16:53:58,017 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 16:53:58,017 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:53:58,017 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 16:53:58,017 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:53:58,017 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:53:58,018 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:53:58,018 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:53:58,018 - app - INFO - 生成的居住证明材料:
2025-04-27 16:53:58,018 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:53:58,018 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 16:53:58,018 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:53:58,018 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 16:53:58,018 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:53:58] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 16:54:02,448 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 16:54:02,448 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:54:02,448 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:54:02,449 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:54:02,449 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 16:54:02,449 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:54:02,449 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 16:54:02,449 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:54:02,449 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:54:02,449 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:54:02,449 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:54:02,449 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:54:02,449 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:54:02,449 - app - DEBUG - 部分: 基本信息
2025-04-27 16:54:02,450 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:54:02,450 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:54:02,450 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:54:02,450 - app - DEBUG - 部分: 基本材料
2025-04-27 16:54:02,450 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:54:02,450 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:54:02,450 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:54:02,450 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:54:02,450 - app - DEBUG - 部分: 财力证明
2025-04-27 16:54:02,450 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 16:54:02,450 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 16:54:02,450 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:54:02,450 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:54:02,451 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:54:02,451 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:54:02,451 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:54:02,451 - app - DEBUG - 部分: 家属材料
2025-04-27 16:54:02,451 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:54:02,451 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:54:02,451 - app - DEBUG - 部分: 其他材料
2025-04-27 16:54:02,452 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:54:02,452 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:54:02,452 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:54:02,452 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:54:02,453 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:54:02,454 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:54:02,455 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:54:02,455 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:54:02,455 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:54:02,455 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp9nqkbjck.html
2025-04-27 16:54:02,455 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:54:02,480 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:54:02,480 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:54:02,730 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:54:02,731 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:54:02,731 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:54:02] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 16:58:40,884 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:58:40,967 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:58:41,498 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:58:41,503 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:58:41,506 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:59:02,614 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 16:59:02,686 - werkzeug - INFO -  * Restarting with stat
2025-04-27 16:59:03,214 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 16:59:03,220 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 16:59:03,222 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 16:59:08,448 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 16:59:08,449 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 16:59:08,449 - app - DEBUG - 家庭成员数量: 1
2025-04-27 16:59:08,449 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:59:08,449 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 16:59:08,449 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 16:59:08,449 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 16:59:08,449 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 16:59:08,449 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 16:59:08,449 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 16:59:08,450 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:59:08,450 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 16:59:08,450 - app - DEBUG - 详细材料清单内容:
2025-04-27 16:59:08,450 - app - DEBUG - 部分: 基本信息
2025-04-27 16:59:08,450 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 16:59:08,450 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:59:08,450 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:59:08,450 - app - DEBUG - 部分: 基本材料
2025-04-27 16:59:08,450 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:59:08,450 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:59:08,451 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:59:08,451 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:59:08,451 - app - DEBUG - 部分: 财力证明
2025-04-27 16:59:08,451 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 16:59:08,451 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 16:59:08,451 - app - DEBUG - 部分: 居住证明材料
2025-04-27 16:59:08,451 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:59:08,452 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:59:08,452 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:59:08,452 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:59:08,452 - app - DEBUG - 部分: 家属材料
2025-04-27 16:59:08,452 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:59:08,452 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:59:08,452 - app - DEBUG - 部分: 其他材料
2025-04-27 16:59:08,452 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:59:08,453 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:59:08,453 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:59:08,453 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 16:59:08,453 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 16:59:08,453 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 16:59:08,453 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 16:59:08,453 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 16:59:08,454 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 16:59:08,455 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 16:59:08,456 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 16:59:08,456 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmplmfwl89q.html
2025-04-27 16:59:08,456 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 16:59:08,536 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 16:59:08,537 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 16:59:08,863 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 16:59:08,864 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 16:59:08,864 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 16:59:08] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:02:25,121 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:02:25,204 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:02:25,739 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:02:25,744 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:02:25,747 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:02:51,876 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:02:51,949 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:02:52,511 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:02:52,516 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:02:52,518 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:03:03,383 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 17:03:03,383 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 17:03:03,383 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-27 17:03:03,383 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:03:03,383 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 17:03:03,383 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:03:03,383 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 17:03:03,384 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:03:03,384 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:03:03,384 - app - INFO - 生成的居住证明材料:
2025-04-27 17:03:03,384 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:03:03,384 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 17:03:03,384 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:03:03,384 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 17:03:03,385 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:03:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 17:03:05,565 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 17:03:05,566 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 17:03:05,566 - app - DEBUG - 家庭成员数量: 1
2025-04-27 17:03:05,566 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 17:03:05,566 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 17:03:05,566 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:03:05,566 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 17:03:05,566 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:03:05,566 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 17:03:05,566 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:03:05,566 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:03:05,567 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:03:05,567 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:03:05,567 - app - DEBUG - 部分: 基本信息
2025-04-27 17:03:05,567 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:03:05,567 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:03:05,567 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:03:05,567 - app - DEBUG - 部分: 基本材料
2025-04-27 17:03:05,567 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:03:05,568 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:03:05,568 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:03:05,568 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:03:05,568 - app - DEBUG - 部分: 财力证明
2025-04-27 17:03:05,568 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:03:05,568 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:03:05,568 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:03:05,568 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:03:05,568 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:03:05,568 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:03:05,568 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:03:05,568 - app - DEBUG - 部分: 家属材料
2025-04-27 17:03:05,568 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:03:05,569 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:03:05,569 - app - DEBUG - 部分: 其他材料
2025-04-27 17:03:05,569 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:03:05,569 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:03:05,569 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:03:05,569 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:03:05,569 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 17:03:05,569 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 17:03:05,569 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:03:05,570 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:03:05,571 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:03:05,571 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:03:05,571 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:03:05,571 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:03:05,571 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:03:05,571 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:03:05,572 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpq60t3mv7.html
2025-04-27 17:03:05,573 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:03:05,656 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:03:05,657 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:03:05,973 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:03:05,973 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:03:05,974 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:03:05] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:05:40,267 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:05:40,346 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:05:40,885 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:05:40,890 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:05:40,893 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:06:28,104 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:06:28,178 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:06:28,730 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:06:28,738 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:06:28,744 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:06:34,955 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 17:06:34,955 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 17:06:34,955 - app - DEBUG - 家庭成员数量: 1
2025-04-27 17:06:34,955 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 17:06:34,955 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 17:06:34,955 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:06:34,956 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 17:06:34,956 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:06:34,956 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 17:06:34,956 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:06:34,956 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:06:34,956 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:06:34,956 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:06:34,956 - app - DEBUG - 部分: 基本信息
2025-04-27 17:06:34,956 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:06:34,956 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:06:34,957 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:06:34,957 - app - DEBUG - 部分: 基本材料
2025-04-27 17:06:34,957 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:06:34,957 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:06:34,957 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:06:34,957 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:06:34,957 - app - DEBUG - 部分: 财力证明
2025-04-27 17:06:34,957 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:06:34,957 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:06:34,957 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:06:34,957 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:06:34,957 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:06:34,957 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:06:34,957 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:06:34,958 - app - DEBUG - 部分: 家属材料
2025-04-27 17:06:34,958 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:06:34,958 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:06:34,958 - app - DEBUG - 部分: 其他材料
2025-04-27 17:06:34,958 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:06:34,958 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:06:34,958 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:06:34,958 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:06:34,958 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 17:06:34,958 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 17:06:34,958 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 17:06:34,958 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:06:34,959 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 17:06:34,960 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpme3mi74v.html
2025-04-27 17:06:34,961 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:06:35,041 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:06:35,041 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:06:35,350 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:06:35,351 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:06:35,351 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:06:35] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:23:12,286 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-27 17:23:12,286 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 17:23:12,286 - app - DEBUG - 家庭成员数量: 1
2025-04-27 17:23:12,286 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 17:23:12,287 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'applicantName': '申请人', 'orderNumber': '4262312916936075625', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-27 17:23:12,287 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:23:12,287 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 17:23:12,287 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:23:12,287 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-27 17:23:12,287 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:23:12,287 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:23:12,287 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:23:12,287 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:23:12,287 - app - DEBUG - 部分: 基本信息
2025-04-27 17:23:12,288 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:23:12,288 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:23:12,288 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:23:12,288 - app - DEBUG - 部分: 基本材料
2025-04-27 17:23:12,288 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:23:12,288 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:23:12,288 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:23:12,288 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:23:12,288 - app - DEBUG - 部分: 财力证明
2025-04-27 17:23:12,288 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:23:12,288 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:23:12,288 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:23:12,288 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:23:12,288 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:23:12,288 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:23:12,288 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:23:12,289 - app - DEBUG - 部分: 家属材料
2025-04-27 17:23:12,289 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:23:12,289 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:23:12,289 - app - DEBUG - 部分: 其他材料
2025-04-27 17:23:12,289 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:23:12,289 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:23:12,289 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:23:12,289 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:23:12,290 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp_ffrs9ib.html
2025-04-27 17:23:12,291 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:23:12,316 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:23:12,317 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:23:12,558 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:23:12,558 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:23:12,558 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:23:12] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:27:02,103 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:27:02,190 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:27:02,725 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:27:02,731 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:27:02,734 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:27:32,879 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:27:32,952 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:27:33,506 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:27:33,513 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:27:33,516 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:27:34,806 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:27:34] "GET / HTTP/1.1" 200 -
2025-04-27 17:27:34,862 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:27:34] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-27 17:27:35,673 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:27:35] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-27 17:27:40,664 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-27 17:27:40,664 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:27:40,664 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 17:27:40,664 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 17:27:40,664 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:27:40,665 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:27:40,665 - app - INFO - 生成的居住证明材料:
2025-04-27 17:27:40,665 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 17:27:40,665 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 17:27:40,665 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:27:40,665 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 17:27:40,665 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:27:40] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 17:27:45,554 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true'}
2025-04-27 17:27:45,554 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true'}
2025-04-27 17:27:45,554 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:27:45,554 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 17:27:45,554 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 17:27:45,554 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:27:45,554 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:27:45,554 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:27:45,555 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:27:45,555 - app - DEBUG - 部分: 基本信息
2025-04-27 17:27:45,555 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:27:45,555 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:27:45,555 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:27:45,555 - app - DEBUG - 部分: 基本材料
2025-04-27 17:27:45,556 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:27:45,556 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:27:45,556 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:27:45,556 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:27:45,556 - app - DEBUG - 部分: 财力证明
2025-04-27 17:27:45,556 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 17:27:45,556 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:27:45,556 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 17:27:45,556 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:27:45,556 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:27:45,557 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:27:45,557 - app - DEBUG - 部分: 其他材料
2025-04-27 17:27:45,557 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:27:45,557 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:27:45,558 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:27:45,559 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:27:45,559 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:27:45,559 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpb0jpbhc9.html
2025-04-27 17:27:45,559 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:27:45,637 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:27:45,637 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:27:45,640 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-27 17:27:45,907 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:27:45,908 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:27:45,908 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:27:45] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:28:36,232 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-27 17:28:36,232 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 17:28:36,232 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 17:28:36,232 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:28:36,232 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 17:28:36,232 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:28:36,232 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 17:28:36,232 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 17:28:36,232 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:28:36,233 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:28:36,233 - app - INFO - 生成的居住证明材料:
2025-04-27 17:28:36,233 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:28:36,233 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 17:28:36,233 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:28:36,233 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 17:28:36,233 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:28:36] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 17:28:39,647 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 17:28:39,647 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 17:28:39,647 - app - DEBUG - 家庭成员数量: 1
2025-04-27 17:28:39,647 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 17:28:39,647 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 17:28:39,648 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:28:39,648 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 17:28:39,648 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:28:39,648 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 17:28:39,648 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 17:28:39,648 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:28:39,648 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:28:39,648 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:28:39,648 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:28:39,648 - app - DEBUG - 部分: 基本信息
2025-04-27 17:28:39,648 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:28:39,648 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:28:39,649 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:28:39,649 - app - DEBUG - 部分: 基本材料
2025-04-27 17:28:39,649 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:28:39,649 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:28:39,649 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:28:39,649 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:28:39,649 - app - DEBUG - 部分: 财力证明
2025-04-27 17:28:39,649 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 17:28:39,649 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:28:39,649 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:28:39,649 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:28:39,649 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:28:39,649 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:28:39,649 - app - DEBUG - 部分: 家属材料
2025-04-27 17:28:39,649 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:28:39,649 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:28:39,650 - app - DEBUG - 部分: 其他材料
2025-04-27 17:28:39,650 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:28:39,650 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:28:39,651 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:28:39,652 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 17:28:39,652 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp9sbovq05.html
2025-04-27 17:28:39,652 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:28:39,677 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:28:39,678 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:28:39,686 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-27 17:28:39,915 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:28:39,915 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:28:39,916 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:28:39] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:29:46,277 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'orderNumber': '2533709784496095861', 'isUrgent': 'true', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 17:29:46,277 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 17:29:46,277 - app - DEBUG - 家庭成员数量: 1
2025-04-27 17:29:46,277 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 17:29:46,277 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'orderNumber': '2533709784496095861', 'isUrgent': 'true', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 17:29:46,278 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:29:46,278 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-27 17:29:46,278 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:29:46,278 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 17:29:46,278 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 17:29:46,278 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:29:46,278 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:29:46,278 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-27 17:29:46,278 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:29:46,278 - app - DEBUG - 部分: 基本信息
2025-04-27 17:29:46,279 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:29:46,279 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:29:46,279 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:29:46,279 - app - DEBUG - 部分: 基本材料
2025-04-27 17:29:46,279 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:29:46,279 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:29:46,279 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:29:46,279 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:29:46,279 - app - DEBUG - 部分: 财力证明
2025-04-27 17:29:46,279 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 17:29:46,279 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:29:46,279 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:29:46,280 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:29:46,280 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:29:46,280 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:29:46,280 - app - DEBUG - 部分: 家属材料
2025-04-27 17:29:46,280 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:29:46,280 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:29:46,280 - app - DEBUG - 部分: 其他材料
2025-04-27 17:29:46,280 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:29:46,280 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:29:46,280 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 17:29:46,280 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 17:29:46,280 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 17:29:46,280 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-27 17:29:46,281 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:29:46,282 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 17:29:46,283 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpgznnkcce.html
2025-04-27 17:29:46,283 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:29:46,314 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:29:46,314 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:29:46,318 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-27 17:29:46,533 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:29:46,533 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:29:46,533 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:29:46] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:31:40,646 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:31:40] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 17:31:41,438 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:31:41] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 17:31:41,962 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:31:41] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 17:31:43,027 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:31:43] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 17:40:10,520 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-27 17:40:10,520 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-27 17:40:10,520 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-27 17:40:10,520 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:40:10,520 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-27 17:40:10,520 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:40:10,521 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 17:40:10,521 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 17:40:10,521 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:40:10,521 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:40:10,521 - app - INFO - 生成的居住证明材料:
2025-04-27 17:40:10,521 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:40:10,521 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 17:40:10,521 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:40:10,521 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 17:40:10,521 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:40:10] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 17:40:12,342 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'orderNumber': '2533709784496095861', 'isUrgent': 'true', 'familyMembers': '[{"relation":"SPOUSE","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-27 17:40:12,342 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-27 17:40:12,342 - app - DEBUG - 家庭成员数量: 1
2025-04-27 17:40:12,342 - app - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 17:40:12,342 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'orderNumber': '2533709784496095861', 'isUrgent': 'true', 'familyMembers': [{'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-27 17:40:12,342 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:40:12,342 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单']
2025-04-27 17:40:12,342 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-27 17:40:12,342 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-27 17:40:12,342 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-27 17:40:12,342 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:40:12,343 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:40:12,343 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于3万的税单'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:40:12,343 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:40:12,343 - app - DEBUG - 部分: 基本信息
2025-04-27 17:40:12,343 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:40:12,343 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:40:12,343 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:40:12,343 - app - DEBUG - 部分: 基本材料
2025-04-27 17:40:12,343 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:40:12,343 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:40:12,343 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:40:12,343 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:40:12,343 - app - DEBUG - 部分: 财力证明
2025-04-27 17:40:12,343 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:40:12,344 - app - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:40:12,344 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:40:12,344 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:40:12,344 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:40:12,344 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:40:12,344 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:40:12,344 - app - DEBUG - 部分: 家属材料
2025-04-27 17:40:12,344 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:40:12,344 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:40:12,344 - app - DEBUG - 部分: 其他材料
2025-04-27 17:40:12,344 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:40:12,344 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:40:12,344 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:40:12,344 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-27 17:40:12,344 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'SPOUSE', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有50万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:40:12,345 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于3万的税单
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:40:12,346 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:40:12,347 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-27 17:40:12,347 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpb4mctcyl.html
2025-04-27 17:40:12,347 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:40:12,372 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:40:12,373 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:40:12,376 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-27 17:40:12,658 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:40:12,658 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:40:12,658 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:40:12] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:42:30,125 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-27 17:42:30,125 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:42:30,125 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-27 17:42:30,126 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 17:42:30,126 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:42:30,126 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:42:30,126 - app - INFO - 生成的居住证明材料:
2025-04-27 17:42:30,126 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-27 17:42:30,126 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-27 17:42:30,126 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:42:30,126 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-27 17:42:30,126 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:42:30] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 17:42:31,366 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'orderNumber': '2533709784496095861', 'isUrgent': 'true'}
2025-04-27 17:42:31,366 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'orderNumber': '2533709784496095861', 'isUrgent': 'true'}
2025-04-27 17:42:31,366 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:42:31,367 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-27 17:42:31,367 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-27 17:42:31,367 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-27 17:42:31,367 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:42:31,367 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:42:31,367 - app - DEBUG - 详细材料清单内容:
2025-04-27 17:42:31,367 - app - DEBUG - 部分: 基本信息
2025-04-27 17:42:31,367 - app - DEBUG -   - 居住地领区: 北京
2025-04-27 17:42:31,367 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:42:31,367 - app - DEBUG -   - 申请类型: 单次签证
2025-04-27 17:42:31,367 - app - DEBUG - 部分: 基本材料
2025-04-27 17:42:31,367 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:42:31,367 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:42:31,368 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:42:31,368 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:42:31,368 - app - DEBUG - 部分: 财力证明
2025-04-27 17:42:31,368 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:42:31,368 - app - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 17:42:31,368 - app - DEBUG - 部分: 居住证明材料
2025-04-27 17:42:31,368 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 17:42:31,368 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:42:31,368 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:42:31,368 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:42:31,368 - app - DEBUG - 部分: 其他材料
2025-04-27 17:42:31,368 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:42:31,368 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:42:31,368 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:42:31,368 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-27 17:42:31,369 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp511yib9p.html
2025-04-27 17:42:31,370 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-27 17:42:31,394 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-27 17:42:31,395 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-27 17:42:31,398 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-27 17:42:31,636 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-27 17:42:31,636 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250427.pdf
2025-04-27 17:42:31,636 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:42:31] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-27 17:44:24,383 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-27 17:44:24,383 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-27 17:44:24,384 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-27 17:44:24,384 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-27 17:44:24,384 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-27 17:44:24,384 - werkzeug - INFO - 221.216.116.214 - - [27/Apr/2025 17:44:24] "POST /api/generate HTTP/1.1" 200 -
2025-04-27 17:47:36,680 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:47:36,776 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:47:37,327 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:47:37,332 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:47:37,335 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:48:34,015 - werkzeug - INFO - 180.163.28.109 - - [27/Apr/2025 17:48:34] "[31m[1mGET /api/generate_pdf HTTP/1.1[0m" 405 -
2025-04-27 17:50:39,117 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-27 17:50:39,188 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:50:39,716 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:50:39,722 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:50:39,724 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:51:19,928 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-27 17:51:19,999 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:51:20,533 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:51:20,539 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:51:20,541 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-27 17:52:30,861 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/financial_materials.py', reloading
2025-04-27 17:52:30,932 - werkzeug - INFO -  * Restarting with stat
2025-04-27 17:52:31,458 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-27 17:52:31,464 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 17:52:31,466 - werkzeug - INFO -  * Debugger PIN: 413-907-019
2025-04-28 13:55:31,084 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 13:55:31,105 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-28 13:55:31,105 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-28 13:55:31,109 - werkzeug - INFO -  * Restarting with stat
2025-04-28 13:55:31,679 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 13:55:31,684 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 13:55:31,690 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 13:55:32,668 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 13:55:32] "GET / HTTP/1.1" 200 -
2025-04-28 13:55:32,715 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 13:55:32] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-28 13:55:33,900 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 13:55:33] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-28 13:55:47,894 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 13:55:47,894 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 13:55:47,895 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 13:55:47,895 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 13:55:47,895 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 13:55:47,895 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 13:55:47,895 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 13:55:47,895 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 13:55:47,895 - app - INFO - 生成的居住证明材料:
2025-04-28 13:55:47,895 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 13:55:47,895 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 13:55:47,895 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 13:55:47,895 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 13:55:47,896 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 13:55:47] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 13:55:51,636 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 13:55:51,636 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 13:55:51,636 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 13:55:51,636 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 13:55:51,637 - document_generator.financial_materials - DEBUG - 未指定经济材料类型，使用默认逻辑
2025-04-28 13:55:51,637 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-28 13:55:51,637 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 13:55:51,637 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 13:55:51,637 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 13:55:51,637 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 13:55:51,637 - app - DEBUG - 详细材料清单内容:
2025-04-28 13:55:51,637 - app - DEBUG - 部分: 基本信息
2025-04-28 13:55:51,637 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 13:55:51,637 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 13:55:51,637 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 13:55:51,637 - app - DEBUG - 部分: 基本材料
2025-04-28 13:55:51,638 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 13:55:51,638 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 13:55:51,638 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 13:55:51,638 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 13:55:51,638 - app - DEBUG - 部分: 财力证明
2025-04-28 13:55:51,638 - app - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-28 13:55:51,638 - app - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-28 13:55:51,638 - app - DEBUG - 部分: 居住证明材料
2025-04-28 13:55:51,638 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 13:55:51,638 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 13:55:51,638 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 13:55:51,638 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 13:55:51,638 - app - DEBUG - 部分: 其他材料
2025-04-28 13:55:51,639 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 13:55:51,639 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 13:55:51,639 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 13:55:51,639 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 13:55:51,639 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 13:55:51,640 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 13:55:51,640 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 13:55:51,640 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 13:55:51,640 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 13:55:51,640 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 13:55:51,640 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 13:55:51,641 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 13:55:51,641 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 13:55:51,641 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 13:55:51,641 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 13:55:51,641 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-28 13:55:51,641 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-28 13:55:51,642 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 13:55:51,642 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 13:55:51,642 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 13:55:51,642 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 13:55:51,642 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 13:55:51,642 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG -   - 税单要求：金额大于1万的税单
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 13:55:51,643 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 13:55:51,644 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpeoc8idw1.html
2025-04-28 13:55:51,644 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 13:55:51,737 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 13:55:51,737 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 13:55:52,083 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 13:55:52,083 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 13:55:52,083 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 13:55:52] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 14:43:02,936 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 14:43:03,033 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:43:03,678 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:43:03,686 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:43:03,691 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 14:45:40,369 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 14:45:40,440 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:45:40,994 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:45:41,000 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:45:41,003 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 14:45:43,079 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:45:43] "GET / HTTP/1.1" 200 -
2025-04-28 14:45:43,134 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:45:43] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 14:45:44,160 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:45:44] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 14:45:50,932 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 14:45:50,932 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:45:50,932 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 14:45:50,932 - document_generator.financial_materials - DEBUG - 未指定经济材料类型，使用默认逻辑
2025-04-28 14:45:50,932 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单']
2025-04-28 14:45:50,932 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:45:50,932 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:45:50,933 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：确认申请人本人持有10万以上的可验证存款/理财证明（招商银行、建设银行、工商银行等银行可出具）', '税单要求：金额大于1万的税单'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:45:50,933 - app - INFO - 生成的居住证明材料:
2025-04-28 14:45:50,933 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 14:45:50,933 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 14:45:50,933 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:45:50,933 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 14:45:50,933 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:45:50] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 14:45:52,500 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 14:45:52,501 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 14:45:52,501 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 14:45:52,501 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:45:52] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 14:46:08,279 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 14:46:08,279 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:46:08,279 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 14:46:08,279 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 14:46:08,279 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 14:46:08,279 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:46:08,279 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:46:08,280 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:46:08,280 - app - INFO - 生成的居住证明材料:
2025-04-28 14:46:08,280 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 14:46:08,280 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 14:46:08,280 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:46:08,280 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 14:46:08,280 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:08] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 14:46:12,884 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 14:46:12,884 - app - DEBUG - 检测到经济材料选项: credit_card
2025-04-28 14:46:12,885 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 14:46:12,885 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:46:12,885 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 14:46:12,885 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 14:46:12,885 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 14:46:12,885 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:46:12,885 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:46:12,885 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:46:12,886 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:46:12,886 - app - DEBUG - 详细材料清单内容:
2025-04-28 14:46:12,886 - app - DEBUG - 部分: 基本信息
2025-04-28 14:46:12,886 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 14:46:12,886 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:46:12,886 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 14:46:12,886 - app - DEBUG - 部分: 基本材料
2025-04-28 14:46:12,886 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:46:12,886 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:46:12,886 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:46:12,886 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:46:12,886 - app - DEBUG - 部分: 财力证明
2025-04-28 14:46:12,886 - app - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 14:46:12,887 - app - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 14:46:12,887 - app - DEBUG - 部分: 居住证明材料
2025-04-28 14:46:12,887 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:46:12,887 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:46:12,887 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:46:12,887 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:46:12,887 - app - DEBUG - 部分: 其他材料
2025-04-28 14:46:12,887 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:46:12,887 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 14:46:12,887 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 14:46:12,887 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 14:46:12,887 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:46:12,888 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:46:12,889 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: credit_card
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 14:46:12,890 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 14:46:12,891 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 14:46:12,891 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 14:46:12,891 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 14:46:12,891 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 14:46:12,891 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpm1qm1kpn.html
2025-04-28 14:46:12,892 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 14:46:12,975 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 14:46:12,976 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 14:46:13,273 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 14:46:13,274 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 14:46:13,274 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:13] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 14:46:25,934 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:25] "GET / HTTP/1.1" 200 -
2025-04-28 14:46:25,999 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:25] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 14:46:26,105 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:26] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 14:46:45,879 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 14:46:45,879 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:46:45,879 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=deposit_three, 类型=<class 'str'>, 签证期限=THREE
2025-04-28 14:46:45,879 - document_generator.financial_materials - DEBUG - 已选择存款证明50万，生成对应材料清单
2025-04-28 14:46:45,880 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-28 14:46:45,880 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:46:45,880 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:46:45,880 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:46:45,880 - app - INFO - 生成的居住证明材料:
2025-04-28 14:46:45,880 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 14:46:45,880 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 14:46:45,880 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:46:45,880 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 14:46:45,880 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:45] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 14:46:54,332 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'THREE', 'economicMaterial': 'deposit_three', 'previousVisit': 'true', 'orderNumber': '181519165', 'isUrgent': 'true'}
2025-04-28 14:46:54,332 - app - DEBUG - 检测到经济材料选项: deposit_three
2025-04-28 14:46:54,332 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'THREE', 'economicMaterial': 'deposit_three', 'previousVisit': 'true', 'orderNumber': '181519165', 'isUrgent': 'true'}
2025-04-28 14:46:54,333 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:46:54,333 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=deposit_three, 类型=<class 'str'>, 签证期限=THREE
2025-04-28 14:46:54,333 - document_generator.financial_materials - DEBUG - 已选择存款证明50万，生成对应材料清单
2025-04-28 14:46:54,333 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-28 14:46:54,333 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:46:54,333 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:46:54,333 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:46:54,333 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 14:46:54,333 - app - DEBUG - 详细材料清单内容:
2025-04-28 14:46:54,333 - app - DEBUG - 部分: 基本信息
2025-04-28 14:46:54,333 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 14:46:54,333 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:46:54,334 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 14:46:54,334 - app - DEBUG - 部分: 基本材料
2025-04-28 14:46:54,334 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:46:54,334 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:46:54,334 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:46:54,334 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:46:54,334 - app - DEBUG - 部分: 财力证明
2025-04-28 14:46:54,334 - app - DEBUG -   - 存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）
2025-04-28 14:46:54,334 - app - DEBUG - 部分: 居住证明材料
2025-04-28 14:46:54,334 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:46:54,334 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:46:54,334 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:46:54,334 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:46:54,334 - app - DEBUG - 部分: 其他材料
2025-04-28 14:46:54,335 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:46:54,335 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 14:46:54,335 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:46:54,335 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:46:54,336 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: deposit_three
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpnxdfs8o0.html
2025-04-28 14:46:54,337 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 14:46:54,370 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 14:46:54,371 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 14:46:54,374 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-28 14:46:54,611 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 14:46:54,612 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 14:46:54,612 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:46:54] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 14:47:13,539 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-28 14:47:13,539 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:47:13,539 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-28 14:47:13,539 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:47:13,539 - document_generator.residence_materials - INFO - 在读大学生不需要额外的居住证明
2025-04-28 14:47:13,539 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 14:47:13,539 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:47:13] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 14:47:14,689 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'STUDENT', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'THREE', 'previousVisit': 'true', 'orderNumber': '181519165', 'isUrgent': 'true'}
2025-04-28 14:47:14,689 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'STUDENT', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'THREE', 'previousVisit': 'true', 'orderNumber': '181519165', 'isUrgent': 'true'}
2025-04-28 14:47:14,689 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:47:14,689 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-28 14:47:14,689 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:47:14,690 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:47:14,690 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 14:47:14,690 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 14:47:14,690 - app - DEBUG - 详细材料清单内容:
2025-04-28 14:47:14,690 - app - DEBUG - 部分: 基本信息
2025-04-28 14:47:14,690 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 14:47:14,690 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:47:14,690 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 14:47:14,690 - app - DEBUG - 部分: 基本材料
2025-04-28 14:47:14,690 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:47:14,690 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:47:14,690 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:47:14,690 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:47:14,690 - app - DEBUG - 部分: 学籍/学历证明
2025-04-28 14:47:14,691 - app - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:47:14,691 - app - DEBUG - 部分: 财力证明
2025-04-28 14:47:14,691 - app - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:47:14,691 - app - DEBUG - 部分: 居住证明材料
2025-04-28 14:47:14,691 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:47:14,691 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:47:14,691 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:47:14,691 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:47:14,691 - app - DEBUG - 部分: 其他材料
2025-04-28 14:47:14,691 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:47:14,691 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=学生, 领区=北京
2025-04-28 14:47:14,691 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 14:47:14,691 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:47:14,692 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: STUDENT
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 14:47:14,693 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpaffpbnmd.html
2025-04-28 14:47:14,694 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 14:47:14,718 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 14:47:14,719 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 14:47:14,728 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-28 14:47:14,941 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 14:47:14,941 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 14:47:14,941 - werkzeug - INFO - 127.0.0.1 - - [28/Apr/2025 14:47:14] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 14:49:17,350 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:49:17,357 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-28 14:49:17,357 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-28 14:49:17,358 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:49:17,926 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:49:17,931 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:49:17,933 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 14:51:08,717 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 14:51:08] "GET / HTTP/1.1" 200 -
2025-04-28 14:51:08,798 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 14:51:08] "GET /static/css/style.css HTTP/1.1" 200 -
2025-04-28 14:51:09,553 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 14:51:09] "GET /static/js/main.js HTTP/1.1" 200 -
2025-04-28 14:51:18,602 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-28 14:51:18,602 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:51:18,603 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-28 14:51:18,603 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:51:18,603 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:51:18,603 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 14:51:18,603 - app - INFO - 生成的居住证明材料:
2025-04-28 14:51:18,603 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 14:51:18,603 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 14:51:18,603 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:51:18,603 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 14:51:18,604 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 14:51:18] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 14:51:25,428 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'orderNumber': '25289259529', 'isUrgent': 'true'}
2025-04-28 14:51:25,428 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'orderNumber': '25289259529', 'isUrgent': 'true'}
2025-04-28 14:51:25,428 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 14:51:25,428 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['提供学信网在线学籍验证报告（领区内大学在读）']
2025-04-28 14:51:25,428 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 14:51:25,429 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 14:51:25,429 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 14:51:25,429 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明'], '财力证明': ['提供学信网在线学籍验证报告（领区内大学在读）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 14:51:25,429 - app - DEBUG - 详细材料清单内容:
2025-04-28 14:51:25,429 - app - DEBUG - 部分: 基本信息
2025-04-28 14:51:25,429 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 14:51:25,429 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:51:25,429 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 14:51:25,429 - app - DEBUG - 部分: 基本材料
2025-04-28 14:51:25,429 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:51:25,429 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:51:25,429 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:51:25,429 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:51:25,430 - app - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 14:51:25,430 - app - DEBUG -   - 非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明
2025-04-28 14:51:25,430 - app - DEBUG - 部分: 财力证明
2025-04-28 14:51:25,430 - app - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:51:25,430 - app - DEBUG - 部分: 居住证明材料
2025-04-28 14:51:25,430 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:51:25,430 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:51:25,430 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:51:25,430 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:51:25,430 - app - DEBUG - 部分: 其他材料
2025-04-28 14:51:25,430 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:51:25,430 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 14:51:25,430 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 14:51:25,430 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 14:51:25,430 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 非在读学生使用特定大学生办理方式，需要提供曾经的学籍或学历证明
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 14:51:25,431 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: STUDENT
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG -   - 提供学信网在线学籍验证报告（领区内大学在读）
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 14:51:25,432 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 14:51:25,433 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp9nzi_rny.html
2025-04-28 14:51:25,433 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 14:51:25,511 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 14:51:25,511 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 14:51:25,515 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-28 14:51:25,787 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 14:51:25,788 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 14:51:25,788 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 14:51:25] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 14:53:14,956 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-28 14:53:15,039 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:53:15,578 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:53:15,584 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:53:15,586 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 14:54:12,866 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 14:54:12,932 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:54:13,474 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:54:13,479 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:54:13,482 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 14:54:53,659 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-28 14:54:53,731 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:54:54,317 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:54:54,323 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:54:54,325 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 14:57:58,142 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/test_student_output.py', reloading
2025-04-28 14:57:58,326 - werkzeug - INFO -  * Restarting with stat
2025-04-28 14:57:59,612 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 14:57:59,619 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 14:57:59,622 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:05:40,579 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-28 15:05:40,651 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:05:41,186 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:05:41,191 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:05:41,194 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:07:43,844 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'orderNumber': '25289259529', 'isUrgent': 'true'}
2025-04-28 15:07:43,845 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'orderNumber': '25289259529', 'isUrgent': 'true'}
2025-04-28 15:07:43,845 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:07:43,846 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-28 15:07:43,846 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:07:43,847 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:07:43,847 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:07:43,847 - app - DEBUG - 部分: 基本信息
2025-04-28 15:07:43,848 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:07:43,848 - app - DEBUG -   - 户籍所在地领区: 北京
2025-04-28 15:07:43,848 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:07:43,848 - app - DEBUG - 部分: 基本材料
2025-04-28 15:07:43,848 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:07:43,849 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:07:43,849 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:07:43,849 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:07:43,849 - app - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:07:43,849 - app - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:07:43,849 - app - DEBUG - 部分: 其他材料
2025-04-28 15:07:43,849 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:07:43,849 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 北京
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:07:43,850 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:07:43,851 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:07:43,852 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: STUDENT
2025-04-28 15:07:43,852 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:07:43,852 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:07:43,853 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmps26363qq.html
2025-04-28 15:07:43,853 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:07:43,936 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:07:43,937 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:07:43,940 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-28 15:07:44,172 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:07:44,172 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:07:44,173 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:07:44] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:08:08,921 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "beijing", "applicationType": "SINGLE", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 15:08:08,921 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:08:08,921 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=deposit_three, 类型=<class 'str'>, 签证期限=THREE
2025-04-28 15:08:08,921 - document_generator.financial_materials - DEBUG - 已选择存款证明50万，生成对应材料清单
2025-04-28 15:08:08,921 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-28 15:08:08,921 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=beijing, type=SINGLE
2025-04-28 15:08:08,921 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 北京', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:08:08,922 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:08:08] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:10:52,526 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-28 15:10:52,653 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:10:53,239 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:10:53,245 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:10:53,247 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:11:17,363 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:11:17,435 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:11:17,978 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:11:17,984 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:11:17,986 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:11:32,057 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-28 15:11:32,213 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:11:32,865 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:11:32,870 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:11:32,872 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:12:01,000 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/main.py', reloading
2025-04-28 15:12:01,070 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:12:01,626 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:12:01,632 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:12:01,634 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:12:09,715 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:12:09] "GET / HTTP/1.1" 200 -
2025-04-28 15:12:09,816 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:12:09] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 15:12:10,598 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:12:10] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 15:12:17,308 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-28 15:12:17,309 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:12:17,309 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:12:17,309 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:12:17,309 - document_generator.main - DEBUG - 为北京领区在职人员特定大学生单次办理添加必要税单要求
2025-04-28 15:12:17,309 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:12:17,309 - app - INFO - 生成的居住证明材料:
2025-04-28 15:12:17,309 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:12:17,309 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:12:17,309 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:12:17,309 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:12:17,310 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:12:17] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:12:22,988 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:12:22,988 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:12:22,988 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:12:22,988 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:12:22,988 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:12:22,988 - document_generator.main - DEBUG - 为北京领区在职人员特定大学生单次办理添加必要税单要求
2025-04-28 15:12:22,988 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:12:22,989 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:12:22,989 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:12:22,989 - app - DEBUG - 部分: 基本信息
2025-04-28 15:12:22,989 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:12:22,989 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:12:22,989 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:12:22,989 - app - DEBUG - 部分: 基本材料
2025-04-28 15:12:22,989 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:12:22,989 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:12:22,989 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:12:22,989 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:12:22,989 - app - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:12:22,989 - app - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:12:22,990 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:12:22,990 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:12:22,990 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:12:22,990 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:12:22,990 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:12:22,990 - app - DEBUG - 部分: 其他材料
2025-04-28 15:12:22,990 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:12:22,990 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:12:22,990 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:12:22,990 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:12:22,990 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:12:22,990 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:12:22,990 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:12:22,990 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:12:22,990 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:12:22,991 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:12:22,992 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:12:22,993 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:12:22,993 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:12:22,993 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:12:22,994 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:12:22,994 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:12:22,994 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: STUDENT
2025-04-28 15:12:22,994 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:12:22,994 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:12:22,995 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp22sysyvo.html
2025-04-28 15:12:22,995 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:12:23,073 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:12:23,074 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:12:23,370 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:12:23,371 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:12:23,371 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:12:23] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:14:00,185 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:14:00,269 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:14:00,806 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:14:00,811 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:14:00,813 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:14:03,904 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-28 15:14:03,904 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:14:03,904 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:14:03,905 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:14:03,905 - document_generator.main - DEBUG - 为北京领区在职人员特定大学生单次办理添加必要税单要求
2025-04-28 15:14:03,905 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:14:03,905 - app - INFO - 生成的居住证明材料:
2025-04-28 15:14:03,905 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:14:03,905 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:14:03,905 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:14:03,905 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:14:03,906 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:14:03] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:14:05,144 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:14:05,144 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:14:05,144 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:14:05,144 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:14:05,144 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:14:05,144 - document_generator.main - DEBUG - 为北京领区在职人员特定大学生单次办理添加必要税单要求
2025-04-28 15:14:05,145 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:14:05,145 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:14:05,145 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:14:05,145 - app - DEBUG - 部分: 基本信息
2025-04-28 15:14:05,145 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:14:05,145 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:14:05,145 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:14:05,145 - app - DEBUG - 部分: 基本材料
2025-04-28 15:14:05,145 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:14:05,145 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:14:05,145 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:14:05,145 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:14:05,145 - app - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:14:05,146 - app - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:14:05,146 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:14:05,146 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:14:05,146 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:14:05,146 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:14:05,146 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:14:05,146 - app - DEBUG - 部分: 其他材料
2025-04-28 15:14:05,146 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:14:05,146 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:14:05,146 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:14:05,146 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:14:05,146 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:14:05,146 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:14:05,146 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:14:05,147 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: STUDENT
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpcru8eeyt.html
2025-04-28 15:14:05,148 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:14:05,228 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:14:05,229 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:14:05,510 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:14:05,510 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:14:05,510 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:14:05] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:14:31,972 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:14:32,057 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:14:32,592 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:14:32,597 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:14:32,599 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:17:35,390 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:17:35,461 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:17:36,006 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:17:36,012 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:17:36,014 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:17:38,409 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": null, "processType": "STUDENT"}
2025-04-28 15:17:38,409 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:17:38,409 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:17:38,409 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:17:38,409 - document_generator.main - DEBUG - 为北京领区在职人员特定大学生单次办理添加必要税单要求
2025-04-28 15:17:38,409 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:17:38,410 - app - INFO - 生成的居住证明材料:
2025-04-28 15:17:38,410 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:17:38,410 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:17:38,410 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:17:38,410 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:17:38,410 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:17:38] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:17:39,369 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:17:39,369 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'STUDENT', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:17:39,369 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:17:39,370 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:17:39,370 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:17:39,370 - document_generator.main - DEBUG - 为北京领区在职人员特定大学生单次办理添加必要税单要求
2025-04-28 15:17:39,370 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:17:39,370 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证（学生专用）'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '学籍/学历证明及情况说明': ['非在读学生使用特定大学生办理方式，提供学信网电子注册备案表'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:17:39,370 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:17:39,370 - app - DEBUG - 部分: 基本信息
2025-04-28 15:17:39,370 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:17:39,370 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:17:39,370 - app - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:17:39,370 - app - DEBUG - 部分: 基本材料
2025-04-28 15:17:39,370 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:17:39,371 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:17:39,371 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:17:39,371 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:17:39,371 - app - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:17:39,371 - app - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:17:39,371 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:17:39,371 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:17:39,371 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:17:39,371 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:17:39,371 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:17:39,371 - app - DEBUG - 部分: 其他材料
2025-04-28 15:17:39,371 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:17:39,371 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:17:39,371 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:17:39,371 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证（学生专用）
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG - 部分: 学籍/学历证明及情况说明
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 非在读学生使用特定大学生办理方式，提供学信网电子注册备案表
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:17:39,372 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: STUDENT
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:17:39,373 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:17:39,374 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp_yo05z88.html
2025-04-28 15:17:39,374 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:17:39,454 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:17:39,454 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:17:39,725 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:17:39,726 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:17:39,726 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:17:39] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:18:05,158 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:18:05,240 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:18:05,792 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:18:05,798 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:18:05,801 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:18:34,839 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 15:18:34,839 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-28 15:18:34,839 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=beijing
2025-04-28 15:18:34,839 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:18:34,839 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=deposit_three, 类型=<class 'str'>, 签证期限=THREE
2025-04-28 15:18:34,839 - document_generator.financial_materials - DEBUG - 已选择存款证明50万，生成对应材料清单
2025-04-28 15:18:34,839 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-28 15:18:34,840 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-28 15:18:34,840 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-28 15:18:34,840 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:18:34,840 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:18:34,840 - app - INFO - 生成的居住证明材料:
2025-04-28 15:18:34,840 - app - INFO -   主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-28 15:18:34,840 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:18:34,840 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:18:34,840 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:18:34,841 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:18:34] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:18:41,117 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'economicMaterial': 'deposit_three', 'previousVisit': 'true', 'isUrgent': 'true', 'familyMembers': '[{"relation":"CHILD","identityType":"CHILD","residenceConsulate":"beijing","hukouConsulate":"beijing","number":1}]'}
2025-04-28 15:18:41,117 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-28 15:18:41,117 - app - DEBUG - 家庭成员数量: 1
2025-04-28 15:18:41,117 - app - DEBUG - 家庭成员 1: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-28 15:18:41,117 - app - DEBUG - 检测到经济材料选项: deposit_three
2025-04-28 15:18:41,117 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'NORMAL', 'visaType': 'THREE', 'economicMaterial': 'deposit_three', 'previousVisit': 'true', 'isUrgent': 'true', 'familyMembers': [{'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}]}
2025-04-28 15:18:41,117 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:18:41,118 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=deposit_three, 类型=<class 'str'>, 签证期限=THREE
2025-04-28 15:18:41,118 - document_generator.financial_materials - DEBUG - 已选择存款证明50万，生成对应材料清单
2025-04-28 15:18:41,118 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）']
2025-04-28 15:18:41,118 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-28 15:18:41,118 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=beijing
2025-04-28 15:18:41,118 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:18:41,118 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:18:41,119 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）'], '居住证明材料': ['主申请人需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明', '3. 家庭成员1需要由监护人陪同并提供监护关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:18:41,119 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:18:41,119 - app - DEBUG - 部分: 基本信息
2025-04-28 15:18:41,119 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:18:41,119 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:18:41,119 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:18:41,119 - app - DEBUG - 部分: 基本材料
2025-04-28 15:18:41,119 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:18:41,119 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:18:41,119 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:18:41,119 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:18:41,119 - app - DEBUG - 部分: 财力证明
2025-04-28 15:18:41,119 - app - DEBUG -   - 存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）
2025-04-28 15:18:41,119 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:18:41,119 - app - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-28 15:18:41,120 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:18:41,120 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:18:41,120 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:18:41,120 - app - DEBUG - 部分: 家属材料
2025-04-28 15:18:41,120 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-28 15:18:41,120 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-28 15:18:41,120 - app - DEBUG -   - 3. 家庭成员1需要由监护人陪同并提供监护关系证明
2025-04-28 15:18:41,120 - app - DEBUG - 部分: 其他材料
2025-04-28 15:18:41,120 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:18:41,120 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:18:41,120 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:18:41,120 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-28 15:18:41,120 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-28 15:18:41,120 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'CHILD', 'identityType': 'CHILD', 'residenceConsulate': 'beijing', 'hukouConsulate': 'beijing', 'number': 1}
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:18:41,122 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 主申请人需要提供以下居住证明材料（选择一种即可）：
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 3. 家庭成员1需要由监护人陪同并提供监护关系证明
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: deposit_three
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG -   - 存款/理财证明：50万以上（需要提前确认是可验证银行开具的存款/理财证明）
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:18:41,123 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:18:41,124 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-28 15:18:41,124 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpyc6mhw2t.html
2025-04-28 15:18:41,124 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:18:41,205 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:18:41,206 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:18:41,209 - weasyprint - WARNING - Ignored `box-shadow: 0 0 5px rgba(0,0,0,0.2)` at 19:13, unknown property.
2025-04-28 15:18:41,523 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:18:41,523 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:18:41,523 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:18:41] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:18:58,984 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 15:18:58,984 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）']
2025-04-28 15:18:58,984 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:18:58,985 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:18:58,985 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的配偶', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（结婚证/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:18:58,985 - app - INFO - 生成的居住证明材料:
2025-04-28 15:18:58,986 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:18:58,986 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:18:58,986 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:18:58,986 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:18:58,986 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:18:58] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:19:04,607 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true', 'familyRelation': 'SPOUSE', 'familyVisaType': 'THREE'}
2025-04-28 15:19:04,607 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true', 'familyRelation': 'SPOUSE', 'familyVisaType': 'THREE'}
2025-04-28 15:19:04,607 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:19:04,608 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:04] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:19:07,593 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true', 'familyRelation': 'SPOUSE', 'familyVisaType': 'THREE'}
2025-04-28 15:19:07,593 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'true', 'familyRelation': 'SPOUSE', 'familyVisaType': 'THREE'}
2025-04-28 15:19:07,593 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:19:07,593 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:07] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:19:30,112 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:19:30,120 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-28 15:19:30,120 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-28 15:19:30,121 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:19:30,668 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:19:30,673 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:19:30,676 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:19:32,590 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:32] "GET / HTTP/1.1" 200 -
2025-04-28 15:19:32,655 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:32] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 15:19:33,418 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:33] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 15:19:40,328 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 15:19:40,328 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-28 15:19:40,328 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:19:40,328 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:19:40,328 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:19:40,329 - app - INFO - 生成的居住证明材料:
2025-04-28 15:19:40,329 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:19:40,329 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:19:40,329 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:19:40,329 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:19:40,329 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:40] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:19:46,469 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:19:46,469 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:19:46,469 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:19:46,469 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:19:46] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:20:46,577 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 15:20:46,578 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-28 15:20:46,578 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:20:46,578 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:20:46,578 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:20:46,578 - app - INFO - 生成的居住证明材料:
2025-04-28 15:20:46,578 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:20:46,578 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:20:46,578 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:20:46,578 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:20:46,579 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:20:46] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:20:48,223 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:20:48,223 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:20:48,223 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:20:48,223 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:20:48] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:20:52,813 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:20:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 15:21:02,483 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:21:02,483 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:21:02,483 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:21:02,483 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:21:02] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:21:50,282 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:21:50,353 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:21:50,889 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:21:50,894 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:21:50,897 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:22:15,011 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:22:15,180 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:22:15,753 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:22:15,758 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:22:15,761 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:22:31,844 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:22:32,083 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:22:32,618 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:22:32,623 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:22:32,626 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:22:46,500 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:22:46,507 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-28 15:22:46,507 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-28 15:22:46,507 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:22:47,069 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:22:47,075 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:22:47,077 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:23:07,589 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:23:07,589 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:23:07,589 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-28 15:23:07,589 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:23:07,589 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:23:07,589 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:23:07,590 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:23:07,590 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:23:07,590 - app - DEBUG - 部分: 基本信息
2025-04-28 15:23:07,590 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:23:07,590 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:23:07,590 - app - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-28 15:23:07,591 - app - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-28 15:23:07,591 - app - DEBUG - 部分: 基本材料
2025-04-28 15:23:07,591 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:23:07,591 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:23:07,591 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:23:07,591 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:23:07,591 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-28 15:23:07,591 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-28 15:23:07,591 - app - DEBUG - 部分: 财力证明
2025-04-28 15:23:07,591 - app - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:23:07,591 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:23:07,592 - app - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:23:07,592 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:23:07,592 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:23:07,592 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:23:07,592 - app - DEBUG - 部分: 其他材料
2025-04-28 15:23:07,592 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:23:07,592 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:23:07,593 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-28 15:23:07,593 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:23:07,594 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:23:07,595 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:23:07,595 - document_generator.pdf_generator - ERROR - 生成PDF时出错: name 'document_items' is not defined
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 149, in generate_pdf
    document_items.append(f'<div class="material-section">')
    ^^^^^^^^^^^^^^
NameError: name 'document_items' is not defined. Did you mean: 'document_list'?
2025-04-28 15:23:07,600 - app - ERROR - 生成PDF文件时出错: name 'document_items' is not defined
Traceback (most recent call last):
  File "/home/ubuntu/VASEN/GOOD/app.py", line 208, in generate_pdf
    pdf_content = pdf_generator.generate_pdf(document_list, form_data)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py", line 149, in generate_pdf
    document_items.append(f'<div class="material-section">')
    ^^^^^^^^^^^^^^
NameError: name 'document_items' is not defined. Did you mean: 'document_list'?
2025-04-28 15:23:07,604 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:23:07] "[35m[1mPOST /api/generate_pdf HTTP/1.1[0m" 500 -
2025-04-28 15:23:25,246 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:23:25,403 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:23:26,553 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:23:26,560 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:23:26,563 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:23:27,581 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:23:27,656 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:23:28,196 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:23:28,201 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:23:28,204 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:23:41,275 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:23:41,348 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:23:41,881 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:23:41,887 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:23:41,889 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:27:48,940 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:27:49,013 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:27:49,548 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:27:49,554 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:27:49,556 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:27:59,608 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:27:59,679 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:28:00,226 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:28:00,232 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:28:00,235 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:28:04,261 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:28:04,337 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:28:05,453 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:28:05,459 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:28:05,461 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:28:53,691 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:28:53,762 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:28:54,298 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:28:54,303 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:28:54,306 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:29:07,375 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:29:07,454 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:29:07,997 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:29:08,002 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:29:08,005 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:29:21,068 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:29:21,139 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:29:21,679 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:29:21,685 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:29:21,687 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:29:23,884 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:29:23,884 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:29:23,884 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-28 15:29:23,884 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:29:23,885 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:29:23,885 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:29:23,885 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:29:23,885 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:29:23,885 - app - DEBUG - 部分: 基本信息
2025-04-28 15:29:23,885 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:29:23,885 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:29:23,885 - app - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-28 15:29:23,885 - app - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-28 15:29:23,885 - app - DEBUG - 部分: 基本材料
2025-04-28 15:29:23,886 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:29:23,886 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:29:23,886 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:29:23,886 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:29:23,886 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-28 15:29:23,886 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-28 15:29:23,886 - app - DEBUG - 部分: 财力证明
2025-04-28 15:29:23,886 - app - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:29:23,886 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:29:23,887 - app - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:29:23,887 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:29:23,887 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:29:23,887 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:29:23,887 - app - DEBUG - 部分: 其他材料
2025-04-28 15:29:23,887 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:29:23,887 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:29:23,887 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:29:23,887 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:29:23,887 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:29:23,887 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:29:23,887 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:29:23,887 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:29:23,888 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - 绑签申请不需要经济材料选项
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:29:23,889 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpy2c41rjp.html
2025-04-28 15:29:23,890 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:29:23,973 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:29:23,974 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:29:24,265 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:29:24,265 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:29:24,266 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:29:24] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:29:49,119 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:29:49] "GET / HTTP/1.1" 200 -
2025-04-28 15:29:49,215 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:29:49] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 15:29:50,013 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:29:50] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 15:29:57,314 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 15:29:57,314 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:29:57,314 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-28 15:29:57,314 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 15:29:57,314 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 15:29:57,315 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 15:29:57,315 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:29:57,315 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:29:57,315 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:29:57,315 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:29:57,315 - app - INFO - 生成的居住证明材料:
2025-04-28 15:29:57,315 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:29:57,315 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:29:57,315 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:29:57,315 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:29:57,316 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:29:57] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:30:13,193 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:30:13,193 - app - DEBUG - 检测到经济材料选项: credit_card
2025-04-28 15:30:13,193 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:30:13,193 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:30:13,193 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-28 15:30:13,193 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 15:30:13,193 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 15:30:13,193 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 15:30:13,193 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:30:13,194 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:30:13,194 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:30:13,194 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:30:13,194 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:30:13,194 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:30:13,194 - app - DEBUG - 部分: 基本信息
2025-04-28 15:30:13,194 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:30:13,194 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:30:13,194 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:30:13,194 - app - DEBUG - 部分: 基本材料
2025-04-28 15:30:13,195 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:30:13,195 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:30:13,195 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:30:13,195 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:30:13,195 - app - DEBUG - 部分: 财力证明
2025-04-28 15:30:13,195 - app - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:30:13,195 - app - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:30:13,195 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:30:13,195 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:30:13,195 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:30:13,195 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:30:13,195 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:30:13,195 - app - DEBUG - 部分: 其他材料
2025-04-28 15:30:13,195 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:30:13,195 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=自由职业者, 领区=北京
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:30:13,196 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: credit_card
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:30:13,197 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:30:13,198 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:30:13,198 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:30:13,198 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpnt2i4s04.html
2025-04-28 15:30:13,198 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:30:13,223 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:30:13,223 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:30:13,440 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:30:13,441 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:30:13,441 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:30:13] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:30:35,613 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "ECONOMIC", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 15:30:35,613 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:30:35,613 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-28 15:30:35,613 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-28 15:30:35,613 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:30:35,613 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:30:35,613 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:30:35,613 - app - INFO - 生成的居住证明材料:
2025-04-28 15:30:35,613 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:30:35,614 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:30:35,614 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:30:35,614 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:30:35,614 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:30:35] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:30:38,795 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:30:38,795 - app - DEBUG - 检测到经济材料选项: credit_card
2025-04-28 15:30:38,795 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:30:38,796 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:30:38,796 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-28 15:30:38,796 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-28 15:30:38,796 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:30:38,796 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:30:38,796 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:30:38,796 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:30:38,796 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:30:38,796 - app - DEBUG - 部分: 基本信息
2025-04-28 15:30:38,796 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:30:38,796 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:30:38,796 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:30:38,797 - app - DEBUG - 部分: 基本材料
2025-04-28 15:30:38,797 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:30:38,797 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:30:38,797 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:30:38,797 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:30:38,797 - app - DEBUG - 部分: 财力证明
2025-04-28 15:30:38,797 - app - DEBUG -   - 使用直系亲属的经济材料（存款/理财证明、税单等）
2025-04-28 15:30:38,797 - app - DEBUG -   - 需提供关系证明
2025-04-28 15:30:38,797 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:30:38,797 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:30:38,797 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:30:38,797 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:30:38,797 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:30:38,797 - app - DEBUG - 部分: 其他材料
2025-04-28 15:30:38,797 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:30:38,797 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=自由职业者, 领区=北京
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 使用直系亲属的经济材料（存款/理财证明、税单等）
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG -   - 需提供关系证明
2025-04-28 15:30:38,798 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: credit_card
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 使用直系亲属的经济材料（存款/理财证明、税单等）
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG -   - 需提供关系证明
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:30:38,799 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:30:38,800 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmppw6ybufd.html
2025-04-28 15:30:38,800 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:30:38,829 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:30:38,830 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:30:39,040 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:30:39,041 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:30:39,041 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:30:39] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:31:25,732 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 15:31:25,732 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:31:25,732 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-28 15:31:25,732 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 15:31:25,732 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 15:31:25,732 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 15:31:25,732 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:31:25,733 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:31:25,733 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:31:25,733 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:31:25,733 - app - INFO - 生成的居住证明材料:
2025-04-28 15:31:25,733 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:31:25,733 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:31:25,733 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:31:25,733 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:31:25,733 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:31:25] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:31:28,712 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:31:28,713 - app - DEBUG - 检测到经济材料选项: credit_card
2025-04-28 15:31:28,713 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:31:28,713 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:31:28,713 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-28 15:31:28,713 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 15:31:28,713 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 15:31:28,713 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 15:31:28,713 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:31:28,713 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:31:28,713 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:31:28,713 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:31:28,713 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:31:28,714 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:31:28,714 - app - DEBUG - 部分: 基本信息
2025-04-28 15:31:28,714 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:31:28,714 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:31:28,714 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:31:28,714 - app - DEBUG - 部分: 基本材料
2025-04-28 15:31:28,714 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:31:28,714 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:31:28,714 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:31:28,714 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:31:28,714 - app - DEBUG - 部分: 财力证明
2025-04-28 15:31:28,714 - app - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:31:28,715 - app - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:31:28,715 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:31:28,715 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:31:28,715 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:31:28,715 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:31:28,715 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:31:28,715 - app - DEBUG - 部分: 其他材料
2025-04-28 15:31:28,715 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:31:28,716 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=自由职业者, 领区=北京
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:31:28,716 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:31:28,717 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:31:28,718 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:31:28,718 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:31:28,718 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:31:28,718 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:31:28,718 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:31:28,718 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: credit_card
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmphojdhfyl.html
2025-04-28 15:31:28,719 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:31:28,744 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:31:28,744 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:31:28,967 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:31:28,968 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:31:28,968 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:31:28] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:32:28,509 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:32:28,597 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:32:29,134 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:32:29,139 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:32:29,142 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:33:39,445 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:33:39,515 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:33:40,053 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:33:40,058 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:33:40,061 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:33:45,329 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:33:45,329 - app - DEBUG - 检测到经济材料选项: credit_card
2025-04-28 15:33:45,329 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'FREELANCER', 'applicationType': 'SINGLE', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'economicMaterial': 'credit_card', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:33:45,329 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:33:45,329 - document_generator.identity_materials - DEBUG - 为身份 FREELANCER 生成身份材料: ['自由职业情况说明', '与自由职业收入相关的证明文件（流水、股票交割单等）']
2025-04-28 15:33:45,329 - document_generator.financial_materials - DEBUG - 普通经济材料办理: 经济材料类型=credit_card, 类型=<class 'str'>, 签证期限=SINGLE
2025-04-28 15:33:45,330 - document_generator.financial_materials - DEBUG - 已选择信用卡金卡，生成对应材料清单
2025-04-28 15:33:45,330 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细']
2025-04-28 15:33:45,330 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:33:45,330 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:33:45,330 - document_generator.other_materials - DEBUG - 主申请人是自由职业者: FREELANCER
2025-04-28 15:33:45,330 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:33:45,330 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）', '备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）']})
2025-04-28 15:33:45,331 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:33:45,331 - app - DEBUG - 部分: 基本信息
2025-04-28 15:33:45,331 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:33:45,331 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:33:45,331 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:33:45,331 - app - DEBUG - 部分: 基本材料
2025-04-28 15:33:45,331 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:33:45,331 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:33:45,331 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:33:45,332 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:33:45,332 - app - DEBUG - 部分: 财力证明
2025-04-28 15:33:45,332 - app - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:33:45,332 - app - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:33:45,332 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:33:45,332 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:33:45,332 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:33:45,332 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:33:45,332 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:33:45,332 - app - DEBUG - 部分: 其他材料
2025-04-28 15:33:45,332 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:33:45,332 - app - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=自由职业者, 领区=北京
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:33:45,333 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:33:45,334 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG -   - 2. 自由职业或无业要写收入来源说明并提供相关的证明材料（包括家庭成员的申请）
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: credit_card
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG -   - 信用卡金卡及以上（自行遮挡CVV码）+有效性证明（近期三个月电子账单或pos机联）
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG -   - 备注：账单联系信用卡客服索取，需体现姓名/卡号/额度/消费明细
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:33:45,335 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:33:45,336 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmp8yu1wotx.html
2025-04-28 15:33:45,336 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:33:45,418 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:33:45,418 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:33:45,709 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:33:45,710 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:33:45,710 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:33:45] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:34:04,658 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-28 15:34:04,658 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:34:04,658 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-28 15:34:04,658 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:34:04,658 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:34:04,658 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:34:04,658 - app - INFO - 生成的居住证明材料:
2025-04-28 15:34:04,658 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:34:04,658 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:34:04,658 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:34:04,659 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:34:04,659 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:34:04] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:34:06,635 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:34:06,635 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:34:06,635 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:34:06,636 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-28 15:34:06,636 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:34:06,636 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:34:06,636 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:34:06,636 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:34:06,636 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:34:06,636 - app - DEBUG - 部分: 基本信息
2025-04-28 15:34:06,636 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:34:06,636 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:34:06,636 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:34:06,636 - app - DEBUG - 部分: 基本材料
2025-04-28 15:34:06,636 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:34:06,636 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:34:06,636 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:34:06,636 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:34:06,637 - app - DEBUG - 部分: 财力证明
2025-04-28 15:34:06,637 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:34:06,637 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:34:06,637 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:34:06,637 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:34:06,637 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:34:06,637 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:34:06,637 - app - DEBUG - 部分: 其他材料
2025-04-28 15:34:06,637 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:34:06,637 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-28 15:34:06,637 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:34:06,637 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:34:06,637 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:34:06,637 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:34:06,637 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:34:06,638 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:34:06,639 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:34:06,640 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:34:06,640 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: TAX
2025-04-28 15:34:06,640 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:34:06,640 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:34:06,640 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:34:06,640 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:34:06,641 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmppt04a0r0.html
2025-04-28 15:34:06,641 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:34:06,665 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:34:06,666 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:34:06,874 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:34:06,874 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:34:06,874 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:34:06] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:35:11,079 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "FAMILY", "visaType": "THREE", "processType": "TAX"}
2025-04-28 15:35:11,079 - app - INFO - 家庭申请，家庭成员数量: 1
2025-04-28 15:35:11,079 - app - INFO - 家庭成员1: 居住地=beijing, 户籍地=shanghai
2025-04-28 15:35:11,079 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:35:11,079 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-28 15:35:11,079 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-28 15:35:11,079 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-28 15:35:11,080 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-28 15:35:11,080 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:35:11,080 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:35:11,080 - app - INFO - 生成的居住证明材料:
2025-04-28 15:35:11,080 - app - INFO -   主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-28 15:35:11,080 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:35:11,080 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:35:11,080 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:35:11,080 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:35:11] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:35:13,037 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyMembers': '[{"relation":"PARENT","identityType":"EMPLOYED","residenceConsulate":"beijing","hukouConsulate":"shanghai","number":1}]'}
2025-04-28 15:35:13,037 - app - DEBUG - 处理家庭申请: 家庭成员数据类型 <class 'list'>
2025-04-28 15:35:13,037 - app - DEBUG - 家庭成员数量: 1
2025-04-28 15:35:13,038 - app - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-28 15:35:13,038 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'FAMILY', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyMembers': [{'relation': 'PARENT', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}]}
2025-04-28 15:35:13,038 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:35:13,038 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-28 15:35:13,038 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=FAMILY
2025-04-28 15:35:13,038 - document_generator.residence_materials - DEBUG - 处理家庭成员: 家庭成员1, residence=beijing, hukou=shanghai
2025-04-28 15:35:13,038 - document_generator.residence_materials - INFO - 家庭成员需要居住证明: 家庭成员1
2025-04-28 15:35:13,038 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:35:13,038 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:35:13,038 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '家属材料': ['1.基本材料内的1、2、3、4项目', '2.与主申请人的关系证明'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:35:13,038 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:35:13,039 - app - DEBUG - 部分: 基本信息
2025-04-28 15:35:13,039 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:35:13,039 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:35:13,039 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:35:13,039 - app - DEBUG - 部分: 基本材料
2025-04-28 15:35:13,039 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:35:13,039 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:35:13,039 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:35:13,039 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:35:13,039 - app - DEBUG - 部分: 财力证明
2025-04-28 15:35:13,039 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:35:13,039 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:35:13,039 - app - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-28 15:35:13,039 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:35:13,039 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:35:13,040 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:35:13,040 - app - DEBUG - 部分: 家属材料
2025-04-28 15:35:13,040 - app - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-28 15:35:13,040 - app - DEBUG -   - 2.与主申请人的关系证明
2025-04-28 15:35:13,040 - app - DEBUG - 部分: 其他材料
2025-04-28 15:35:13,040 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG - 家庭申请: 找到家庭成员数量: 1
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG - 家庭成员数据类型: <class 'list'>
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG - 家庭成员 1: {'relation': 'PARENT', 'identityType': 'EMPLOYED', 'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'number': 1}
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:35:13,040 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 主申请人, 家庭成员1需要提供以下居住证明材料（选择一种即可）：
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:35:13,041 - document_generator.pdf_generator - DEBUG - 部分: 家属材料
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG -   - 1.基本材料内的1、2、3、4项目
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG -   - 2.与主申请人的关系证明
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: TAX
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:35:13,042 - document_generator.pdf_generator - DEBUG - 家庭申请布局: 找到 1 个家庭成员
2025-04-28 15:35:13,043 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpw9v63kq9.html
2025-04-28 15:35:13,043 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:35:13,068 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:35:13,068 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:35:13,299 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:35:13,300 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:35:13,300 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:35:13] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:37:42,119 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:37:42,232 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:37:42,804 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:37:42,809 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:37:42,812 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:38:07,930 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:38:08,000 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:38:08,532 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:38:08,537 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:38:08,539 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:38:15,873 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "SINGLE", "visaType": "THREE", "processType": "TAX"}
2025-04-28 15:38:15,873 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:38:15,874 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-28 15:38:15,874 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:38:15,874 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:38:15,874 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:38:15,874 - app - INFO - 生成的居住证明材料:
2025-04-28 15:38:15,874 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:38:15,874 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:38:15,874 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:38:15,874 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:38:15,875 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:38:15] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:38:26,098 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:38:26,098 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'SINGLE', 'processType': 'TAX', 'visaType': 'THREE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:38:26,098 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:38:26,098 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['税单办理：显示年纳税大于2.8万的税单（北京领区）']
2025-04-28 15:38:26,098 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=SINGLE
2025-04-28 15:38:26,098 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:38:26,098 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:38:26,098 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['税单办理：显示年纳税大于2.8万的税单（北京领区）'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片']})
2025-04-28 15:38:26,098 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:38:26,099 - app - DEBUG - 部分: 基本信息
2025-04-28 15:38:26,099 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:38:26,099 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:38:26,099 - app - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:38:26,099 - app - DEBUG - 部分: 基本材料
2025-04-28 15:38:26,099 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:38:26,099 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:38:26,099 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:38:26,099 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:38:26,099 - app - DEBUG - 部分: 财力证明
2025-04-28 15:38:26,099 - app - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:38:26,099 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:38:26,099 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:38:26,099 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:38:26,099 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:38:26,100 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:38:26,100 - app - DEBUG - 部分: 其他材料
2025-04-28 15:38:26,100 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=三年多次签证, 身份=在职人员, 领区=北京
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 申请类型: 三年多次往返签证
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:38:26,100 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG - PDF生成的经济材料选项: None
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: TAX
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG -   - 税单办理：显示年纳税大于2.8万的税单（北京领区）
2025-04-28 15:38:26,101 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:38:26,102 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:38:26,102 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpk1immb0f.html
2025-04-28 15:38:26,102 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:38:26,184 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:38:26,185 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:38:26,429 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:38:26,430 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:38:26,430 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:38:26] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:42:23,657 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "ECONOMIC", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 15:42:23,657 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:42:23,657 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-28 15:42:23,658 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-28 15:42:23,658 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:42:23,658 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:42:23,658 - app - INFO - 生成的居住证明材料:
2025-04-28 15:42:23,658 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:42:23,658 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:42:23,658 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:42:23,658 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:42:23,658 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:42:23] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:42:25,505 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:42:25,505 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:42:25,505 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:42:25,506 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:42:25] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:42:30,318 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:42:30,318 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:42:30,318 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:42:30,318 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:42:30] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:42:46,815 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "BINDING", "visaType": "THREE", "processType": "NORMAL"}
2025-04-28 15:42:46,815 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-28 15:42:46,816 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:42:46,816 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:42:46,816 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:42:46,816 - app - INFO - 生成的居住证明材料:
2025-04-28 15:42:46,816 - app - INFO -   外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:42:46,816 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:42:46,816 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:42:46,816 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:42:46,816 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:42:46] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:42:50,739 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:42:50,739 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'BINDING', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false', 'familyRelation': 'PARENT', 'familyVisaType': 'THREE'}
2025-04-28 15:42:50,739 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）']
2025-04-28 15:42:50,739 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=BINDING
2025-04-28 15:42:50,740 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:42:50,740 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:42:50,740 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 申请人是三年多次往返签证持有人的父母', '家属签证类型: 三年多次往返签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）', '签证持有人的护照首页复印件 + 签证页复印件', '与签证持有人的关系证明材料（子女出生证明/户口本）'], '财力证明': ['签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）'], '居住证明材料': ['外领区户籍需提供以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:42:50,740 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:42:50,740 - app - DEBUG - 部分: 基本信息
2025-04-28 15:42:50,740 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:42:50,740 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:42:50,740 - app - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-28 15:42:50,740 - app - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-28 15:42:50,740 - app - DEBUG - 部分: 基本材料
2025-04-28 15:42:50,740 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:42:50,740 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:42:50,740 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:42:50,741 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:42:50,741 - app - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-28 15:42:50,741 - app - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-28 15:42:50,741 - app - DEBUG - 部分: 财力证明
2025-04-28 15:42:50,741 - app - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:42:50,741 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:42:50,741 - app - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:42:50,741 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:42:50,741 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:42:50,741 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:42:50,741 - app - DEBUG - 部分: 其他材料
2025-04-28 15:42:50,741 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:42:50,741 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:42:50,741 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:42:50,741 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 申请类型: 申请人是三年多次往返签证持有人的父母
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 家属签证类型: 三年多次往返签证
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:42:50,742 - document_generator.pdf_generator - DEBUG -   - 签证持有人的护照首页复印件 + 签证页复印件
2025-04-28 15:42:50,743 - document_generator.pdf_generator - DEBUG -   - 与签证持有人的关系证明材料（子女出生证明/户口本）
2025-04-28 15:42:50,743 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:42:50,743 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:42:50,743 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 外领区户籍需提供以下居住证明材料（选择一种即可）：
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG - 绑签申请不需要经济材料选项
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG -   - 签证持有人的财力证明材料（能够确认年收入的存款/理财证明或税单）
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:42:50,744 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:42:50,745 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpr7aconcb.html
2025-04-28 15:42:50,745 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:42:50,775 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:42:50,776 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:42:51,012 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:42:51,013 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:42:51,013 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:42:51] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:43:06,815 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:06] "GET / HTTP/1.1" 200 -
2025-04-28 15:43:06,878 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 15:43:07,674 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:07] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 15:43:17,654 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:43:17,661 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.2.24.4:5000
2025-04-28 15:43:17,662 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-28 15:43:17,663 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:43:18,221 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:43:18,227 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:43:18,229 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:43:19,808 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:19] "GET / HTTP/1.1" 200 -
2025-04-28 15:43:19,871 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:19] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-04-28 15:43:20,254 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:20] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-04-28 15:43:27,792 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "ECONOMIC", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 15:43:27,792 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:43:27,793 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-28 15:43:27,793 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-28 15:43:27,793 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:43:27,793 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:43:27,793 - app - INFO - 生成的居住证明材料:
2025-04-28 15:43:27,793 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:43:27,793 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:43:27,793 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:43:27,793 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:43:27,794 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:43:31,877 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:43:31,877 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:43:31,877 - app - WARNING - PDF请求缺少经济材料类型字段
2025-04-28 15:43:31,877 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:43:31] "[31m[1mPOST /api/generate_pdf HTTP/1.1[0m" 400 -
2025-04-28 15:44:49,621 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:44:49,729 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:44:50,339 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:44:50,344 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:44:50,347 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:45:06,424 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/document_generator/pdf_generator.py', reloading
2025-04-28 15:45:06,496 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:45:07,059 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:45:07,065 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:45:07,068 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:45:22,144 - werkzeug - INFO -  * Detected change in '/home/ubuntu/VASEN/GOOD/app.py', reloading
2025-04-28 15:45:22,218 - werkzeug - INFO -  * Restarting with stat
2025-04-28 15:45:22,752 - document_generator.pdf_generator - DEBUG - wkhtmltopdf已安装
2025-04-28 15:45:22,757 - werkzeug - WARNING -  * Debugger is active!
2025-04-28 15:45:22,759 - werkzeug - INFO -  * Debugger PIN: 131-038-570
2025-04-28 15:45:27,498 - app - INFO - 收到材料清单生成请求: {"residence": "beijing", "hukou": "shanghai", "applicationType": "ECONOMIC", "visaType": "SINGLE", "processType": "NORMAL"}
2025-04-28 15:45:27,499 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:45:27,499 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-28 15:45:27,499 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-28 15:45:27,499 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:45:27,499 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:45:27,499 - app - INFO - 生成的居住证明材料:
2025-04-28 15:45:27,499 - app - INFO -   以下居住证明材料（选择一种即可）：
2025-04-28 15:45:27,499 - app - INFO -   1. 派出所开具的居住证确认单（原件）
2025-04-28 15:45:27,499 - app - INFO -   2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:45:27,499 - app - INFO -   3. 居住证卡片原件（需提供原件）
2025-04-28 15:45:27,500 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:45:27] "POST /api/generate HTTP/1.1" 200 -
2025-04-28 15:45:33,249 - app - DEBUG - 收到PDF生成请求，原始表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:45:33,249 - app - DEBUG - 处理后的表单数据: {'residenceConsulate': 'beijing', 'hukouConsulate': 'shanghai', 'identityType': 'EMPLOYED', 'applicationType': 'ECONOMIC', 'processType': 'NORMAL', 'visaType': 'SINGLE', 'previousVisit': 'true', 'isUrgent': 'false'}
2025-04-28 15:45:33,249 - document_generator.basic_materials - DEBUG - 生成基本材料: ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）']
2025-04-28 15:45:33,249 - document_generator.financial_materials - DEBUG - 生成财力证明材料: ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明']
2025-04-28 15:45:33,249 - document_generator.residence_materials - DEBUG - 处理居住证明材料: residence=beijing, hukou=shanghai, type=ECONOMIC
2025-04-28 15:45:33,249 - document_generator.residence_materials - DEBUG - 生成的居住证明材料: ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）']
2025-04-28 15:45:33,249 - document_generator.main - DEBUG - 生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:45:33,249 - app - DEBUG - 为PDF生成的材料清单: OrderedDict({'基本信息': ['居住地领区: 北京', '户籍所在地领区: 上海', '申请类型: 单次签证'], '基本材料': ['护照原件（剩余有效期大于7个月）', '签证申请表 + 小两寸白底证件照（近期3个月内拍摄）', '个人信息处理同意书 + 签证状态确认书', '户口本复印件（家庭户：户首页 + 本人页）'], '财力证明': ['使用直系亲属的经济材料（存款/理财证明、税单等）', '需提供关系证明'], '居住证明材料': ['以下居住证明材料（选择一种即可）：', '1. 派出所开具的居住证确认单（原件）', '2. 工作居住证确认单（可复印或扫描）', '3. 居住证卡片原件（需提供原件）'], '其他材料': ['1. 和纸质照片一致的电子版照片', '2. 近一年的个人所得税税单（从去年到今年相同月份）', '3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件']})
2025-04-28 15:45:33,249 - app - DEBUG - 详细材料清单内容:
2025-04-28 15:45:33,250 - app - DEBUG - 部分: 基本信息
2025-04-28 15:45:33,250 - app - DEBUG -   - 居住地领区: 北京
2025-04-28 15:45:33,250 - app - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:45:33,250 - app - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:45:33,250 - app - DEBUG - 部分: 基本材料
2025-04-28 15:45:33,250 - app - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:45:33,250 - app - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:45:33,250 - app - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:45:33,250 - app - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:45:33,250 - app - DEBUG - 部分: 财力证明
2025-04-28 15:45:33,250 - app - DEBUG -   - 使用直系亲属的经济材料（存款/理财证明、税单等）
2025-04-28 15:45:33,250 - app - DEBUG -   - 需提供关系证明
2025-04-28 15:45:33,250 - app - DEBUG - 部分: 居住证明材料
2025-04-28 15:45:33,250 - app - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:45:33,250 - app - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:45:33,250 - app - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:45:33,250 - app - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:45:33,251 - app - DEBUG - 部分: 其他材料
2025-04-28 15:45:33,251 - app - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:45:33,251 - app - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:45:33,251 - app - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG - PDF模板数据: 申请人=未命名申请人, 签证类型=单次签证, 身份=在职人员, 领区=北京
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG - 生成PDF的材料清单详情:
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG - 部分: 基本信息
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG -   - 居住地领区: 北京
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG -   - 户籍所在地领区: 上海
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG -   - 申请类型: 单次签证
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG - 部分: 基本材料
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG -   - 护照原件（剩余有效期大于7个月）
2025-04-28 15:45:33,251 - document_generator.pdf_generator - DEBUG -   - 签证申请表 + 小两寸白底证件照（近期3个月内拍摄）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 个人信息处理同意书 + 签证状态确认书
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 户口本复印件（家庭户：户首页 + 本人页）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG - 部分: 财力证明
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 使用直系亲属的经济材料（存款/理财证明、税单等）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 需提供关系证明
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG - 部分: 居住证明材料
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 以下居住证明材料（选择一种即可）：
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 1. 派出所开具的居住证确认单（原件）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 2. 工作居住证确认单（可复印或扫描）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 3. 居住证卡片原件（需提供原件）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG - 部分: 其他材料
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 1. 和纸质照片一致的电子版照片
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 2. 近一年的个人所得税税单（从去年到今年相同月份）
2025-04-28 15:45:33,252 - document_generator.pdf_generator - DEBUG -   - 3. 如果税单右下角盖章是在外领区，需要额外提供领区内的营业执照副本复印件
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG - 经济材料申请不需要经济材料选项
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG - PDF生成的处理方式: NORMAL
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG - 实际PDF财力证明内容:
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG -   - 使用直系亲属的经济材料（存款/理财证明、税单等）
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG -   - 需提供关系证明
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG - _generate_applicant_details接收到的form_data类型: <class 'dict'>
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG - 访问日本状态: true, 类型: <class 'str'>
2025-04-28 15:45:33,253 - document_generator.pdf_generator - DEBUG - 已保存HTML到临时文件: /tmp/tmpdif5nswl.html
2025-04-28 15:45:33,254 - document_generator.pdf_generator - DEBUG - 尝试使用WeasyPrint直接生成PDF
2025-04-28 15:45:33,345 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 72:13, unknown property.
2025-04-28 15:45:33,346 - weasyprint - WARNING - Ignored `box-shadow: 0 2px 5px rgba(0,0,0,0.1)` at 86:13, unknown property.
2025-04-28 15:45:33,613 - document_generator.pdf_generator - DEBUG - WeasyPrint直接生成PDF成功
2025-04-28 15:45:33,614 - app - DEBUG - PDF生成成功，文件名: visa_document_list_20250428.pdf
2025-04-28 15:45:33,614 - werkzeug - INFO - 124.64.23.8 - - [28/Apr/2025 15:45:33] "POST /api/generate_pdf HTTP/1.1" 200 -
2025-04-28 15:46:14,396 - werkzeug - ERROR - 92.255.85.113 - - [28/Apr/2025 15:46:14] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
2025-04-28 15:46:14,397 - werkzeug - INFO - 92.255.85.113 - - [28/Apr/2025 15:46:14] "[31m[1m  /*à     Cookie: mstshash=Administr[0m" 400 -
